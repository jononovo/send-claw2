XSS Vulnerability: Unsafe DOM Manipulation. User controlled data in methods like `innerHTML`, `outerHTML` or `document.write` is an anti-pattern that can lead to XSS vulnerabilities. Replace with safe DOM methods: Use createElement() + appendChild() + textContent for dynamic content. Avoid use innerHTML with user data: Even escaped data can be risky. If HTML injection is absolutely necessary: Sanitize with DOMPurify library first.
XSS Vulnerability: Unsafe DOM Manipulation. User controlled data in methods like `innerHTML`, `outerHTML` or `document.write` is an anti-pattern that can lead to XSS vulnerabilities. Replace with safe DOM methods: Use createElement() + appendChild() + textContent for dynamic content. Avoid use innerHTML with user data: Even escaped data can be risky. If HTML injection is absolutely necessary: Sanitize with DOMPurify library first.
static/js/chat-overlay.js
    this.container.innerHTML = `
      <div class="form-modal">
        <div class="form-header">
          <h2 class="form-title">Let's get to know your business</h2>
          <p class="form-subtitle">Just 3 quick questions to create your strategy</p>
          <div class="form-progress">
            ${[1, 2, 3].map(step => `
              <div class="progress-dot ${step <= this.currentStep ? 'active' : ''}"></div>
            `).join('')}
          </div>
        </div>
        
        <div class="form-content">
          <div class="form-question">${currentQuestion.title}</div>
          <p style="color: #64748b; margin-bottom: 20px; font-size: 14px;">${currentQuestion.subtitle}</p>
          
          ${currentQuestion.type === 'textarea' ? `
            <textarea 
              class="form-textarea" 
              placeholder="${currentQuestion.placeholder}"
              id="form-input"
            >${currentValue || ''}</textarea>
          ` : `
            <input 
              type="text" 
              class="form-input" 
              placeholder="${currentQuestion.placeholder}"
              id="form-input"
              value="${currentValue || ''}"
            />
          `}
          
          <div class="form-actions">
            ${this.currentStep > 1 ? `
              <button class="form-btn form-btn-secondary" onclick="chatOverlay.previousStep()">
                Back
              </button>
            ` : `
              <button class="form-btn form-btn-secondary" onclick="chatOverlay.setState('hidden')">
                Cancel
              </button>
            `}
            
            <button 
              class="form-btn form-btn-primary" 
              onclick="chatOverlay.nextStep()"
              ${!isValid ? 'disabled' : ''}
            >
              ${this.currentStep === 3 ? 'Start Chat' : 'Next'}
            </button>
          </div>
        </div>
      </div>
    `;
