(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7486,e=>{"use strict";let s=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>s],7486)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},98919,e=>{"use strict";let s=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],98919)},82293,e=>{"use strict";let s=(0,e.i(75254).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>s],82293)},78894,e=>{"use strict";let s=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},73884,e=>{"use strict";let s=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},78203,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(66027),i=e.i(4766),l=e.i(6625),n=e.i(38785),r=e.i(92590),d=e.i(61911),c=e.i(7486),m=e.i(82293),h=e.i(63488),x=e.i(3116),o=e.i(69638),u=e.i(73884),j=e.i(78894),p=e.i(16715),f=e.i(31343),N=e.i(98919),C=e.i(78583),v=e.i(25652),g=e.i(94318),y=e.i(18566);function k(){let{user:e}=(0,g.useAuth)(),k=(0,y.useRouter)(),{data:w,isLoading:b,error:T,refetch:M}=(0,t.useQuery)({queryKey:["/api/admin/stats"],enabled:!!e,refetchInterval:3e4});return((0,a.useEffect)(()=>{T&&403===T.status&&(console.log("Access denied - not an admin"),k.push("/"))},[T,setLocation]),b)?(0,s.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)(p.RefreshCw,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):T?(0,s.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,s.jsx)(i.Card,{className:"max-w-2xl mx-auto",children:(0,s.jsx)(i.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(N.Shield,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),(0,s.jsx)(l.Button,{onClick:()=>k.push("/"),children:"Return to Home"})]})})})}):(0,s.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"System overview and management tools"})]}),(0,s.jsxs)(l.Button,{onClick:()=>M(),variant:"outline",size:"sm",children:[(0,s.jsx)(p.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Total Users"}),(0,s.jsx)(d.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:w?.users.totalUsers||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w?.users.adminUsers||0," admins, ",w?.users.guestUsers||0," guests"]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Companies"}),(0,s.jsx)(c.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:w?.data.companies||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total companies in database"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Contacts"}),(0,s.jsx)(m.UserCheck,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:w?.data.contacts||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w?.data.contactsWithEmail||0," with emails"]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Emails Today"}),(0,s.jsx)(h.Mail,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:w?.outreach.emailsSentToday||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w?.outreach.emailsSentThisWeek||0," this week"]})]})]})]}),(0,s.jsxs)(r.Tabs,{defaultValue:"overview",className:"space-y-4",children:[(0,s.jsxs)(r.TabsList,{children:[(0,s.jsx)(r.TabsTrigger,{value:"overview",children:"Overview"}),(0,s.jsx)(r.TabsTrigger,{value:"users",onClick:()=>k.push("/admin/users"),children:"Users"}),(0,s.jsx)(r.TabsTrigger,{value:"email",onClick:()=>k.push("/admin/email"),children:"Email & Outreach"}),(0,s.jsx)(r.TabsTrigger,{value:"testing",onClick:()=>k.push("/admin/testing"),children:"API Testing"})]}),(0,s.jsxs)(r.TabsContent,{value:"overview",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Outreach Jobs Status"}),(0,s.jsx)(i.CardDescription,{children:"Current state of scheduled email jobs"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Clock,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Scheduled"})]}),(0,s.jsx)(n.Badge,{variant:"secondary",children:w?.jobs.scheduled||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.RefreshCw,{className:"h-4 w-4 text-orange-600 animate-spin"}),(0,s.jsx)("span",{className:"text-sm",children:"Running"})]}),(0,s.jsx)(n.Badge,{variant:"outline",children:w?.jobs.running||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.CheckCircle,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Completed"})]}),(0,s.jsx)(n.Badge,{children:w?.jobs.completed||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.XCircle,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-sm",children:"Failed"})]}),(0,s.jsx)(n.Badge,{variant:"destructive",children:w?.jobs.failed||0})]})]})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Email Activity"}),(0,s.jsx)(i.CardDescription,{children:"Outreach campaign performance"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Today"}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:w?.outreach.emailsSentToday||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"This Week"}),(0,s.jsx)("span",{className:"text-lg",children:w?.outreach.emailsSentThisWeek||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"This Month"}),(0,s.jsx)("span",{className:"text-lg",children:w?.outreach.emailsSentThisMonth||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Batches (Week)"}),(0,s.jsx)("span",{className:"text-lg",children:w?.outreach.batchesThisWeek||0})]})]})})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Quick Actions"}),(0,s.jsx)(i.CardDescription,{children:"Common administrative tasks"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(l.Button,{onClick:()=>k.push("/admin/users"),variant:"outline",size:"sm",children:[(0,s.jsx)(d.Users,{className:"h-4 w-4 mr-2"}),"Manage Users"]}),(0,s.jsxs)(l.Button,{onClick:()=>k.push("/admin/email"),variant:"outline",size:"sm",children:[(0,s.jsx)(h.Mail,{className:"h-4 w-4 mr-2"}),"Email Testing"]}),(0,s.jsxs)(l.Button,{onClick:()=>k.push("/admin/templates"),variant:"outline",size:"sm",children:[(0,s.jsx)(C.FileText,{className:"h-4 w-4 mr-2"}),"Email Templates"]}),(0,s.jsxs)(l.Button,{onClick:()=>k.push("/admin/testing"),variant:"outline",size:"sm",children:[(0,s.jsx)(f.Play,{className:"h-4 w-4 mr-2"}),"Run Tests"]}),(0,s.jsxs)(l.Button,{onClick:()=>k.push("/testing"),variant:"outline",size:"sm",children:[(0,s.jsx)(j.AlertTriangle,{className:"h-4 w-4 mr-2"}),"System Health"]}),(0,s.jsxs)(l.Button,{onClick:()=>k.push("/admin/attribution"),variant:"outline",size:"sm",children:[(0,s.jsx)(v.TrendingUp,{className:"h-4 w-4 mr-2"}),"Ads Attribution"]})]})})]})]})]})]})})}e.s(["default",()=>k])},39886,e=>{e.n(e.i(78203))}]);