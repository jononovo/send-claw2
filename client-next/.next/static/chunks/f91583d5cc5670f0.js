(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63727,e=>{"use strict";let s=(0,e.i(75254).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>s],63727)},72520,e=>{"use strict";let s=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],72520)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},88844,e=>{"use strict";let s=(0,e.i(75254).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],88844)},65582,e=>{"use strict";let s=(0,e.i(75254).default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);e.s(["ThumbsDown",()=>s],65582)},38263,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(81140),i=e.i(20783),r=e.i(30030),l=e.i(48425),n=e.i(42727),c=e.i(69340),d=e.i(13954),o=e.i(35804),m=e.i(99682),u=e.i(96626),p="Radio",[x,h]=(0,r.createContextScope)(p),[g,j]=x(p),f=a.forwardRef((e,r)=>{let{__scopeRadio:n,name:c,checked:d=!1,required:o,disabled:m,value:u="on",onCheck:p,form:x,...h}=e,[j,f]=a.useState(null),v=(0,i.useComposedRefs)(r,e=>f(e)),y=a.useRef(!1),w=!j||x||!!j.closest("form");return(0,s.jsxs)(g,{scope:n,checked:d,disabled:m,children:[(0,s.jsx)(l.Primitive.button,{type:"button",role:"radio","aria-checked":d,"data-state":b(d),"data-disabled":m?"":void 0,disabled:m,value:u,...h,ref:v,onClick:(0,t.composeEventHandlers)(e.onClick,e=>{d||p?.(),w&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),w&&(0,s.jsx)(N,{control:j,bubbles:!y.current,name:c,value:u,checked:d,required:o,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});f.displayName=p;var v="RadioIndicator",y=a.forwardRef((e,a)=>{let{__scopeRadio:t,forceMount:i,...r}=e,n=j(v,t);return(0,s.jsx)(u.Presence,{present:i||n.checked,children:(0,s.jsx)(l.Primitive.span,{"data-state":b(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a})})});y.displayName=v;var N=e=>{let{control:t,checked:i,bubbles:r=!0,...l}=e,n=a.useRef(null),c=(0,m.usePrevious)(i),d=(0,o.useSize)(t);return a.useEffect(()=>{let e=n.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==i&&s){let a=new Event("click",{bubbles:r});s.call(e,i),e.dispatchEvent(a)}},[c,i,r]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:n,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return e?"checked":"unchecked"}var w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[k,P]=(0,r.createContextScope)(C,[n.createRovingFocusGroupScope,h]),S=(0,n.createRovingFocusGroupScope)(),D=h(),[R,T]=k(C),F=a.forwardRef((e,a)=>{let{__scopeRadioGroup:t,name:i,defaultValue:r,value:o,required:m=!1,disabled:u=!1,orientation:p,dir:x,loop:h=!0,onValueChange:g,...j}=e,f=S(t),v=(0,d.useDirection)(x),[y,N]=(0,c.useControllableState)({prop:o,defaultProp:r,onChange:g});return(0,s.jsx)(R,{scope:t,name:i,required:m,disabled:u,value:y,onValueChange:N,children:(0,s.jsx)(n.Root,{asChild:!0,...f,orientation:p,dir:v,loop:h,children:(0,s.jsx)(l.Primitive.div,{role:"radiogroup","aria-required":m,"aria-orientation":p,"data-disabled":u?"":void 0,dir:v,...j,ref:a})})})});F.displayName=C;var I="RadioGroupItem",E=a.forwardRef((e,r)=>{let{__scopeRadioGroup:l,disabled:c,...d}=e,o=T(I,l),m=o.disabled||c,u=S(l),p=D(l),x=a.useRef(null),h=(0,i.useComposedRefs)(r,x),g=o.value===d.value,j=a.useRef(!1);return a.useEffect(()=>{let e=e=>{w.includes(e.key)&&(j.current=!0)},s=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,s.jsx)(n.Item,{asChild:!0,...u,focusable:!m,active:g,children:(0,s.jsx)(f,{disabled:m,required:o.required,checked:g,...p,...d,name:o.name,ref:h,onCheck:()=>o.onValueChange(d.value),onKeyDown:(0,t.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,t.composeEventHandlers)(d.onFocus,()=>{j.current&&x.current?.click()})})})});E.displayName=I;var B=a.forwardRef((e,a)=>{let{__scopeRadioGroup:t,...i}=e,r=D(t);return(0,s.jsx)(y,{...r,...i,ref:a})});B.displayName="RadioGroupIndicator";var A=e.i(14683),L=e.i(52301);let q=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(F,{className:(0,L.cn)("grid gap-2",e),...a,ref:t}));q.displayName=F.displayName;let z=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(E,{ref:t,className:(0,L.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,s.jsx)(B,{className:"flex items-center justify-center",children:(0,s.jsx)(A.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));z.displayName=E.displayName,e.s(["RadioGroup",()=>q,"RadioGroupItem",()=>z],38263)},48819,39813,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(54616),i=e.i(84923),r=e.i(58260),l=e.i(84589),n=e.i(6625),c=e.i(32076),d=e.i(37880),o=e.i(90250),m=e.i(38263),u=e.i(72520),p=e.i(71689),x=e.i(69638),h=e.i(9912),g=e.i(88844),j=e.i(63727);function f({open:e,onClose:f,onComplete:v}){let{toast:y}=(0,r.useToast)(),[N,b]=(0,a.useState)(1),[w,C]=(0,a.useState)({businessType:"product",productService:"",customerFeedback:"",website:""}),k=(0,t.useMutation)({mutationFn:async e=>(await (0,i.apiRequest)("POST","/api/strategic-profiles/quick-setup",{businessType:e.businessType,productService:e.productService,customerFeedback:e.customerFeedback,website:e.website,title:e.productService.slice(0,50)})).json(),onSuccess:async e=>{let s=e?.profile?.id||e?.id;await (0,i.apiRequest)("PUT","/api/daily-outreach/preferences",{enabled:!0,minContactsRequired:5,activeStrategicProfileId:s}),y({title:"Success!",description:"Your product has been added and is now active."}),i.queryClient.invalidateQueries({queryKey:["/api/products"]}),i.queryClient.invalidateQueries({queryKey:["/api/daily-outreach/preferences"]}),i.queryClient.invalidateQueries({queryKey:["/api/daily-outreach/streak-stats"]}),v(s),P()},onError:()=>{y({title:"Error",description:"Failed to save your product information. Please try again.",variant:"destructive"})}}),P=()=>{b(1),C({businessType:"product",productService:"",customerFeedback:"",website:""}),f()};return(0,s.jsx)(l.Dialog,{open:e,onOpenChange:P,children:(0,s.jsxs)(l.DialogContent,{className:"sm:max-w-[500px]",children:[(()=>{switch(N){case 1:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"Let's activate your daily sales companion"}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"First, tell us what you offer"})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)(m.RadioGroup,{value:w.businessType,onValueChange:e=>C(s=>({...s,businessType:e})),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-secondary cursor-pointer",children:[(0,s.jsx)(m.RadioGroupItem,{value:"product",id:"product"}),(0,s.jsxs)(c.Label,{htmlFor:"product",className:"flex items-center gap-3 cursor-pointer flex-1",children:[(0,s.jsx)(g.Package,{className:"h-5 w-5 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:"Product"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Physical or digital products"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-secondary cursor-pointer",children:[(0,s.jsx)(m.RadioGroupItem,{value:"service",id:"service"}),(0,s.jsxs)(c.Label,{htmlFor:"service",className:"flex items-center gap-3 cursor-pointer flex-1",children:[(0,s.jsx)(j.Briefcase,{className:"h-5 w-5 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:"Service"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Professional or business services"})]})]})]})]})})]});case 2:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsxs)(l.DialogTitle,{className:"text-2xl",children:["Describe your ",w.businessType]}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"Give us a one-liner about what you offer"})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"product-service",children:["Your ",w.businessType," in one sentence"]}),(0,s.jsx)(o.Textarea,{id:"product-service",value:w.productService,onChange:e=>C(s=>({...s,productService:e.target.value})),placeholder:"product"===w.businessType?"e.g., AI-powered email automation tool that helps sales teams close more deals":"e.g., Digital marketing agency specializing in B2B lead generation",className:"min-h-[100px]"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"This helps us craft personalized outreach messages"})]})})]});case 3:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"What do customers love?"}),(0,s.jsxs)(l.DialogDescription,{className:"text-base",children:["Share what people appreciate most about your ",w.businessType]})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"customer-feedback",children:"Customer feedback"}),(0,s.jsx)(o.Textarea,{id:"customer-feedback",value:w.customerFeedback,onChange:e=>C(s=>({...s,customerFeedback:e.target.value})),placeholder:"product"===w.businessType?"e.g., Easy to use, saves 10 hours per week, great customer support":"e.g., Professional team, delivers results quickly, transparent pricing",className:"min-h-[100px]"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"This helps highlight your strengths in outreach"})]})})]});case 4:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"Almost done!"}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"Add a link for more information (optional)"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"website",children:"Website or landing page"}),(0,s.jsx)(d.Input,{id:"website",type:"url",value:w.website,onChange:e=>C(s=>({...s,website:e.target.value})),placeholder:"https://yourwebsite.com"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional - Include a link prospects can visit"})]}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-primary/10 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-primary mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Ready to activate!"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Once activated, you'll receive 5 personalized leads every day at your scheduled time."})]})]})})]})]})}})(),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,s.jsx)("div",{className:"flex gap-2",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:`h-2 w-8 rounded-full transition-colors ${e<=N?"bg-primary":"bg-secondary"}`},e))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[N>1&&(0,s.jsxs)(n.Button,{variant:"outline",onClick:()=>{N>1&&b(N-1)},disabled:k.isPending,children:[(0,s.jsx)(p.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),N<4?(0,s.jsxs)(n.Button,{onClick:()=>{1!==N||w.businessType?2!==N||w.productService.trim()?3!==N||w.customerFeedback.trim()?N<4&&b(N+1):y({title:"Required field",description:"Please share what customers appreciate",variant:"destructive"}):y({title:"Required field",description:"Please describe what you offer",variant:"destructive"}):y({title:"Please select an option",description:"Choose whether you offer a product or service",variant:"destructive"})},children:["Next",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 ml-2"})]}):(0,s.jsx)(n.Button,{onClick:()=>{w.website.trim()||C(e=>({...e,website:""})),k.mutate(w)},disabled:k.isPending,children:k.isPending?(0,s.jsx)(s.Fragment,{children:"Activating..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Rocket,{className:"h-4 w-4 mr-2"}),"Activate Daily Sales"]})})]})]})]})})}e.s(["ProductOnboardingForm",()=>f],48819);var v=e.i(84614);function y({open:e,onClose:o,onComplete:m}){let{toast:h}=(0,r.useToast)(),[g,j]=(0,a.useState)(1),[f,y]=(0,a.useState)({email:"",displayName:"",firstName:"",lastName:"",title:"",company:"",city:"",website:""}),N=(0,t.useMutation)({mutationFn:async e=>{let s=e.displayName||`${e.firstName} ${e.lastName}`.trim()||"Unknown Sender";return(await (0,i.apiRequest)("POST","/api/sender-profiles",{name:s,email:e.email,firstName:e.firstName||e.displayName.split(" ")[0]||"",lastName:e.lastName||e.displayName.split(" ").slice(1).join(" ")||"",title:e.title||"",company:e.company||"",city:e.city||"",website:e.website||"",isDefault:!1})).json()},onSuccess:e=>{i.queryClient.invalidateQueries({queryKey:["/api/sender-profiles"]}),h({title:"Sender profile created",description:"Your sender profile has been saved"}),m&&m(e?.id),b()},onError:()=>{h({title:"Error",description:"Failed to save sender profile",variant:"destructive"})}}),b=()=>{j(1),y({email:"",displayName:"",firstName:"",lastName:"",title:"",company:"",city:"",website:""}),o()},w=()=>{if(1===g){if(!f.email.trim())return void h({title:"Email is required",description:"Please enter your sender email address",variant:"destructive"});if(!f.displayName.trim())return void h({title:"Display name is required",description:"Please enter the name recipients will see",variant:"destructive"});if(!f.email.includes("@"))return void h({title:"Invalid email",description:"Please enter a valid email address",variant:"destructive"})}g<3&&j(g+1)};return(0,s.jsx)(l.Dialog,{open:e,onOpenChange:e=>!e&&b(),children:(0,s.jsxs)(l.DialogContent,{className:"sm:max-w-[500px]",children:[(()=>{switch(g){case 1:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"Set up your sender identity"}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"How will you appear in recipient inboxes?"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"email",children:["Sender Email ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(d.Input,{id:"email",type:"email",value:f.email,onChange:e=>y(s=>({...s,email:e.target.value})),placeholder:"you@company.com","data-testid":"input-sender-email"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"The email address your messages will be sent from"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"display-name",children:["Email Sender Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(d.Input,{id:"display-name",value:f.displayName,onChange:e=>y(s=>({...s,displayName:e.target.value})),placeholder:"John from Acme Corp","data-testid":"input-display-name"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:'What recipients see in their inbox (e.g., "Sarah from TechCo")'})]}),(0,s.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,s.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"✓ This is all you need to create your profile!"}),(0,s.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"You can add more details on the next pages or save now."})]})]})]});case 2:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"Personal details (Optional)"}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"Add more information about yourself"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"first-name",children:"First Name"}),(0,s.jsx)(d.Input,{id:"first-name",value:f.firstName,onChange:e=>y(s=>({...s,firstName:e.target.value})),placeholder:"John","data-testid":"input-first-name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"last-name",children:"Last Name"}),(0,s.jsx)(d.Input,{id:"last-name",value:f.lastName,onChange:e=>y(s=>({...s,lastName:e.target.value})),placeholder:"Doe","data-testid":"input-last-name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"title",children:"Role / Designation"}),(0,s.jsx)(d.Input,{id:"title",value:f.title,onChange:e=>y(s=>({...s,title:e.target.value})),placeholder:"Sales Director, CEO, Founder, etc.","data-testid":"input-title"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your professional title or role"})]})]})]});case 3:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-2xl",children:"Company information (Optional)"}),(0,s.jsx)(l.DialogDescription,{className:"text-base",children:"Add your company details"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"company",children:"Company"}),(0,s.jsx)(d.Input,{id:"company",value:f.company,onChange:e=>y(s=>({...s,company:e.target.value})),placeholder:"Acme Corporation","data-testid":"input-company"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"city",children:"City"}),(0,s.jsx)(d.Input,{id:"city",value:f.city,onChange:e=>y(s=>({...s,city:e.target.value})),placeholder:"San Francisco","data-testid":"input-city"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"website",children:"Company Website"}),(0,s.jsx)(d.Input,{id:"website",type:"url",value:f.website,onChange:e=>y(s=>({...s,website:e.target.value})),placeholder:"https://company.com","data-testid":"input-website"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your company's website URL"})]}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-primary/10 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-primary mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Profile complete!"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Your sender profile is ready to use in email campaigns."})]})]})})]})]})}})(),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,s.jsx)("div",{className:"flex gap-2",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:`h-2 w-8 rounded-full transition-colors ${e<=g?"bg-primary":"bg-secondary"}`},e))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[g>1&&(0,s.jsxs)(n.Button,{variant:"outline",onClick:()=>{j(g-1)},disabled:N.isPending,children:[(0,s.jsx)(p.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),1===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.Button,{variant:"outline",onClick:()=>{N.mutate(f)},disabled:N.isPending||!f.email||!f.displayName,"data-testid":"button-save-basic",children:[(0,s.jsx)(x.CheckCircle,{className:"h-4 w-4 mr-2"}),"Save Basic Profile"]}),(0,s.jsxs)(n.Button,{onClick:w,"data-testid":"button-next",children:["Add More Details",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 ml-2"})]})]}),2===g&&(0,s.jsxs)(n.Button,{onClick:w,"data-testid":"button-next",children:["Next",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 ml-2"})]}),3===g&&(0,s.jsx)(n.Button,{onClick:()=>{N.mutate(f)},disabled:N.isPending,"data-testid":"button-save-profile",children:N.isPending?(0,s.jsx)(s.Fragment,{children:"Saving..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.User,{className:"h-4 w-4 mr-2"}),"Save Sender Profile"]})})]})]})]})})}e.s(["SenderProfileForm",()=>y],39813)},83882,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(54616),i=e.i(18566),r=e.i(84923),l=e.i(58260),n=e.i(6625),c=e.i(4766),d=e.i(20278),o=e.i(37727),m=e.i(75254);let u=(0,m.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);var p=e.i(65582);let x=(0,m.default)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var h=e.i(7486),g=e.i(83086),j=e.i(88511),f=e.i(87957),v=e.i(37880),y=e.i(52301);function N({open:e,onClose:i,onConfirm:m,onRefine:N,searchQuery:b,searchResults:w}){let[C,k]=(0,a.useState)("initial"),[P,S]=(0,a.useState)({}),[D,R]=(0,a.useState)(0),[T,F]=(0,a.useState)([]),[I,E]=(0,a.useState)(""),[B,A]=(0,a.useState)(null),{toast:L}=(0,l.useToast)(),q=(0,t.useMutation)({mutationFn:async()=>{let e=await (0,r.apiRequest)("POST","/api/onboarding/improve-search-prompt",{originalPrompt:b,searchResults:w.map(e=>({name:e.name,description:e.description})),ratings:Object.entries(P).map(([e,s])=>({companyId:parseInt(e),companyName:w.find(s=>s.id===parseInt(e))?.name,rating:s}))});return await e.json()},onSuccess:e=>{F(e.suggestions||[]),k("poor-results")},onError:()=>{L({title:"Error",description:"Failed to generate improved search suggestions. Please try again.",variant:"destructive"}),m()}}),z=(e,s)=>{let a={...P,[e]:s};S(a);let t=w.findIndex((e,s)=>s>D&&!a[e.id]);if(-1!==t)R(t);else if(w.every(e=>a[e.id])){let e=Object.values(a).filter(e=>"perfect"===e).length,s=Object.values(a).filter(e=>"not-fit"===e).length;e<3||s>3?(k("loading-suggestions"),q.mutate()):setTimeout(()=>m(),500)}},O=e=>{A(e),i(),window.location.href=`/?search=${encodeURIComponent(e)}`},M=()=>{I.trim()&&O(I)};return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 z-[100] animate-in fade-in duration-200",onClick:i}),(0,s.jsxs)("div",{className:"fixed inset-0 z-[101] bg-background animate-in fade-in slide-in-from-bottom-4 duration-300",children:[(0,s.jsxs)(n.Button,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 z-50 h-12 w-12 rounded-full bg-background/80 backdrop-blur hover:bg-background",onClick:i,children:[(0,s.jsx)(o.X,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,s.jsx)("div",{className:"h-full w-full overflow-auto",children:(0,s.jsx)("div",{className:"container max-w-5xl mx-auto p-6 md:p-8 pt-16 pb-10",children:"loading-suggestions"===C?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Analyzing your preferences to suggest better search terms..."})]}):"poor-results"===C?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(g.Sparkles,{className:"h-8 w-8 text-primary shrink-0"}),(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"Let's refine your search"})]}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Based on your feedback, here are some improved search prompts that might help find your ideal customers:"}),(0,s.jsxs)("div",{className:"space-y-4",children:[T.map((e,a)=>(0,s.jsx)(c.Card,{className:"p-4 cursor-pointer hover:shadow-md transition-all hover:border-primary",onClick:()=>O(e),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold shrink-0",children:a+1}),(0,s.jsx)("p",{className:"flex-1",children:e})]})},a)),(0,s.jsx)(c.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(j.Edit,{className:"h-5 w-5 text-muted-foreground mt-2 shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)("p",{className:"font-medium",children:"Write your own search"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.Input,{placeholder:"Enter your custom search...",value:I,onChange:e=>E(e.target.value),onKeyDown:e=>"Enter"===e.key&&M()}),(0,s.jsx)(n.Button,{onClick:M,disabled:!I.trim(),children:"Search"})]})]})]})}),(0,s.jsx)(c.Card,{className:"p-4 cursor-pointer hover:shadow-md transition-all border-dashed",onClick:()=>{m()},children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-muted text-muted-foreground",children:"✓"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Keep the existing prompt"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"It's a good example, I'll refine it myself later"})]})]})})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,s.jsx)(d.Target,{className:"h-8 w-8 text-primary shrink-0"}),(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold",children:"Let's confirm your target market"})]}),(0,s.jsxs)("p",{className:"text-muted-foreground mb-6",children:["We found ",w.length," companies matching your search. Before we set up your outreach campaign, let's make sure these are the right prospects."]}),"initial"===C?(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"font-medium text-lg mb-4",children:"Are these the type of companies you want to reach?"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,s.jsx)(n.Button,{size:"lg",variant:"outline",onClick:()=>{i()},className:"flex-1",children:"I want to do a NEW search"}),(0,s.jsx)(n.Button,{size:"lg",onClick:()=>{k("ranking"),R(0)},className:"flex-1",children:"Tell us which results are the best"})]})]}):"ranking"===C&&(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Rate each company to help us find more like your favorites"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[Object.keys(P).length," of ",w.length," companies rated"]})]}),(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>k("initial"),children:"Cancel ranking"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(f.ScrollArea,{className:"h-[calc(100vh-450px)] md:h-[calc(100vh-400px)] border rounded-lg",children:(0,s.jsx)("div",{className:"p-4 space-y-3",children:w.map((e,a)=>(0,s.jsx)(c.Card,{className:(0,y.cn)("p-4 transition-all duration-200","ranking"===C&&a===D&&!P[e.id]&&"ring-2 ring-primary shadow-lg scale-[1.02] bg-primary/5"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(h.Building2,{className:"h-7 w-7 text-muted-foreground mt-0.5 shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-medium mb-1",children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),"ranking"===C&&(0,s.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,s.jsxs)(n.Button,{size:"sm",variant:"perfect"===P[e.id]?"default":"outline",className:(0,y.cn)("flex flex-col items-center gap-1 h-auto py-2 px-3","perfect"===P[e.id]&&"bg-green-500 hover:bg-green-600"),onClick:()=>z(e.id,"perfect"),children:[(0,s.jsx)(u,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs",children:"Perfect fit"})]}),(0,s.jsxs)(n.Button,{size:"sm",variant:"unsure"===P[e.id]?"secondary":"outline",className:"flex flex-col items-center gap-1 h-auto py-2 px-3",onClick:()=>z(e.id,"unsure"),children:[(0,s.jsx)(x,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs",children:"Not sure"})]}),(0,s.jsxs)(n.Button,{size:"sm",variant:"not-fit"===P[e.id]?"destructive":"outline",className:"flex flex-col items-center gap-1 h-auto py-2 px-3",onClick:()=>z(e.id,"not-fit"),children:[(0,s.jsx)(p.ThumbsDown,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs",children:"Not a fit"})]})]})]})},e.id))})})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsx)("span",{className:"font-medium text-sm",children:"Your search:"}),(0,s.jsxs)("span",{className:"text-muted-foreground text-sm ml-2",children:['"',b,'"']})]})})]})})})]})]}):null}var b=e.i(48819),w=e.i(84589),C=e.i(32076),k=e.i(90250),P=e.i(38785),S=e.i(61911),D=e.i(63727),R=e.i(25652),T=e.i(69638);function F({open:e,onClose:t,onConfirm:i,onEdit:r,icpData:l,searchResults:o}){let[m,u]=(0,a.useState)(!1),[p,x]=(0,a.useState)(l||{});return l?(0,s.jsx)(w.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(w.DialogContent,{className:"sm:max-w-[700px]",children:[(0,s.jsxs)(w.DialogHeader,{children:[(0,s.jsxs)(w.DialogTitle,{className:"text-2xl flex items-center gap-2",children:[(0,s.jsx)(g.Sparkles,{className:"h-6 w-6 text-primary"}),"Your Ideal Customer Profile"]}),(0,s.jsx)(w.DialogDescription,{className:"text-base",children:"Based on your product and search results, we've created this customer profile. This will help us find and reach the right prospects for you."})]}),(0,s.jsx)(f.ScrollArea,{className:"max-h-[60vh] pr-4",children:(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(T.CheckCircle,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-green-900 dark:text-green-100",children:"AI-Generated Profile"}),(0,s.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:["We analyzed ",o.length," companies from your search to create this profile"]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(h.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(C.Label,{children:"Industry Focus"})]}),m?(0,s.jsx)(v.Input,{value:p.industry||"",onChange:e=>x({...p,industry:e.target.value}),placeholder:"e.g., Technology, Healthcare"}):(0,s.jsx)("p",{className:"text-sm font-medium",children:l.industry||"Not specified"})]}),(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(S.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(C.Label,{children:"Company Size"})]}),m?(0,s.jsx)(v.Input,{value:p.companySize||"",onChange:e=>x({...p,companySize:e.target.value}),placeholder:"e.g., 50-200 employees"}):(0,s.jsx)("p",{className:"text-sm font-medium",children:l.companySize||"Not specified"})]})]}),(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(D.Briefcase,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(C.Label,{children:"Decision Makers"})]}),m?(0,s.jsx)(k.Textarea,{value:p.targetRoles?.join(", ")||"",onChange:e=>x({...p,targetRoles:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"e.g., CEO, VP Sales, Marketing Director",className:"min-h-[60px]"}):(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:l.targetRoles?.map((e,a)=>(0,s.jsx)(P.Badge,{variant:"secondary",children:e},a))||(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Not specified"})})]}),(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(d.Target,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(C.Label,{children:"Key Pain Points"})]}),m?(0,s.jsx)(k.Textarea,{value:p.painPoints?.join("\n")||"",onChange:e=>x({...p,painPoints:e.target.value.split("\n").filter(Boolean)}),placeholder:"Enter each pain point on a new line",className:"min-h-[80px]"}):(0,s.jsx)("ul",{className:"space-y-1",children:l.painPoints?.map((e,a)=>(0,s.jsxs)("li",{className:"text-sm flex items-start",children:[(0,s.jsx)("span",{className:"mr-2",children:"•"}),(0,s.jsx)("span",{children:e})]},a))||(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Not specified"})})]}),(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(R.TrendingUp,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)(C.Label,{children:"Value Proposition"})]}),m?(0,s.jsx)(k.Textarea,{value:p.valueProposition||"",onChange:e=>x({...p,valueProposition:e.target.value}),placeholder:"How your product solves their problems",className:"min-h-[80px]"}):(0,s.jsx)("p",{className:"text-sm",children:l.valueProposition||"Not specified"})]}),(0,s.jsxs)(c.Card,{className:"p-4",children:[(0,s.jsx)(C.Label,{className:"mb-2 block",children:"Optimized Search Query"}),m?(0,s.jsx)(k.Textarea,{value:p.searchPrompt||"",onChange:e=>x({...p,searchPrompt:e.target.value}),placeholder:"Search query to find similar companies",className:"min-h-[60px]"}):(0,s.jsx)("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:l.searchPrompt||o[0]?.searchQuery||"Not specified"})]})]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>{u(!m),m||x(l||{})},children:m?(0,s.jsx)(s.Fragment,{children:"Cancel Edit"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Edit,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:t,children:"Go Back"}),(0,s.jsx)(n.Button,{onClick:()=>{i(m?p:l||{})},children:m?"Save Changes":"Confirm & Continue"})]})]})]})}):null}var I=e.i(39813),E=e.i(9912),B=e.i(88844),A=e.i(84614),L=e.i(72520);e.i(67073);var q=e.i(31648);function z({open:e,onClose:t,productId:i,customerProfileId:r,senderProfileId:l}){return(0,a.useEffect)(()=>{e&&(0,q.fireCampaignCompleteConfetti)()},[e]),(0,s.jsx)(w.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(w.DialogContent,{className:"sm:max-w-[500px]",children:[(0,s.jsxs)(w.DialogHeader,{children:[(0,s.jsxs)(w.DialogTitle,{className:"text-2xl flex items-center gap-2",children:[(0,s.jsx)(E.Rocket,{className:"h-6 w-6 text-primary"}),"You're all set!"]}),(0,s.jsx)(w.DialogDescription,{className:"text-base",children:"Your outreach campaign is ready to launch"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(T.CheckCircle,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Campaign Activated!"}),(0,s.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"You'll start receiving 5 personalized leads daily at your scheduled time."})]})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"What we've set up:"}),(0,s.jsx)(c.Card,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i?"bg-green-100 dark:bg-green-900/50":"bg-gray-100 dark:bg-gray-900"}`,children:(0,s.jsx)(B.Package,{className:`h-4 w-4 ${i?"text-green-600 dark:text-green-400":"text-gray-400"}`})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Product/Service"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:i?"Your offering is configured":"Not configured"})]}),i&&(0,s.jsx)(T.CheckCircle,{className:"h-4 w-4 text-green-600"})]})}),(0,s.jsx)(c.Card,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r?"bg-green-100 dark:bg-green-900/50":"bg-gray-100 dark:bg-gray-900"}`,children:(0,s.jsx)(S.Users,{className:`h-4 w-4 ${r?"text-green-600 dark:text-green-400":"text-gray-400"}`})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Ideal Customer Profile"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:r?"AI-generated and optimized":"Not configured"})]}),r&&(0,s.jsx)(T.CheckCircle,{className:"h-4 w-4 text-green-600"})]})}),(0,s.jsx)(c.Card,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${l?"bg-green-100 dark:bg-green-900/50":"bg-gray-100 dark:bg-gray-900"}`,children:(0,s.jsx)(A.User,{className:`h-4 w-4 ${l?"text-green-600 dark:text-green-400":"text-gray-400"}`})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Sender Profile"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:l?"Your identity is set":"Using default profile"})]}),l&&(0,s.jsx)(T.CheckCircle,{className:"h-4 w-4 text-green-600"})]})})]}),(0,s.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"What happens next:"}),(0,s.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"mr-2",children:"1."}),(0,s.jsx)("span",{children:"We'll analyze your ideal customers and find matching prospects"})]}),(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"mr-2",children:"2."}),(0,s.jsx)("span",{children:"Every day, you'll receive 5 personalized outreach emails to review"})]}),(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"mr-2",children:"3."}),(0,s.jsx)("span",{children:"Send the emails with one click or customize them first"})]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(n.Button,{onClick:t,size:"lg",className:"gap-2",children:["Go to Campaign Dashboard",(0,s.jsx)(L.ArrowRight,{className:"h-4 w-4"})]})})]})})}function O({searchQuery:e,searchResults:n,onComplete:c,onClose:d}){let{toast:o}=(0,l.useToast)(),m=(0,i.useRouter)(),[u,p]=(0,a.useState)("search_confirmation"),[x,h]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[y,w]=(0,a.useState)(null),[C,k]=(0,a.useState)(!1),P=(0,t.useMutation)({mutationFn:async s=>{let a=s?.productId||x;if(console.log("Generating ICP with productId:",a),!a)throw Error("Product ID is required for ICP generation");return(await (0,r.apiRequest)("POST","/api/onboarding/generate-icp",{searchQuery:e,searchResults:n.slice(0,10).map(e=>({name:e.name,description:e.description,size:e.size,industry:e.industry})),productId:a})).json()},onSuccess:e=>{j(e.icp),p("icp_preview")},onError:e=>{console.error("ICP generation error:",e),o({title:"Error generating ICP",description:e instanceof Error?e.message:"We couldn't generate your ideal customer profile. Please try again.",variant:"destructive"})}}),S=(0,t.useMutation)({mutationFn:async s=>(await (0,r.apiRequest)("POST","/api/customer-profiles",{title:s.title||"Generated ICP",exampleCompany:s.exampleCompany||n[0]?.name||"",searchPrompt:s.searchPrompt||e,additionalContext:s.additionalContext||"",industry:s.industry||"",companySize:s.companySize||"",targetRoles:s.targetRoles||[],painPoints:s.painPoints||[],valueProposition:s.valueProposition||""})).json(),onSuccess:e=>{v(e.id),r.queryClient.invalidateQueries({queryKey:["/api/customer-profiles"]}),C?D():p("sender_setup")}}),D=()=>{p("complete"),x&&f&&(0,r.apiRequest)("PUT","/api/daily-outreach/preferences",{enabled:!0,activeProductId:x,activeCustomerProfileId:f,activeSenderProfileId:y}).then(()=>{o({title:"Campaign activated!",description:"Your daily outreach campaign is now active."})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{open:"search_confirmation"===u,onClose:()=>d&&d(),onConfirm:()=>{p("product_setup")},onRefine:()=>{d&&d()},searchQuery:e,searchResults:n}),(0,s.jsx)(b.ProductOnboardingForm,{open:"product_setup"===u,onClose:()=>p("search_confirmation"),onComplete:e=>{e&&(h(e),P.mutate({productId:e}),p("icp_generation"))}}),"icp_generation"===u&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-background rounded-lg p-6 max-w-sm",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,s.jsxs)("p",{className:"text-center",children:[(0,s.jsx)("span",{className:"font-medium",children:"Analyzing your product and market..."}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Generating your ideal customer profile"})]})]})})}),(0,s.jsx)(F,{open:"icp_preview"===u,onClose:()=>p("product_setup"),onConfirm:e=>{S.mutate(e)},onEdit:()=>{p("icp_preview")},icpData:g,searchResults:n}),(0,s.jsx)(I.SenderProfileForm,{open:"sender_setup"===u,onClose:()=>{k(!0),f&&D()},onComplete:e=>{e&&w(e),D()}}),(0,s.jsx)(z,{open:"complete"===u,onClose:()=>{c&&c(),m.push("/streak")},productId:x,customerProfileId:f,senderProfileId:y})]})}e.s([],39117),e.i(39117),e.s(["CompletionModal",()=>z,"ICPPreviewModal",()=>F,"OnboardingFlowOrchestrator",()=>O,"SearchConfirmationModal",()=>N],83882)}]);