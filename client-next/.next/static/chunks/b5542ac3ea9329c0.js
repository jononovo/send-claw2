(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},7486,e=>{"use strict";let t=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],7486)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},24487,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(81140),i=e.i(20783),r=e.i(30030),s=e.i(26330),o=e.i(10772),l=e.i(53660),c=(e.i(74606),e.i(96626)),d=e.i(48425),u=e.i(91918),m=e.i(69340),h=e.i(59411),[f,p]=(0,r.createContextScope)("Tooltip",[l.createPopperScope]),x=(0,l.createPopperScope)(),g="TooltipProvider",y="tooltip.open",[b,v]=f(g),w=e=>{let{__scopeTooltip:n,delayDuration:i=700,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[l,c]=a.useState(!0),d=a.useRef(!1),u=a.useRef(0);return a.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(b,{scope:n,isOpenDelayed:l,delayDuration:i,onOpen:a.useCallback(()=>{window.clearTimeout(u.current),c(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:a.useCallback(e=>{d.current=e},[]),disableHoverableContent:s,children:o})};w.displayName=g;var j="Tooltip",[C,N]=f(j),k=e=>{let{__scopeTooltip:n,children:i,open:r,defaultOpen:s=!1,onOpenChange:c,disableHoverableContent:d,delayDuration:u}=e,h=v(j,e.__scopeTooltip),f=x(n),[p,g]=a.useState(null),b=(0,o.useId)(),w=a.useRef(0),N=d??h.disableHoverableContent,k=u??h.delayDuration,M=a.useRef(!1),[T=!1,E]=(0,m.useControllableState)({prop:r,defaultProp:s,onChange:e=>{e?(h.onOpen(),document.dispatchEvent(new CustomEvent(y))):h.onClose(),c?.(e)}}),S=a.useMemo(()=>T?M.current?"delayed-open":"instant-open":"closed",[T]),P=a.useCallback(()=>{window.clearTimeout(w.current),M.current=!1,E(!0)},[E]),I=a.useCallback(()=>{window.clearTimeout(w.current),E(!1)},[E]),R=a.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{M.current=!0,E(!0)},k)},[k,E]);return a.useEffect(()=>()=>window.clearTimeout(w.current),[]),(0,t.jsx)(l.Root,{...f,children:(0,t.jsx)(C,{scope:n,contentId:b,open:T,stateAttribute:S,trigger:p,onTriggerChange:g,onTriggerEnter:a.useCallback(()=>{h.isOpenDelayed?R():P()},[h.isOpenDelayed,R,P]),onTriggerLeave:a.useCallback(()=>{N?I():window.clearTimeout(w.current)},[I,N]),onOpen:P,onClose:I,disableHoverableContent:N,children:i})})};k.displayName=j;var M="TooltipTrigger",T=a.forwardRef((e,r)=>{let{__scopeTooltip:s,...o}=e,c=N(M,s),u=v(M,s),m=x(s),h=a.useRef(null),f=(0,i.useComposedRefs)(r,h,c.onTriggerChange),p=a.useRef(!1),g=a.useRef(!1),y=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,t.jsx)(l.Anchor,{asChild:!0,...m,children:(0,t.jsx)(d.Primitive.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...o,ref:f,onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(g.current||u.isPointerInTransitRef.current||(c.onTriggerEnter(),g.current=!0))}),onPointerLeave:(0,n.composeEventHandlers)(e.onPointerLeave,()=>{c.onTriggerLeave(),g.current=!1}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{p.current||c.onOpen()}),onBlur:(0,n.composeEventHandlers)(e.onBlur,c.onClose),onClick:(0,n.composeEventHandlers)(e.onClick,c.onClose)})})});T.displayName=M;var[E,S]=f("TooltipPortal",{forceMount:void 0}),P="TooltipContent",I=a.forwardRef((e,a)=>{let n=S(P,e.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=e,o=N(P,e.__scopeTooltip);return(0,t.jsx)(c.Presence,{present:i||o.open,children:o.disableHoverableContent?(0,t.jsx)(B,{side:r,...s,ref:a}):(0,t.jsx)(R,{side:r,...s,ref:a})})}),R=a.forwardRef((e,n)=>{let r=N(P,e.__scopeTooltip),s=v(P,e.__scopeTooltip),o=a.useRef(null),l=(0,i.useComposedRefs)(n,o),[c,d]=a.useState(null),{trigger:u,onClose:m}=r,h=o.current,{onPointerInTransitChange:f}=s,p=a.useCallback(()=>{d(null),f(!1)},[f]),x=a.useCallback((e,t)=>{let a,n=e.currentTarget,i={x:e.clientX,y:e.clientY},r=function(e,t){let a=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),r=Math.abs(t.left-e.x);switch(Math.min(a,n,i,r)){case r:return"left";case i:return"right";case a:return"top";case n:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());d(((a=[...function(e,t,a=5){let n=[];switch(t){case"top":n.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":n.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":n.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":n.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return n}(i,r),...function(e){let{top:t,right:a,bottom:n,left:i}=e;return[{x:i,y:t},{x:a,y:t},{x:a,y:n},{x:i,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let n=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(n.y-a.y)>=(e.y-a.y)*(n.x-a.x))t.pop();else break}t.push(n)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))a.pop();else break}a.push(n)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(a))),f(!0)},[f]);return a.useEffect(()=>()=>p(),[p]),a.useEffect(()=>{if(u&&h){let e=e=>x(e,h),t=e=>x(e,u);return u.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[u,h,x,p]),a.useEffect(()=>{if(c){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},n=u?.contains(t)||h?.contains(t),i=!function(e,t){let{x:a,y:n}=e,i=!1;for(let e=0,r=t.length-1;e<t.length;r=e++){let s=t[e].x,o=t[e].y,l=t[r].x,c=t[r].y;o>n!=c>n&&a<(l-s)*(n-o)/(c-o)+s&&(i=!i)}return i}(a,c);n?p():i&&(p(),m())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,h,c,m,p]),(0,t.jsx)(B,{...e,ref:l})}),[O,A]=f(j,{isInside:!1}),B=a.forwardRef((e,n)=>{let{__scopeTooltip:i,children:r,"aria-label":o,onEscapeKeyDown:c,onPointerDownOutside:d,...m}=e,f=N(P,i),p=x(i),{onClose:g}=f;return a.useEffect(()=>(document.addEventListener(y,g),()=>document.removeEventListener(y,g)),[g]),a.useEffect(()=>{if(f.trigger){let e=e=>{let t=e.target;t?.contains(f.trigger)&&g()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[f.trigger,g]),(0,t.jsx)(s.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:e=>e.preventDefault(),onDismiss:g,children:(0,t.jsxs)(l.Content,{"data-state":f.stateAttribute,...p,...m,ref:n,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(u.Slottable,{children:r}),(0,t.jsx)(O,{scope:i,isInside:!0,children:(0,t.jsx)(h.Root,{id:f.contentId,role:"tooltip",children:o||r})})]})})});I.displayName=P;var D="TooltipArrow";a.forwardRef((e,a)=>{let{__scopeTooltip:n,...i}=e,r=x(n);return A(D,n).isInside?null:(0,t.jsx)(l.Arrow,{...r,...i,ref:a})}).displayName=D;var L=e.i(52301);let F=a.forwardRef(({className:e,sideOffset:a=4,...n},i)=>(0,t.jsx)(I,{ref:i,sideOffset:a,className:(0,L.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));F.displayName=I.displayName,e.s(["Tooltip",()=>k,"TooltipContent",()=>F,"TooltipProvider",()=>w,"TooltipTrigger",()=>T],24487)},67073,31648,27368,91300,e=>{"use strict";var t={};!function e(t,a,n,i){var r,s,o,l,c,d,u,m,h,f,p,x=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),g="function"==typeof Path2D&&"function"==typeof DOMMatrix;function y(){}function b(e){var n=a.exports.Promise,i=void 0!==n?n:t.Promise;return"function"==typeof i?new i(e):(e(y,y),null)}var v=(r=function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var n=e.transferToImageBitmap();try{a.createPattern(n,"no-repeat")}catch(e){return!1}return!0}(),s=new Map,{transform:function(e){if(r)return e;if(s.has(e))return s.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),s.set(e,t),t},clear:function(){s.clear()}}),w=(c=Math.floor(1e3/60),d={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(o=function(e){var t=Math.random();return d[t]=requestAnimationFrame(function a(n){u===n||u+c-1<n?(u=n,delete d[t],e()):d[t]=requestAnimationFrame(a)}),t},l=function(e){d[e]&&cancelAnimationFrame(d[e])}):(o=function(e){return setTimeout(e,c)},l=function(e){return clearTimeout(e)}),{frame:o,cancel:l}),j=(f={},function(){if(m)return m;if(!n&&x){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {\n  if (msg.data.options) {\n    CONFETTI(msg.data.options).then(function () {\n      if (msg.data.callback) {\n        postMessage({ callback: msg.data.callback });\n      }\n    });\n  } else if (msg.data.reset) {\n    CONFETTI && CONFETTI.reset();\n  } else if (msg.data.resize) {\n    SIZE.width = msg.data.resize.width;\n    SIZE.height = msg.data.resize.height;\n  } else if (msg.data.canvas) {\n    SIZE.width = msg.data.canvas.width;\n    SIZE.height = msg.data.canvas.height;\n    CONFETTI = module.exports.create(msg.data.canvas);\n  }\n}"].join("\n");try{m=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"function"==typeof console.warn&&console.warn("ðŸŽŠ Could not load worker",e),null}var a=m;function i(e,t){a.postMessage({options:e||{},callback:t})}a.init=function(e){var t=e.transferControlToOffscreen();a.postMessage({canvas:t},[t])},a.fire=function(e,t,n){if(h)return i(e,null),h;var r=Math.random().toString(36).slice(2);return h=b(function(t){function s(e){e.data.callback===r&&(delete f[r],a.removeEventListener("message",s),h=null,v.clear(),n(),t())}a.addEventListener("message",s),i(e,r),f[r]=s.bind(null,{data:{callback:r}})})},a.reset=function(){for(var e in a.postMessage({reset:!0}),f)f[e](),delete f[e]}}return m}),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(e,t,a){var n;return n=e&&null!=e[t]?e[t]:C[t],a?a(n):n}function k(e){return e<0?0:Math.floor(e)}function M(e){return parseInt(e,16)}function T(e){return e.map(E)}function E(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:M(t.substring(0,2)),g:M(t.substring(2,4)),b:M(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function P(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function I(e,a){var r,s=!e,o=!!N(a||{},"resize"),l=!1,c=N(a,"disableForReducedMotion",Boolean),d=x&&N(a||{},"useWorker")?j():null,u=s?S:P,m=!!e&&!!d&&!!e.__confetti_initialized,h="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function f(a){var f,p=c||N(a,"disableForReducedMotion",Boolean),x=N(a,"zIndex",Number);if(p&&h)return b(function(e){e()});s&&r?e=r.canvas:s&&!e&&((f=document.createElement("canvas")).style.position="fixed",f.style.top="0px",f.style.left="0px",f.style.pointerEvents="none",f.style.zIndex=x,e=f,document.body.appendChild(e)),o&&!m&&u(e);var y={width:e.width,height:e.height};function j(){if(d){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};u(t),d.postMessage({resize:{width:t.width,height:t.height}});return}y.width=y.height=null}function C(){r=null,o&&(l=!1,t.removeEventListener("resize",j)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,m=!1)}return(d&&!m&&d.init(e),m=!0,d&&(e.__confetti_initialized=!0),o&&!l&&(l=!0,t.addEventListener("resize",j,!1)),d)?d.fire(a,y,C):function(t,a,s){for(var o,l,c,d,m,h,f,p=N(t,"particleCount",k),x=N(t,"angle",Number),y=N(t,"spread",Number),j=N(t,"startVelocity",Number),C=N(t,"decay",Number),M=N(t,"gravity",Number),E=N(t,"drift",Number),S=N(t,"colors",T),P=N(t,"ticks",Number),I=N(t,"shapes"),R=N(t,"scalar"),O=!!N(t,"flat"),A=((o=N(t,"origin",Object)).x=N(o,"x",Number),o.y=N(o,"y",Number),o),B=p,D=[],L=e.width*A.x,F=e.height*A.y;B--;)D.push(function(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:L,y:F,angle:x,spread:y,startVelocity:j,color:S[B%S.length],shape:I[Math.floor(Math.random()*(I.length-0))+0],ticks:P,decay:C,gravity:M,drift:E,scalar:R,flat:O}));return r?r.addFettis(D):(l=e,m=D.slice(),h=l.getContext("2d"),f=b(function(e){function t(){c=d=null,h.clearRect(0,0,a.width,a.height),v.clear(),s(),e()}c=w.frame(function e(){n&&(a.width!==i.width||a.height!==i.height)&&(a.width=l.width=i.width,a.height=l.height=i.height),a.width||a.height||(u(l),a.width=l.width,a.height=l.height),h.clearRect(0,0,a.width,a.height),(m=m.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a,n,i,r,s,o,l,c,d,u,m,h,f,p,x,y,b=t.tick++/t.totalTicks,w=t.x+t.random*t.tiltCos,j=t.y+t.random*t.tiltSin,C=t.wobbleX+t.random*t.tiltCos,N=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-b)+")",e.beginPath(),g&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix)){e.fill((a=t.shape.path,n=t.shape.matrix,i=t.x,r=t.y,s=.1*Math.abs(C-w),o=.1*Math.abs(N-j),l=Math.PI/10*t.wobble,c=new Path2D(a),(d=new Path2D).addPath(c,new DOMMatrix(n)),(u=new Path2D).addPath(d,new DOMMatrix([Math.cos(l)*s,Math.sin(l)*s,-Math.sin(l)*o,Math.cos(l)*o,i,r])),u))}else if("bitmap"===t.shape.type){var k=Math.PI/10*t.wobble,M=.1*Math.abs(C-w),T=.1*Math.abs(N-j),E=t.shape.bitmap.width*t.scalar,S=t.shape.bitmap.height*t.scalar,P=new DOMMatrix([Math.cos(k)*M,Math.sin(k)*M,-Math.sin(k)*T,Math.cos(k)*T,t.x,t.y]);P.multiplySelf(new DOMMatrix(t.shape.matrix));var I=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");I.setTransform(P),e.globalAlpha=1-b,e.fillStyle=I,e.fillRect(t.x-E/2,t.y-S/2,E,S),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(C-w)*t.ovalScalar,Math.abs(N-j)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(m=t.x,h=t.y,f=Math.abs(C-w)*t.ovalScalar,p=Math.abs(N-j)*t.ovalScalar,x=Math.PI/10*t.wobble,y=2*Math.PI,e.save(),e.translate(m,h),e.rotate(x),e.scale(f,p),e.arc(0,0,1,0,y,void 0),e.restore());else if("star"===t.shape)for(var R=Math.PI/2*3,O=4*t.scalar,A=8*t.scalar,B=t.x,D=t.y,L=5,F=Math.PI/5;L--;)B=t.x+Math.cos(R)*A,D=t.y+Math.sin(R)*A,e.lineTo(B,D),R+=F,B=t.x+Math.cos(R)*O,D=t.y+Math.sin(R)*O,e.lineTo(B,D),R+=F;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(j)),e.lineTo(Math.floor(C),Math.floor(N)),e.lineTo(Math.floor(w),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(h,e)})).length?c=w.frame(e):t()}),d=t}),(r={addFettis:function(e){return m=m.concat(e),f},canvas:l,promise:f,reset:function(){c&&w.cancel(c),d&&d()}}).promise)}(a,y,C)}return f.reset=function(){d&&d.reset(),r&&r.reset()},f}function R(){return p||(p=I(null,{useWorker:!0,resize:!0})),p}a.exports=function(){return R().apply(this,arguments)},a.exports.reset=function(){R().reset()},a.exports.create=I,a.exports.shapeFromPath=function(e){if(!g)throw Error("path confetti are not supported in this browser");"string"==typeof e?n=e:(n=e.path,i=e.matrix);var t=new Path2D(n),a=document.createElement("canvas").getContext("2d");if(!i){for(var n,i,r,s,o=1e3,l=1e3,c=0,d=0,u=0;u<1e3;u+=2)for(var m=0;m<1e3;m+=2)a.isPointInPath(t,u,m,"nonzero")&&(o=Math.min(o,u),l=Math.min(l,m),c=Math.max(c,u),d=Math.max(d,m));r=c-o;var h=Math.min(10/r,10/(s=d-l));i=[h,0,0,h,-Math.round(r/2+o)*h,-Math.round(s/2+l)*h]}return{type:"path",path:n,matrix:i}},a.exports.shapeFromText=function(e){var t,a=1,n="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,i="fontFamily"in e?e.fontFamily:i,n="color"in e?e.color:n);var r=10*a,s=""+r+"px "+i,o=new OffscreenCanvas(r,r),l=o.getContext("2d");l.font=s;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=c.actualBoundingBoxLeft+2,h=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=s,l.fillStyle=n,l.fillText(t,m,h);var f=1/a;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[f,0,0,f,-d*f/2,-u*f/2]}}}(function(){return"u">typeof window?window:"u">typeof self?self:this||{}}(),t,!1);let a=t.exports;t.exports.create;let n=["#fbbf24","#f59e0b","#d97706"],i=["#fbbf24","#f59e0b","#d97706","#10b981","#3b82f6"];function r(e,t,n,i=.7){let s=Date.now()+e,o=()=>{a({particleCount:t,angle:60,spread:55,origin:{x:0,y:i},colors:n}),a({particleCount:t,angle:120,spread:55,origin:{x:1,y:i},colors:n}),Date.now()<s&&requestAnimationFrame(o)};o()}function s(){r(450,2,n,.7)}function o(){r(300,2,n,.7)}function l(){let e=Date.now()+3e3,t=()=>{a({particleCount:5,angle:60,spread:70,origin:{x:0,y:.6},colors:i}),a({particleCount:5,angle:120,spread:70,origin:{x:1,y:.6},colors:i}),Date.now()<e&&requestAnimationFrame(t)};t()}function c(){r(2e3,3,n,.7)}function d(e){let t=.5,n=.5;if(e){let a=e.getBoundingClientRect();t=(a.left+a.width/2)/window.innerWidth,n=(a.top+a.height/2)/window.innerHeight}a({particleCount:80,spread:60,origin:{x:t,y:n},colors:["#fbbf24","#f59e0b","#d97706","#fef3c7"],shapes:["circle","square"],scalar:1.2}),setTimeout(()=>{a({particleCount:40,spread:100,origin:{x:t,y:n},colors:["#22c55e","#10b981","#a3e635"],shapes:["circle"],scalar:.8})},150)}function u(){a({particleCount:100,spread:60,origin:{x:.5,y:.1}})}function m(){a({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#f59e0b","#22c55e","#10b981"]})}function h(){let e=Date.now()+3e3,t={startVelocity:30,spread:360,ticks:60,zIndex:1e4};function n(e,t){return Math.random()*(t-e)+e}let i=setInterval(()=>{let r=e-Date.now();if(r<=0)return clearInterval(i);let s=r/3e3*50;a({...t,particleCount:s,origin:{x:n(.1,.3),y:Math.random()-.2}}),a({...t,particleCount:s,origin:{x:n(.7,.9),y:Math.random()-.2}})},250)}function f(e,t){switch(e){case"sectionComplete":o();break;case"finalComplete":l();break;case"challengeComplete":c();break;case"unlock":d();break;case"dailyComplete":u();break;case"celebrate":default:m();break;case"campaignComplete":h()}}function p(){return{fire:f,fireTouchConfetti:s,fireShortConfetti:o,fireLongConfetti:c,fireFinalConfetti:l,fireUnlockConfetti:d,fireDailyCompleteConfetti:u,fireCelebrateConfetti:m,fireCampaignCompleteConfetti:h}}e.s(["fireCampaignCompleteConfetti",()=>h,"fireCelebrateConfetti",()=>m,"fireDailyCompleteConfetti",()=>u,"fireFinalConfetti",()=>l,"fireShortConfetti",()=>o,"fireTouchConfetti",()=>s,"fireUnlockConfetti",()=>d,"useConfetti",()=>p],31648);var x=e.i(43476),g=e.i(71645);e.i(52301);let y=[{size:32,delay:0,offsetX:0,offsetY:0},{size:24,delay:70,offsetX:-10,offsetY:8},{size:18,delay:140,offsetX:10,offsetY:-6}],b=[0,200,500];function v(e,t={}){return new Promise(a=>{let{targetElement:n=document.querySelector("[data-credits-target]"),onComplete:i,bounce:r=!0,playSound:s=!0}=t;if(!e){console.warn("[SparkleTrail] No source element provided"),a();return}if(!n){console.warn("[SparkleTrail] No target element found. Add data-credits-target to the credits display."),a();return}let o=e.getBoundingClientRect(),l=n.getBoundingClientRect(),c=o.left+o.width/2,d=o.top+o.height/2,u=l.left+l.width/2,m=l.top+l.height/2;s&&function(){try{let e=new(window.AudioContext||window.webkitAudioContext),t=(t,a,n,i)=>{let r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(t,a),s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(i,a+.02),s.gain.exponentialRampToValueAtTime(.01,a+n),r.start(a),r.stop(a+n)},a=e.currentTime;t(880,a,.15,.04),t(1100,a+.08,.12,.035),t(1320,a+.15,.2,.03)}catch(e){console.debug("[SparkleTrail] Audio not available")}}();let h=b.length-1;b.forEach((e,t)=>{setTimeout(()=>{y.forEach((e,t)=>{setTimeout(()=>{let a,n=((a=document.createElement("div")).style.cssText=`
    position: fixed;
    left: ${c+e.offsetX}px;
    top: ${d+e.offsetY}px;
    width: ${e.size}px;
    height: ${e.size}px;
    background: radial-gradient(circle,
      rgba(255,255,255,1) 0%,
      rgba(255,223,0,0.8) 30%,
      rgba(255,180,0,0.5) 50%,
      transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: ${10001-t};
    box-shadow: 0 0 ${.6*e.size}px rgba(255,215,0,0.8),
                0 0 ${1.2*e.size}px rgba(255,180,0,0.5),
                0 0 ${2*e.size}px rgba(255,150,0,0.3);
    transition: left 1100ms cubic-bezier(0.25, 0.1, 0.25, 1),
                top 1100ms cubic-bezier(0.25, 0.1, 0.25, 1),
                transform 1100ms ease-out,
                opacity 1100ms ease-out;
  `,a);document.body.appendChild(n),requestAnimationFrame(()=>{n.style.left=`${u}px`,n.style.top=`${m}px`,n.style.transform="scale(0.4)",n.style.opacity="0"}),setTimeout(()=>{n.remove()},1150)},e.delay)}),r&&t===h&&n&&setTimeout(()=>{let e,t;e=n.style.transition,t=n.style.transform,n.style.transition="transform 0.2s ease-out",n.style.transform="scale(1.2)",setTimeout(()=>{n.style.transform=t||"scale(1)",setTimeout(()=>{n.style.transition=e},200)},200)},1100)},e)}),setTimeout(()=>{i?.(),a()},1100+b[b.length-1]+250)})}function w({duration:e=5e3,onComplete:t,isPaused:a=!1,isVisible:n=!0,showCountdown:i=!0,countdownLabel:r="Closing in",className:s=""}){let[o,l]=(0,g.useState)(e),c=(0,g.useRef)(e),d=(0,g.useRef)(0),u=(0,g.useRef)(null),m=(0,g.useRef)(null),h=(0,g.useRef)(t);h.current=t;let f=(0,g.useCallback)(()=>{u.current&&(clearTimeout(u.current),u.current=null),m.current&&(clearInterval(m.current),m.current=null)},[]);if((0,g.useEffect)(()=>{n&&(l(e),c.current=e)},[n,e]),(0,g.useEffect)(()=>{if(!n)return void f();if(a){if(d.current>0){let e=Date.now()-d.current,t=Math.max(0,c.current-e);c.current=t,l(t)}f();return}return d.current=Date.now(),u.current=setTimeout(()=>{h.current()},c.current),m.current=setInterval(()=>{let e=Date.now()-d.current;l(Math.max(0,c.current-e))},50),f},[n,a,f]),!n)return null;let p=o/e*100,y=Math.ceil(o/1e3);return(0,x.jsxs)("div",{className:`w-full ${s}`,children:[i&&(0,x.jsxs)("p",{className:"text-xs text-gray-400 text-center mb-2",children:[r," ",y,"..."]}),(0,x.jsx)("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,x.jsx)("div",{className:"h-full bg-gradient-to-r from-amber-400 to-yellow-500 rounded-full",style:{width:`${p}%`}})})]})}e.s(["animateCreditSparkles",()=>v],27368),e.s(["AutoDismissBar",()=>w],91300),e.s([],67073)},55838,(e,t,a)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!i(e,a)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),n=r({inst:{value:a,getSnapshot:t}}),i=n[0].inst,d=n[1];return o(function(){i.value=a,i.getSnapshot=t,c(i)&&d({inst:i})},[e,a,t]),s(function(){return c(i)&&d({inst:i}),e(function(){c(i)&&d({inst:i})})},[e]),l(a),a};a.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},2239,(e,t,a)=>{"use strict";t.exports=e.r(55838)},42023,e=>{"use strict";var t=e.i(71645),a=e.i(2239);let n=t.useInsertionEffect,i="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,r=n||i,s=e=>{let a=t.useRef([e,(...e)=>a[0](...e)]).current;return r(()=>{a[0]=e}),a[1]},o="pushState",l="replaceState",c=["popstate",o,l,"hashchange"],d=e=>{for(let t of c)addEventListener(t,e);return()=>{for(let t of c)removeEventListener(t,e)}},u=(e,t)=>(0,a.useSyncExternalStore)(d,e,t),m=()=>location.search,h=()=>location.pathname,f=(e,{replace:t=!1,state:a=null}={})=>history[t?l:o](a,"",e),p=Symbol.for("wouter_v3");if("u">typeof history&&void 0===window[p]){for(let e of[o,l]){let t=history[e];history[e]=function(){let a=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),a}}Object.defineProperty(window,p,{value:!0})}let x=(e="")=>"/"===e?"":e,g=e=>{try{return decodeURI(e)}catch(t){return e}},y=(0,t.createContext)({hook:(e={})=>[(({ssrPath:e}={})=>u(h,e?()=>e:h))(e),f],searchHook:({ssrSearch:e=""}={})=>u(m,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var a,n,i,r,s=[],o="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)"*"===(a=i[0])?(s.push(a),o+="?"===i[1]?"(?:/(.*))?":"/(.*)"):":"===a?(n=i.indexOf("?",1),r=i.indexOf(".",1),s.push(i.substring(1,~n?n:~r?r:i.length)),o+=~n&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~n?"?":"")+"\\"+i.substring(r))):o+="/"+i;return{keys:s,pattern:RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e}),b=()=>(0,t.useContext)(y),v=(0,t.createContext)({}),w=()=>(0,t.useContext)(v),j=e=>{let[t,a]=e.hook(e);return[((e="",t)=>{let a,n;return a=g(x(e)),(n=g(t)).toLowerCase().indexOf(a.toLowerCase())?"~"+n:n.slice(a.length)||"/"})(e.base,t),s((t,n)=>{let i;return a((i=e.base,"~"===t[0]?t.slice(1):x(i)+t),n)})]},C=()=>j(b()),N=e=>((e,t,a,n)=>{let i,r,{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),l=s.exec(a)||[],[c,...d]=l;return void 0!==c?[!0,(i=!1!==o?Object.fromEntries(o.map((e,t)=>[e,d[t]])):l.groups,r={...d},i&&Object.assign(r,i),r),...n?[c]:[]]:[!1,null]})(b().parser,e,C()[0]),k=(0,t.forwardRef)((e,a)=>{let n=b(),[i,r]=j(n),{to:o="",href:l=o,onClick:c,asChild:d,children:u,className:m,replace:h,state:f,...p}=e,x=s(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(c?.(t),t.defaultPrevented||(t.preventDefault(),r(l,e)))}),g=n.hrefs("~"===l[0]?l.slice(1):n.base+l,n);return d&&(0,t.isValidElement)(u)?(0,t.cloneElement)(u,{onClick:x,href:g}):(0,t.createElement)("a",{...p,onClick:x,href:g,className:m?.call?m(i===l):m,children:u,ref:a})});e.s(["Link",()=>k,"useLocation",()=>C,"useParams",()=>w,"useRoute",()=>N],42023)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},10166,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(42023),i=e.i(66027),r=e.i(54616),s=e.i(12598),o=e.i(6625),l=e.i(4766),c=e.i(90250),d=e.i(37880),u=e.i(58260),m=e.i(3116),h=e.i(7486),f=e.i(84614),p=e.i(63488),x=e.i(70756),g=e.i(73375),y=e.i(63059),b=e.i(75254);let v=(0,b.default)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);var w=e.i(31278),j=e.i(78917),C=e.i(52571),N=e.i(69638),k=e.i(63209),M=e.i(78894);let T=(0,b.default)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var E=e.i(24487),S=e.i(21481),P=e.i(45919),I=e.i(84401),R=e.i(52301);e.i(67073);var O=e.i(31648),A=e.i(87316);function B({totalEmails:e,sentEmails:n,currentIndex:i,pendingCount:r,date:s,productName:o,onEggClick:l}){let[c,d]=(0,a.useState)([]);return(0,a.useEffect)(()=>{if(d(Array.from({length:e},(e,t)=>t<n?{state:"hatched",isNew:!1}:t===n?{state:"cracked",isNew:!0}:{state:"egg",isNew:!1})),n>0&&n<e){let e=setTimeout(()=>{d(e=>e.map((e,t)=>t===n?{...e,isNew:!1}:e))},5e3);return()=>clearTimeout(e)}},[e,n]),(0,a.useEffect)(()=>{n===e&&e>0&&(0,O.fireDailyCompleteConfetti)()},[n,e]),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700",children:o||""}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 mr-4 flex items-center gap-1",children:[void 0!==i&&void 0!==r&&(0,t.jsxs)("span",{children:["Email ",i+1," of ",e]}),void 0!==i&&s&&(0,t.jsx)("span",{className:"mx-1",children:"â€¢"}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Calendar,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:s})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-3 md:gap-4 mb-2",children:c.map((e,a)=>(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("button",{onClick:()=>l?.(a),disabled:"egg"===e.state&&a>n,className:(0,R.cn)("text-2xl md:text-3xl transition-transform duration-200","hatched"===e.state&&"hover:scale-110","cracked"===e.state&&e.isNew?"animate-disco-bounce":""),children:"hatched"===e.state?"ðŸ¥":"cracked"===e.state?"ðŸ£":"ðŸ¥š"})},a))}),(0,t.jsxs)("div",{className:"text-center text-xs text-gray-600",children:[0===n&&(0,t.jsxs)("span",{children:["Ready for email ",e]}),n>0&&n<e&&(0,t.jsxs)("span",{children:["Sent ",n,", Ready for email ",n+1]}),n===e&&e>0&&(0,t.jsx)("span",{className:"text-green-600 font-semibold",children:"All done! Great job! ðŸŽ‰"})]})]})]})}var D=e.i(84589),L=e.i(37727);function F({isOpen:e,onConfirm:a,onCancel:n,contactName:i,companyName:r}){return(0,t.jsx)(D.Dialog,{open:e,onOpenChange:e=>!e&&n(),children:(0,t.jsxs)(D.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(D.DialogHeader,{children:[(0,t.jsxs)(D.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Mail,{className:"h-5 w-5 text-blue-600"}),"Did you send the email?"]}),(0,t.jsxs)(D.DialogDescription,{className:"pt-2",children:["Please confirm that you've sent the email to"," ",(0,t.jsx)("span",{className:"font-semibold",children:i})," at"," ",(0,t.jsx)("span",{className:"font-semibold",children:r}),"."]})]}),(0,t.jsxs)(D.DialogFooter,{className:"flex gap-2 sm:gap-0",children:[(0,t.jsxs)(o.Button,{variant:"outline",onClick:n,className:"flex-1 sm:flex-none",children:[(0,t.jsx)(L.X,{className:"h-4 w-4 mr-2"}),"Not yet"]}),(0,t.jsxs)(o.Button,{onClick:a,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(N.CheckCircle,{className:"h-4 w-4 mr-2"}),"Yes, I sent it"]})]})]})})}function z({isOpen:e,onClose:a,sentCount:n}){return e?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-0 sm:p-4",children:(0,t.jsx)("div",{className:"bg-white dark:bg-black/90 border border-gray-200 dark:border-white/10 rounded-lg w-full max-w-md mx-auto relative overflow-hidden",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:(0,t.jsx)(N.CheckCircle,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-3 text-gray-900 dark:text-white",children:"All Done! ðŸŽ‰"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"You've completed your daily outreach!"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[n," emails sent today. Check back tomorrow for your next batch of leads!"]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(o.Button,{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Review My Emails"}),(0,t.jsx)(o.Button,{onClick:()=>window.location.href="/streak",variant:"outline",className:"w-full",children:"Back to Dashboard"})]})]})})})}):null}var $=e.i(46932),_=e.i(88653);function q(){let e=(0,n.useParams)(),{toast:b}=(0,u.useToast)(),O=(0,s.useQueryClient)(),A=e.token,[D,L]=(0,a.useState)(0),[q,H]=(0,a.useState)(!1),[U,V]=(0,a.useState)(!1),[Y,G]=(0,a.useState)(""),[K,X]=(0,a.useState)(""),[W,Q]=(0,a.useState)(!1),[Z,J]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),[ea,en]=(0,a.useState)(!1),[ei,er]=(0,a.useState)(0),[es,eo]=(0,a.useState)(!1),[el,ec]=(0,a.useState)(null),[ed,eu]=(0,a.useState)(!1),{data:em,isLoading:eh,error:ef}=(0,i.useQuery)({queryKey:[`/api/daily-outreach/batch/${A}`],enabled:!!A});(0,a.useEffect)(()=>{em?.items&&er(em.items.filter(e=>"sent"===e.status).length)},[em]),(0,a.useEffect)(()=>{if(em?.items&&0===em.items.filter(e=>"pending"===e.status).length&&!ea&&!ed){let e=setTimeout(()=>en(!0),500);return()=>clearTimeout(e)}},[em,ea,ed]);let{data:ep}=(0,i.useQuery)({queryKey:["/api/gmail/status"],refetchInterval:3e4}),ex=()=>!!em?.items&&1===em.items.filter(e=>"pending"===e.status).length,eg=(0,r.useMutation)({mutationFn:async({to:e,subject:t,body:a})=>{eT();let n=await fetch("/api/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,subject:t,body:a})});if(!n.ok)throw Error((await n.json()).message||"Failed to send email");return n.json()},onSuccess:(e,t)=>{eE(),eN&&ev.mutate({itemId:eN.id,checkCompletion:!1}),ex()?(window.triggerEggOverlayCelebration&&window.triggerEggOverlayCelebration(),setTimeout(()=>{en(!0)},3e3)):(eo(!0),setTimeout(()=>{if(em?.items){let e=em.items.findIndex((e,t)=>t>D&&"pending"===e.status);-1!==e&&(ec("next"),L(e))}eo(!1)},1e3))},onError:e=>{b({title:"Failed to send email",description:e.message||"Please try again or use a different method",variant:"destructive"})}}),ey=async(e,t,a)=>{W&&eN&&await eb.mutateAsync({itemId:eN.id,subject:Y,body:K}),H(!0),setTimeout(()=>{eg.mutate({to:e,subject:Y||t,body:K||a}),H(!1)},1500)},eb=(0,r.useMutation)({mutationFn:async({itemId:e,subject:t,body:a})=>{let n=await fetch(`/api/daily-outreach/batch/${A}/item/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailSubject:t,emailBody:a})});if(!n.ok)throw Error("Failed to update");return n.json()},onSuccess:()=>{O.invalidateQueries({queryKey:[`/api/daily-outreach/batch/${A}`]}),Q(!1),b({title:"Email updated",description:"Your changes have been saved"})}}),ev=(0,r.useMutation)({mutationFn:async({itemId:e,checkCompletion:t=!1})=>{let a=await fetch(`/api/daily-outreach/batch/${A}/item/${e}/sent`,{method:"POST"});if(!a.ok)throw Error("Failed to mark as sent");return{data:await a.json(),checkCompletion:t}},onSuccess:e=>{if(b({title:"Email sent!",description:"Great job! Keep going! ðŸŽ‰"}),setTimeout(()=>{O.invalidateQueries({queryKey:[`/api/daily-outreach/batch/${A}`]})},500),e.checkCompletion&&em?.items)if(0===em.items.filter(e=>"pending"===e.status&&e.id!==eN?.id).length)setTimeout(()=>{en(!0)},3e3);else{let e=em.items;setTimeout(()=>{let t=e.findIndex((e,t)=>t>D&&"pending"===e.status);-1!==t&&(ec("next"),L(t))},1e3)}}}),ew=(0,r.useMutation)({mutationFn:async e=>{let t=await fetch(`/api/daily-outreach/batch/${A}/item/${e}/skip`,{method:"POST"});if(!t.ok)throw Error("Failed to skip");return t.json()},onSuccess:()=>{if(ex())en(!0);else if(em?.items){let e=em.items.findIndex((e,t)=>t>D&&"pending"===e.status);-1!==e&&(ec("next"),L(e))}}}),{batch:ej,items:eC}=em||{batch:null,items:[]},eN=eC?.[D],ek=eC?.[D+1],{isSent:eM,markPending:eT,markSent:eE}=function({id:e}={}){let[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n(!1),r(!1)},[e]);let s=(0,a.useCallback)(()=>{r(!0),n(!1)},[]);return{isSent:t,isSending:i,markPending:s,markSent:(0,a.useCallback)(()=>{r(!1),n(!0)},[]),reset:(0,a.useCallback)(()=>{r(!1),n(!1)},[])}}({id:eN?.id});if((0,a.useEffect)(()=>{if(eN){let e={contact:{name:eN.contact.name,role:eN.contact.role||void 0,email:eN.contact.email},company:{name:eN.company.name}},t=(0,I.resolveAllMergeFields)(eN.emailSubject,e),a=(0,I.resolveAllMergeFields)(eN.emailBody,e);G(t),X(a),Q(!1)}},[eN?.id]),(0,a.useEffect)(()=>{if(!W||!eN)return;let e=setTimeout(()=>{eb.mutate({itemId:eN.id,subject:Y,body:K})},2e3);return()=>clearTimeout(e)},[Y,K,W]),eh)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(m.Clock,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground animate-pulse"}),(0,t.jsx)("p",{className:"text-lg",children:"Loading your daily outreach..."})]})});if(ef||!em){let e=ef?.message||"",a=e.includes("410"),n=e.includes("404");e.includes("500");let i=e.includes("NetworkError")||e.includes("Failed to fetch");return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(l.Card,{className:"max-w-md w-full border-0",children:(0,t.jsx)(l.CardContent,{className:"pt-8 pb-6",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(m.Clock,{className:"h-12 w-12 text-amber-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Link Expired"}),(0,t.jsx)("p",{className:"text-gray-600 px-4",children:"This daily outreach link is no longer available."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 px-4 pt-2",children:[(0,t.jsx)(o.Button,{onClick:()=>window.location.href="/streak",className:"w-full",children:"Go to Streak Dashboard"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>window.location.href="/app",className:"w-full",children:"Find More Leads"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"ðŸ’¡ Check your email for today's outreach link"})]})]})})})}):n?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(l.Card,{className:"max-w-md w-full border-0",children:(0,t.jsx)(l.CardContent,{className:"pt-8 pb-6",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(k.AlertCircle,{className:"h-12 w-12 text-red-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Link Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 px-4",children:"This outreach link doesn't exist. It may have been from a different day or the link was copied incorrectly."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 px-4 pt-2",children:[(0,t.jsx)(o.Button,{onClick:()=>window.location.href="/streak",className:"w-full",children:"View Today's Batch"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>window.location.href="/app",className:"w-full",children:"Go to Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"ðŸ’¡ Your daily link is sent each morning to your email"})]})]})})})}):i?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(l.Card,{className:"max-w-md w-full border-0",children:(0,t.jsx)(l.CardContent,{className:"pt-8 pb-6",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(T,{className:"h-12 w-12 text-gray-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Connection Problem"}),(0,t.jsx)("p",{className:"text-gray-600 px-4",children:"Can't connect to the server. Please check your internet connection and try again."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 px-4 pt-2",children:[(0,t.jsx)(o.Button,{onClick:()=>window.location.reload(),className:"w-full",children:"Try Again"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>window.location.href="/app",className:"w-full",children:"Go to Dashboard"})]})]})})})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(l.Card,{className:"max-w-md w-full border-0",children:(0,t.jsx)(l.CardContent,{className:"pt-8 pb-6",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(M.AlertTriangle,{className:"h-12 w-12 text-orange-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Temporary Issue"}),(0,t.jsx)("p",{className:"text-gray-600 px-4",children:"We're having trouble loading your outreach. This is usually temporary. Please try again in a moment."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 px-4 pt-2",children:[(0,t.jsx)(o.Button,{onClick:()=>window.location.reload(),className:"w-full",children:"Try Again"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>window.location.href="/app/streak",className:"w-full",children:"View Streak Dashboard"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>window.location.href="/app",className:"w-full",children:"Go to Main Dashboard"})]})]})})})})}return(0,t.jsxs)("div",{className:"min-h-screen bg-blue-50",children:[q&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:[(0,t.jsx)(w.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Opening email application..."})]})}),es&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:[(0,t.jsx)(N.CheckCircle,{className:"h-12 w-12 mx-auto mb-3 text-green-600"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Email Sent! ðŸŽ‰"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Loading next contact..."})]})]})}),eN&&(0,t.jsx)(F,{isOpen:ee,onConfirm:()=>{et(!1),eE(),eN&&(window.triggerEggOverlayCelebration&&window.triggerEggOverlayCelebration(),ev.mutate({itemId:eN.id,checkCompletion:!0}))},onCancel:()=>{et(!1)},contactName:eN.contact.name,companyName:eN.company.name}),(0,t.jsx)(z,{isOpen:ea,onClose:()=>{en(!1),eu(!0)},sentCount:ei}),(0,t.jsx)("div",{className:"px-6 py-6 max-w-4xl mx-auto",children:(0,t.jsx)(B,{totalEmails:eC?.length||0,sentEmails:ei,currentIndex:D,pendingCount:(eC?.length||0)-ei,date:(0,P.format)(new Date,"MMMM d"),productName:"",onEggClick:e=>{console.log("Egg clicked:",e)}})}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-6 pb-8",children:[(0,t.jsx)(_.AnimatePresence,{mode:"wait",children:eN&&(0,t.jsx)($.motion.div,{initial:{opacity:0,x:"prev"===el?-300:300},animate:{opacity:1,x:0},exit:{opacity:0,x:"prev"===el?300:-300},transition:{duration:.3,ease:"easeInOut",opacity:{duration:.2}},children:(0,t.jsx)(l.Card,{className:"mb-6 border-0",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,t.jsx)(E.TooltipProvider,{children:(0,t.jsxs)(E.Tooltip,{open:U,onOpenChange:V,children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex items-center gap-2 text-left hover:text-blue-600 transition-colors",onClick:()=>V(!U),children:[(0,t.jsx)(h.Building2,{className:"h-5 w-5 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-xl font-semibold",children:eN.company.name}),(0,t.jsx)(C.Info,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsx)(E.TooltipContent,{side:"right",className:"max-w-sm p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[eN.company.description&&(0,t.jsx)("p",{className:"text-sm",children:eN.company.description}),eN.company.website&&(0,t.jsxs)("a",{href:eN.company.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[(0,t.jsx)(j.ExternalLink,{className:"h-3 w-3"}),eN.company.website]})]})})]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.User,{className:"h-4 w-4"}),eN.contact.name,eN.contact.role&&` â€¢ ${eN.contact.role}`]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Mail,{className:"h-4 w-4"}),eN.contact.email]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.Input,{value:Y,onChange:e=>{G(e.target.value),Q(!0)},placeholder:"Email subject...",className:"bg-blue-50/50 text-base"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Textarea,{value:K,onChange:e=>{X(e.target.value),Q(!0)},rows:12,placeholder:"Email body...",className:"text-base bg-blue-50/50"}),W&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-saving changes..."})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex gap-2",children:!ep?.authorized&&(0,t.jsx)(E.TooltipProvider,{children:(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{onClick:()=>{let e=em?.batch?.userId;if(!e)return void b({title:"Session not found",description:"Unable to identify user session. Please refresh and try again.",variant:"destructive"});let t=`/api/gmail/auth?userId=${e}`,a=window.open(t,"gmailAuth","width=600,height=600"),n=e=>{"GMAIL_AUTH_SUCCESS"===e.data.type&&(window.removeEventListener("message",n),O.invalidateQueries({queryKey:["/api/gmail/status"]}),b({title:"Gmail Connected",description:"You can now send emails via Gmail!"}))};window.addEventListener("message",n);let i=setInterval(()=>{a?.closed&&(clearInterval(i),window.removeEventListener("message",n),O.invalidateQueries({queryKey:["/api/gmail/status"]}))},1e3)},onMouseEnter:()=>J(!0),onMouseLeave:()=>J(!1),variant:"outline",size:"sm",className:(0,R.cn)("h-8 text-xs transition-all duration-300 ease-out overflow-hidden",Z?"px-3 bg-blue-50 text-blue-700 border-blue-300 hover:bg-blue-100":"px-2 w-8 bg-gray-50 text-gray-500 border-gray-200 hover:bg-gray-100"),children:[(0,t.jsx)(x.Lock,{className:"w-3 h-3 shrink-0"}),Z&&(0,t.jsx)("span",{className:"ml-1 whitespace-nowrap",children:"Gmail API BETA"})]})}),(0,t.jsx)(E.TooltipContent,{children:(0,t.jsx)("p",{className:"text-xs",children:"Connect Gmail to send emails directly"})})]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>ew.mutate(eN.id),disabled:ew.isPending,className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:[(0,t.jsx)(v,{className:"h-3 w-3 inline mr-1"}),"Skip"]}),(0,t.jsx)(S.EmailSendButton,{to:eN.contact.email,subject:Y,body:K,contact:eN.contact,company:eN.company,isGmailAuthenticated:ep?.authorized,onSendViaGmail:()=>ey(eN.contact.email,Y,K),onManualSend:()=>void et(!0),isPending:eg.isPending,isSuccess:eM||"sent"===eN.status,className:"h-9 px-4 text-sm"})]})]})]})})},D)}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{ec("prev"),L(Math.max(0,D-1))},disabled:0===D,children:[(0,t.jsx)(g.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{ec("next"),L(Math.min(eC.length-1,D+1))},disabled:D>=eC.length-1,children:["Next",(0,t.jsx)(y.ChevronRight,{className:"h-4 w-4 ml-1"})]})]}),ek&&(0,t.jsx)("div",{className:"mt-4 pb-2",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center","data-testid":"text-next-up",children:[(0,t.jsx)("span",{className:"font-medium",children:"Next up:"})," ",ek.contact.name,ek.contact.role&&`, ${ek.contact.role}`," at ",ek.company.name]})})]})]})}e.s(["default",()=>q],10166)},91669,e=>{e.n(e.i(10166))}]);