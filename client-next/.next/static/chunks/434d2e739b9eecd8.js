(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},8589,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(52301);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})}));r.displayName="Table";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...a}));i.displayName="TableHeader";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a}));n.displayName="TableBody",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));l.displayName="TableRow";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableHead";let d=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));d.displayName="TableCell",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>n,"TableCell",()=>d,"TableHead",()=>o,"TableHeader",()=>i,"TableRow",()=>l])},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);e.s(["Star",()=>t],70273)},7486,e=>{"use strict";let t=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],7486)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},55838,(e,t,a)=>{"use strict";var s=e.r(71645),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useState,n=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),s=i({inst:{value:a,getSnapshot:t}}),r=s[0].inst,c=s[1];return l(function(){r.value=a,r.getSnapshot=t,d(r)&&c({inst:r})},[e,a,t]),n(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),o(a),a};a.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},2239,(e,t,a)=>{"use strict";t.exports=e.r(55838)},42023,e=>{"use strict";var t=e.i(71645),a=e.i(2239);let s=t.useInsertionEffect,r="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,i=s||r,n=e=>{let a=t.useRef([e,(...e)=>a[0](...e)]).current;return i(()=>{a[0]=e}),a[1]},l="pushState",o="replaceState",d=["popstate",l,o,"hashchange"],c=e=>{for(let t of d)addEventListener(t,e);return()=>{for(let t of d)removeEventListener(t,e)}},u=(e,t)=>(0,a.useSyncExternalStore)(c,e,t),m=()=>location.search,h=()=>location.pathname,p=(e,{replace:t=!1,state:a=null}={})=>history[t?o:l](a,"",e),f=Symbol.for("wouter_v3");if("u">typeof history&&void 0===window[f]){for(let e of[l,o]){let t=history[e];history[e]=function(){let a=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),a}}Object.defineProperty(window,f,{value:!0})}let x=(e="")=>"/"===e?"":e,y=e=>{try{return decodeURI(e)}catch(t){return e}},v=(0,t.createContext)({hook:(e={})=>[(({ssrPath:e}={})=>u(h,e?()=>e:h))(e),p],searchHook:({ssrSearch:e=""}={})=>u(m,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var a,s,r,i,n=[],l="",o=e.split("/");for(o[0]||o.shift();r=o.shift();)"*"===(a=r[0])?(n.push(a),l+="?"===r[1]?"(?:/(.*))?":"/(.*)"):":"===a?(s=r.indexOf("?",1),i=r.indexOf(".",1),n.push(r.substring(1,~s?s:~i?i:r.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:n,pattern:RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e}),g=()=>(0,t.useContext)(v),j=(0,t.createContext)({}),b=()=>(0,t.useContext)(j),w=e=>{let[t,a]=e.hook(e);return[((e="",t)=>{let a,s;return a=y(x(e)),(s=y(t)).toLowerCase().indexOf(a.toLowerCase())?"~"+s:s.slice(a.length)||"/"})(e.base,t),n((t,s)=>{let r;return a((r=e.base,"~"===t[0]?t.slice(1):x(r)+t),s)})]},N=()=>w(g()),C=e=>((e,t,a,s)=>{let r,i,{pattern:n,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=n.exec(a)||[],[d,...c]=o;return void 0!==d?[!0,(r=!1!==l?Object.fromEntries(l.map((e,t)=>[e,c[t]])):o.groups,i={...c},r&&Object.assign(i,r),i),...s?[d]:[]]:[!1,null]})(g().parser,e,N()[0]),k=(0,t.forwardRef)((e,a)=>{let s=g(),[r,i]=w(s),{to:l="",href:o=l,onClick:d,asChild:c,children:u,className:m,replace:h,state:p,...f}=e,x=n(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(d?.(t),t.defaultPrevented||(t.preventDefault(),i(o,e)))}),y=s.hrefs("~"===o[0]?o.slice(1):s.base+o,s);return c&&(0,t.isValidElement)(u)?(0,t.cloneElement)(u,{onClick:x,href:y}):(0,t.createElement)("a",{...f,onClick:x,href:y,className:m?.call?m(r===o):m,children:u,ref:a})});e.s(["Link",()=>k,"useLocation",()=>N,"useParams",()=>b,"useRoute",()=>C],42023)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},94333,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(25913),r=e.i(52301);let i=(0,s.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=a.forwardRef(({className:e,variant:a,...s},n)=>(0,t.jsx)("div",{ref:n,role:"alert",className:(0,r.cn)(i({variant:a}),e),...s}));n.displayName="Alert",a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let l=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",e),...a}));l.displayName="AlertDescription",e.s(["Alert",()=>n,"AlertDescription",()=>l])},16776,e=>{"use strict";var t=e.i(43476),a=e.i(42023),s=e.i(66027),r=e.i(54616),i=e.i(12598),n=e.i(22956),l=e.i(4766),o=e.i(38785),d=e.i(8589),c=e.i(94333),u=e.i(7486),m=e.i(61911),h=e.i(48256),p=e.i(63488),f=e.i(71689),x=e.i(70273),y=e.i(25652),v=e.i(16715);let g=(0,e.i(75254).default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var j=e.i(83086),b=e.i(6625),w=e.i(58260),N=e.i(84923),C=e.i(94318),k=e.i(10704);function T(){let[,e]=(0,a.useRoute)("/company/:slug/:id"),[,T]=(0,a.useLocation)(),{toast:S}=(0,w.useToast)();(0,i.useQueryClient)();let{user:R}=(0,C.useAuth)(),{openModal:E}=(0,k.useRegistrationModal)(),L=e?.id?parseInt(e.id,10):null;console.log("CompanyDetails - Loading company ID:",L);let{data:M,isLoading:B}=(0,s.useQuery)({queryKey:["/api/companies",L],enabled:!!L}),{data:H=[],refetch:P}=(0,s.useQuery)({queryKey:["/api/companies",L,"contacts"],enabled:!!L});console.log("CompanyDetails - Fetched data:",{requestedId:L,fetchedCompany:M?{id:M.id,name:M.name}:null,contactsCount:H.length,contacts:H.map(e=>({id:e.id,name:e.name}))});let A=(0,r.useMutation)({mutationFn:async()=>{if(!L)throw Error("No company selected");let e=await (0,N.apiRequest)("POST",`/api/companies/${L}/enrich-contacts`);if(!e.ok)throw Error("Failed to enrich contacts");return e.json()},onSuccess:async()=>{await P(),S({title:"Contacts Updated",description:"Successfully refreshed company contact information."})},onError:e=>{S({title:"Update Failed",description:e instanceof Error?e.message:"Failed to update contact information",variant:"destructive"})}});if(B)return(0,t.jsx)("div",{className:"container mx-auto py-8",children:(0,t.jsx)("p",{children:"Loading company details..."})});if(!M&&!B)return(0,t.jsxs)("div",{className:"container mx-auto py-8",children:[(0,t.jsxs)("p",{children:["Company not found. ID: ",L]}),(0,t.jsxs)(b.Button,{variant:"ghost",className:"mt-4",onClick:()=>router.push("/"),children:[(0,t.jsx)(f.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Search"]})]});if(!M)return null;let O=[{name:"Website Ranking",value:M.ranking||0,icon:h.Globe},{name:"Company Size",value:M.size||0,icon:m.Users},{name:"LinkedIn Score",value:M.linkedinProminence||0,icon:y.TrendingUp},{name:"Customer Count",value:M.customerCount||0,icon:u.Building2}],U=M.slug||M.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,50),z=`https://5ducks.ai/company/${U}/${M.id}`,D={"@context":"https://schema.org","@type":"Organization",name:M.name,description:M.description||`${M.name} - B2B company profile`,url:M.website||z,...M.size&&{numberOfEmployees:{"@type":"QuantitativeValue",value:M.size}}};return(0,t.jsxs)("div",{className:"container mx-auto py-8",children:[(0,t.jsx)(n.SEOHead,{title:`${M.name} - Company Profile`,description:M.description||`View ${M.name} company profile, key contacts, and business information on 5Ducks.`,canonicalUrl:z,type:"website",jsonLd:D}),(0,t.jsxs)(b.Button,{variant:"ghost",className:"mb-6",onClick:()=>{window.history.length>1?window.history.back():router.push("/")},children:[(0,t.jsx)(f.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,t.jsxs)("div",{className:"grid gap-8",children:[(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.CardTitle,{className:"text-2xl font-bold",children:M.name}),M.description&&(0,t.jsx)(l.CardDescription,{className:"mt-2",children:M.description})]}),(0,t.jsxs)(o.Badge,{className:"text-lg py-2",variant:M.totalScore&&M.totalScore>70?"default":"secondary",children:["Score: ",M.totalScore??"N/A"]})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:O.map(e=>(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e.icon,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.name})]}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-2",children:e.value})]})},e.name))})})]}),!R&&H.some(e=>{var t;return!!(t=e.email)&&t.includes("***")})&&(0,t.jsxs)(c.Alert,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:[(0,t.jsx)(j.Sparkles,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)(c.AlertDescription,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Sign up to see the full email address and run search prompts with AI - 100 credits included."}),(0,t.jsx)(b.Button,{size:"sm",onClick:()=>E(),className:"ml-4 shrink-0","data-testid":"button-signup-cta",children:"Sign Up Free"})]})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Mail,{className:"h-5 w-5"}),"Key Contacts"]}),R&&(0,t.jsxs)(b.Button,{variant:"outline",onClick:()=>{L?A.mutate():S({title:"Error",description:"No company selected",variant:"destructive"})},disabled:A.isPending,children:[(0,t.jsx)(v.RefreshCw,{className:`h-4 w-4 mr-2 ${A.isPending?"animate-spin":""}`}),"Enrich Contacts"]})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{children:(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableHead,{children:"Name"}),(0,t.jsx)(d.TableHead,{children:"Role"}),(0,t.jsx)(d.TableHead,{children:"Email"}),(0,t.jsx)(d.TableHead,{children:"Score"})]})}),(0,t.jsx)(d.TableBody,{children:H.map(e=>(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableCell,{className:"font-medium",children:e.name}),(0,t.jsx)(d.TableCell,{children:e.role}),(0,t.jsx)(d.TableCell,{children:e.email}),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)(o.Badge,{variant:"secondary",children:e.probability||0})})]},e.id))})]})})]}),((M.services?.length??0)>0||(M.validationPoints?.length??0)>0)&&(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[M.services&&M.services.length>0&&(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Services Offered"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:M.services.map((e,a)=>(0,t.jsx)(o.Badge,{variant:"secondary",children:e},a))})})]}),M.validationPoints&&M.validationPoints.length>0&&(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Validation Points"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("ul",{className:"space-y-2",children:M.validationPoints.map((e,a)=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Star,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsx)("span",{children:e})]},a))})})]})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Globe,{className:"h-5 w-5"}),"Company Information"]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(h.Globe,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Company Website:"}),M.website?(0,t.jsx)("a",{href:M.website.startsWith("http")?M.website:`https://${M.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:M.website}):(0,t.jsx)("span",{className:"italic",children:"No website available"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(g,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Company Profile:"}),M.alternativeProfileUrl?(0,t.jsx)("a",{href:M.alternativeProfileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:M.alternativeProfileUrl}):(0,t.jsx)("span",{className:"italic",children:"No profile link available"})]}),M.age&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(u.Building2,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Company Age:"}),(0,t.jsxs)("span",{children:[M.age," years"]})]})]})})]})]})]})}e.s(["default",()=>T],16776)},89951,e=>{e.n(e.i(16776))}]);