(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32076,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(48425),i=a.forwardRef((e,a)=>(0,s.jsx)(t.Primitive.label,{...e,ref:a,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var l=e.i(25913),n=e.i(52301);let r=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(i,{ref:t,className:(0,n.cn)(r(),e),...a}));d.displayName=i.displayName,e.s(["Label",()=>d],32076)},84614,e=>{"use strict";let s=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],84614)},97250,e=>{"use strict";let s=(0,e.i(75254).default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);e.s(["Sun",()=>s],97250)},91799,e=>{"use strict";let s=(0,e.i(75254).default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);e.s(["Moon",()=>s],91799)},39616,e=>{"use strict";let s=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>s],39616)},92930,e=>{"use strict";let s=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>s],92930)},13786,e=>{"use strict";var s=e.i(43476),a=e.i(66027),t=e.i(4766),i=e.i(6625),l=e.i(32076),n=e.i(58260),r=e.i(75254);let d=(0,r.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var c=e.i(78917),o=e.i(63488),m=e.i(39616),u=e.i(97250),x=e.i(91799);let h=(0,r.default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var p=e.i(94318),j=e.i(5743),y=e.i(71645),f=e.i(53145),N=e.i(94814),g=e.i(50270),v=e.i(54616),b=e.i(12598),C=e.i(8402),w=e.i(37880),k=e.i(84614),S=e.i(87316),M=e.i(92930),P=e.i(37727),D=e.i(43531),z=e.i(84923);let U=async e=>(await (0,z.apiRequest)("PUT","/api/user/profile",e)).json(),q=g.z.object({username:g.z.string().min(1,"Name is required").max(50,"Name must be less than 50 characters")});function B({profile:e,isLoading:a}){let{toast:l}=(0,n.useToast)(),r=(0,b.useQueryClient)(),[d,c]=(0,y.useState)(!1),o=(0,f.useForm)({resolver:(0,N.zodResolver)(q),defaultValues:{username:""}});(0,y.useEffect)(()=>{e&&o.reset({username:e.username})},[e,o]);let m=(0,v.useMutation)({mutationFn:async e=>U(e),onSuccess:()=>{l({title:"Profile updated",description:"Your profile has been updated successfully."}),c(!1),r.invalidateQueries({queryKey:["/api/user/profile"]})},onError:e=>{l({title:"Update failed",description:e.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),u=o.handleSubmit(async e=>{m.mutate(e)});return a?(0,s.jsx)(t.Card,{children:(0,s.jsx)(t.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"}),(0,s.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"})]})})}):e?(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(t.CardTitle,{children:"Profile Information"}),!d&&(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[(0,s.jsx)(M.Edit2,{className:"mr-2 h-4 w-4"}),"Edit"]})]})}),(0,s.jsx)(t.CardContent,{children:d?(0,s.jsx)(C.Form,{...o,children:(0,s.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,s.jsx)(C.FormField,{control:o.control,name:"username",render:({field:e})=>(0,s.jsxs)(C.FormItem,{children:[(0,s.jsx)(C.FormLabel,{children:"Name"}),(0,s.jsx)(C.FormControl,{children:(0,s.jsx)(w.Input,{...e,placeholder:"Enter your name"})}),(0,s.jsx)(C.FormMessage,{})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.User,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:e.email})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),(0,s.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,s.jsx)(i.Button,{type:"submit",disabled:m.isPending,children:m.isPending?(0,s.jsx)(s.Fragment,{children:"Saving..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Check,{className:"mr-2 h-4 w-4"}),"Save Changes"]})}),(0,s.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>{c(!1),e&&o.reset({username:e.username})},disabled:m.isPending,children:[(0,s.jsx)(P.X,{className:"mr-2 h-4 w-4"}),"Cancel"]})]})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.User,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e.username||"Not set"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.User,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e.email})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Member Since"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(S.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}})(e.createdAt)})]})]})]})})]}):(0,s.jsx)(t.Card,{children:(0,s.jsx)(t.CardContent,{className:"pt-6",children:(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"Profile not found"})})})}function E(){let{user:e,authReady:r}=(0,p.useAuth)(),{toast:y}=(0,n.useToast)(),{theme:f,setTheme:N}=(0,j.useTheme)(),{data:g,isLoading:v}=(0,a.useQuery)({queryKey:["/api/user/profile"],enabled:r&&!!e}),{data:b}=(0,a.useQuery)({queryKey:["/api/user/subscription-status"],enabled:r&&!!e});if(!e)return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Please log in to view your account settings."})});let C=(e,s)=>{let a,t,i;"cancel"===e?(a="Request Subscription Cancellation",t="cancel",i="Cancellation"):"downgrade"===e?(a=`Request Downgrade to ${s} Plan`,t="downgrade",i=`Downgrade to ${s}`):(a=`Request Upgrade to ${s} Plan`,t="upgrade",i=`Upgrade to ${s}`);let l=encodeURIComponent(`Hello 5Ducks Support,

I would like to ${t} my subscription.

Account Email: ${g?.email}
Current Plan: ${b?.planDisplayName||"Not subscribed"}
Requested Action: ${i}

Please process this request and let me know if you need any additional information.

Best regards,
${g?.username}`);return`mailto:support@5ducks.ai?subject=${encodeURIComponent(a)}&body=${l}`};return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(B,{profile:g,isLoading:v}),(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Settings,{className:"h-5 w-5"}),"Settings"]}),(0,s.jsx)(t.CardDescription,{children:"Customize your app experience"})]}),(0,s.jsx)(t.CardContent,{className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(l.Label,{children:"Appearance"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose how the app looks for you"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.Button,{variant:"light"===f?"default":"outline",size:"sm",className:"flex-1",onClick:()=>N("light"),"data-testid":"button-theme-light",children:[(0,s.jsx)(u.Sun,{className:"mr-2 h-4 w-4"}),"Light"]}),(0,s.jsxs)(i.Button,{variant:"dark"===f?"default":"outline",size:"sm",className:"flex-1",onClick:()=>N("dark"),"data-testid":"button-theme-dark",children:[(0,s.jsx)(x.Moon,{className:"mr-2 h-4 w-4"}),"Dark"]}),(0,s.jsxs)(i.Button,{variant:"system"===f?"default":"outline",size:"sm",className:"flex-1",onClick:()=>N("system"),"data-testid":"button-theme-system",children:[(0,s.jsx)(h,{className:"mr-2 h-4 w-4"}),"System"]})]})]})})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsxs)(t.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(d,{className:"h-5 w-5"}),"Billing"]}),(0,s.jsx)(t.CardDescription,{children:"Payment methods and billing history"})]}),(0,s.jsxs)(t.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{children:"Current Plan"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:b?.planDisplayName||"Not subscribed"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{children:"Subscription Actions"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Click to send email requests to support"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.open(C("downgrade","The Duckling")),children:[(0,s.jsx)(o.Mail,{className:"mr-2 h-4 w-4"}),'Downgrade to "The Duckling"',(0,s.jsx)(c.ExternalLink,{className:"ml-auto h-4 w-4"})]}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.open(C("upgrade","Mama Duck")),children:[(0,s.jsx)(o.Mail,{className:"mr-2 h-4 w-4"}),'Upgrade to "Mama Duck"',(0,s.jsx)(c.ExternalLink,{className:"ml-auto h-4 w-4"})]}),b?.isSubscribed&&(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",onClick:()=>window.open(C("cancel")),children:[(0,s.jsx)(o.Mail,{className:"mr-2 h-4 w-4"}),"Cancel Subscription",(0,s.jsx)(c.ExternalLink,{className:"ml-auto h-4 w-4"})]})]})]})]})]})]})})}e.s(["default",()=>E],13786)},61958,e=>{e.n(e.i(13786))}]);