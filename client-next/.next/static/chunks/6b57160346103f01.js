(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83086,e=>{"use strict";let a=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>a],83086)},8589,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(52301);let r=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})}));r.displayName="Table";let i=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("thead",{ref:r,className:(0,t.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let l=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tbody",{ref:r,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s}));l.displayName="TableBody",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tfoot",{ref:r,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let n=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tr",{ref:r,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));n.displayName="TableRow";let d=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("th",{ref:r,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));d.displayName="TableHead";let c=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("td",{ref:r,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableCell",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("caption",{ref:r,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>l,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>i,"TableRow",()=>n])},70273,e=>{"use strict";let a=(0,e.i(75254).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);e.s(["Star",()=>a],70273)},7486,e=>{"use strict";let a=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>a],7486)},25652,e=>{"use strict";let a=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>a],25652)},16715,e=>{"use strict";let a=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],16715)},48256,e=>{"use strict";let a=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>a],48256)},94333,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(25913),r=e.i(52301);let i=(0,t.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef(({className:e,variant:s,...t},l)=>(0,a.jsx)("div",{ref:l,role:"alert",className:(0,r.cn)(i({variant:s}),e),...t}));l.displayName="Alert",s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let n=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",e),...s}));n.displayName="AlertDescription",e.s(["Alert",()=>l,"AlertDescription",()=>n])},99439,e=>{"use strict";var a=e.i(43476),s=e.i(18566),t=e.i(66027),r=e.i(54616),i=e.i(12598),l=e.i(4766),n=e.i(38785),d=e.i(8589),c=e.i(94333),o=e.i(7486),h=e.i(61911),m=e.i(48256),x=e.i(63488),p=e.i(71689),u=e.i(70273),f=e.i(25652),j=e.i(16715);let b=(0,e.i(75254).default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var g=e.i(83086),v=e.i(6625),y=e.i(58260),N=e.i(84923),C=e.i(94318),w=e.i(10704);function k({company:e,initialContacts:k}){let T=(0,s.useRouter)(),{toast:R}=(0,y.useToast)();(0,i.useQueryClient)();let{user:M}=(0,C.useAuth)(),{openModal:S}=(0,w.useRegistrationModal)(),{data:A=k,refetch:H}=(0,t.useQuery)({queryKey:["/api/companies",e.id,"contacts"],initialData:k}),B=(0,r.useMutation)({mutationFn:async()=>{let a=await (0,N.apiRequest)("POST",`/api/companies/${e.id}/enrich-contacts`);if(!a.ok)throw Error("Failed to enrich contacts");return a.json()},onSuccess:async()=>{await H(),R({title:"Contacts Updated",description:"Successfully refreshed company contact information."})},onError:e=>{R({title:"Update Failed",description:e instanceof Error?e.message:"Failed to update contact information",variant:"destructive"})}}),P=[{name:"Website Ranking",value:e.ranking||0,icon:m.Globe},{name:"Company Size",value:e.size||0,icon:h.Users},{name:"LinkedIn Score",value:e.linkedinProminence||0,icon:f.TrendingUp},{name:"Customer Count",value:e.customerCount||0,icon:o.Building2}];return(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsxs)(v.Button,{variant:"ghost",className:"mb-6",onClick:()=>{window.history.length>1?window.history.back():T.push("/")},children:[(0,a.jsx)(p.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,a.jsxs)("div",{className:"grid gap-8",children:[(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.CardTitle,{className:"text-2xl font-bold",children:e.name}),e.description&&(0,a.jsx)(l.CardDescription,{className:"mt-2",children:e.description})]}),(0,a.jsxs)(n.Badge,{className:"text-lg py-2",variant:e.totalScore&&e.totalScore>70?"default":"secondary",children:["Score: ",e.totalScore??"N/A"]})]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:P.map(e=>(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e.name})]}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-2",children:e.value})]})},e.name))})})]}),!M&&A.some(e=>{var a;return!!(a=e.email)&&a.includes("***")})&&(0,a.jsxs)(c.Alert,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:[(0,a.jsx)(g.Sparkles,{className:"h-4 w-4 text-primary"}),(0,a.jsxs)(c.AlertDescription,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Sign up to see the full email address and run search prompts with AI - 100 credits included."}),(0,a.jsx)(v.Button,{size:"sm",onClick:()=>S(),className:"ml-4 shrink-0","data-testid":"button-signup-cta",children:"Sign Up Free"})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Mail,{className:"h-5 w-5"}),"Key Contacts"]}),M&&(0,a.jsxs)(v.Button,{variant:"outline",onClick:()=>{B.mutate()},disabled:B.isPending,children:[(0,a.jsx)(j.RefreshCw,{className:`h-4 w-4 mr-2 ${B.isPending?"animate-spin":""}`}),"Enrich Contacts"]})]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Name"}),(0,a.jsx)(d.TableHead,{children:"Role"}),(0,a.jsx)(d.TableHead,{children:"Email"}),(0,a.jsx)(d.TableHead,{children:"Score"})]})}),(0,a.jsx)(d.TableBody,{children:A.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{className:"font-medium",children:e.name}),(0,a.jsx)(d.TableCell,{children:e.role}),(0,a.jsx)(d.TableCell,{children:e.email}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(n.Badge,{variant:"secondary",children:e.probability||0})})]},e.id))})]})})]}),((e.services?.length??0)>0||(e.validationPoints?.length??0)>0)&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[e.services&&e.services.length>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{children:"Services Offered"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.services.map((e,s)=>(0,a.jsx)(n.Badge,{variant:"secondary",children:e},s))})})]}),e.validationPoints&&e.validationPoints.length>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{children:"Validation Points"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsx)("ul",{className:"space-y-2",children:e.validationPoints.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Star,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{children:e})]},s))})})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Globe,{className:"h-5 w-5"}),"Company Information"]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(m.Globe,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Company Website:"}),e.website?(0,a.jsx)("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:e.website}):(0,a.jsx)("span",{className:"italic",children:"No website available"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(b,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Company Profile:"}),e.alternativeProfileUrl?(0,a.jsx)("a",{href:e.alternativeProfileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:e.alternativeProfileUrl}):(0,a.jsx)("span",{className:"italic",children:"No profile link available"})]}),e.age&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(o.Building2,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Company Age:"}),(0,a.jsxs)("span",{children:[e.age," years"]})]})]})})]})]})]})}e.s(["default",()=>k],99439)}]);