(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95654,37152,98623,82802,68706,68277,55253,49540,85532,58649,50639,65958,47658,52701,90303,92650,17784,e=>{"use strict";var t,s=e.i(43476),a=e.i(71645),r=e.i(6625),n=e.i(37880),i=e.i(90250),l=e.i(37727),o=e.i(20278),c=e.i(26336),d=e.i(98361),m=e.i(56909),u=e.i(67240),p=e.i(54616),h=e.i(84923),x=e.i(58260);function g({state:e,onStateChange:t}){let[g,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(1),[v,j]=(0,a.useState)({productService:"",customerFeedback:"",website:""}),[w,N]=(0,a.useState)(!1),[S,C]=(0,a.useState)([]),[T,k]=(0,a.useState)(!1),[E,A]=(0,a.useState)(""),[D,_]=(0,a.useState)(!1),[O,L]=(0,a.useState)(null),[P,R]=(0,a.useState)(""),[M,I]=(0,a.useState)(null),[B,F]=(0,a.useState)(!1),[z,H]=(0,a.useState)(!1),$=(0,a.useRef)(null),U=(0,a.useRef)(null),q=async e=>{if(!O||!D)return;let t=O.options[e];await X(t,null)},G=async()=>{P.trim()&&await X(null,P.trim())},W=e=>{R(e)},Y=()=>({businessType:g,productService:v.productService,customerFeedback:v.customerFeedback,website:v.website}),{toast:Q}=(0,x.useToast)(),K=(0,p.useMutation)({mutationFn:async e=>(await (0,h.apiRequest)("POST","/api/strategic-profiles/save-from-chat",e)).json(),onSuccess:()=>{Q({title:"Strategy Saved",description:"Your strategy has been saved as a product on your dashboard."}),h.queryClient.invalidateQueries({queryKey:["/api/products"]}),J(),t("hidden")},onError:e=>{Q({title:"Save Failed",description:e.message,variant:"destructive"})}}),J=async()=>{try{let e=Y(),t=await (0,h.apiRequest)("GET","/api/products"),s=(await t.json()).find(t=>"in_progress"===t.status&&t.productService===e.productService&&t.customerFeedback===e.customerFeedback&&t.website===e.website);s&&(await (0,h.apiRequest)("DELETE",`/api/strategic-profiles/${s.id}`),h.queryClient.invalidateQueries({queryKey:["/api/products"]}))}catch(e){console.error("Error cleaning up strategy profile:",e)}f(null),b(1),j({productService:"",customerFeedback:"",website:""}),N(!1),C([]),k(!1),A(""),_(!1),L(null),R(""),I(null),F(!1)},V=()=>{setTimeout(()=>{$.current&&($.current.scrollTop=$.current.scrollHeight)},100)};(0,a.useEffect)(()=>{V()},[S]),(0,a.useEffect)(()=>{B&&V()},[B]),(0,a.useEffect)(()=>{!w&&g&&U.current&&setTimeout(()=>{let e=U.current?.querySelector("input, textarea");e&&e.focus()},100)},[y,w,g]),(0,a.useEffect)(()=>(window.selectBoundaryOption=q,window.selectCustomBoundary=G,window.updateCustomBoundaryInput=W,()=>{delete window.selectBoundaryOption,delete window.selectCustomBoundary,delete window.updateCustomBoundaryInput}),[q,G,W]);let X=async(e,t)=>{try{_(!1);let s={id:Date.now().toString(),content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Confirming your boundary selection...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(e=>[...e,s]),k(!0);let a=localStorage.getItem("authToken"),r=await fetch("/api/strategy/boundary/confirm",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({selectedOption:e,customBoundary:t,productContext:O?.productContext})});if(!r.ok)throw Error("Failed to confirm boundary selection");let n=await r.json();k(!1),C(e=>e.filter(e=>"Confirming your boundary selection..."!==e.content));let i=`
        <div class="strategy-step mb-4 p-4 bg-green-50 border-l-4 border-green-400 rounded">
          <h4 class="font-semibold text-green-800 mb-2">
            Target Boundary Confirmed (Step 1/3)
          </h4>
          <div class="text-gray-700">${n.content}</div>
        </div>`,l={id:`boundary-confirmed-${Date.now()}`,content:i,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,l]),await Z(n.content),n.salesApproachContext&&I(n.salesApproachContext)}catch(t){k(!1),C(e=>e.filter(e=>"Confirming your boundary selection..."!==e.content));let e={id:(Date.now()+2).toString(),content:"Sorry, there was an error confirming your selection. Please try again.",sender:"ai",timestamp:new Date};C(t=>[...t,e])}},Z=async e=>{try{if(!O)return;let{initialTarget:t,refinedTarget:s,productContext:a}=O,r={id:`sprint-loading-${Date.now()}`,content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Creating sprint strategy...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(e=>[...e,r]);let n=localStorage.getItem("authToken"),i=await fetch("/api/strategy/sprint",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({boundary:e,refinedTarget:s,productContext:a})});if(i.ok){let r=await i.json();C(e=>e.filter(e=>"Creating sprint strategy..."!==e.content));let l=`
          <div class="strategy-step mb-4 p-4 bg-green-50 border-l-4 border-green-400 rounded">
            <h4 class="font-semibold text-green-800 mb-2">
              Sprint Strategy (Step 2/3)
            </h4>
            <div class="text-gray-700">${r.content}</div>
          </div>`,o={id:`sprint-${Date.now()}`,content:l,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,o]);let c={id:`queries-loading-${Date.now()}`,content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Generating daily search queries...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(e=>[...e,c]);let d=await fetch("/api/strategy/queries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({boundary:e,sprintPrompt:r.content,productContext:a})});if(d.ok){let a=await d.json();C(e=>e.filter(e=>"Generating daily search queries..."!==e.content));let n=`
            <div class="strategy-step mb-4 p-4 bg-green-50 border-l-4 border-green-400 rounded">
              <h4 class="font-semibold text-green-800 mb-2">
                Daily Search Queries (Step 3/3)
              </h4>
              <div class="text-gray-700">${a.content}</div>
            </div>`,i={id:`queries-${Date.now()}`,content:n,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,i]),await ee({boundary:e,sprintPrompt:r.content,dailyQueries:Array.isArray(a.content)?a.content:a.content.split("\n").filter(e=>e.trim())},t,s)}}}catch(t){console.error("Error continuing strategy generation:",t);let e={id:`error-${Date.now()}`,content:"There was an error generating your strategy. Please try again.",sender:"ai",timestamp:new Date};C(t=>[...t,e])}},ee=async(e,t,s)=>{let a=`
      <div class="strategy-complete mt-6 p-6 bg-blue-50 border border-blue-200 rounded-lg">
        <h3 class="text-xl font-bold text-blue-900 mb-4">ðŸŽ¯ 90-Day Target Search Strategy</h3>
        <div class="space-y-4">
          <div>
            <h4 class="font-semibold text-blue-800">Target Boundary:</h4>
            <p class="text-gray-700">${e.boundary}</p>
          </div>
          <div>
            <h4 class="font-semibold text-blue-800">Sprint Focus:</h4>
            <p class="text-gray-700">${e.sprintPrompt}</p>
          </div>
          <div>
            <h4 class="font-semibold text-blue-800">Daily Search Queries:</h4>
            <ul class="list-disc ml-6 text-gray-700">
              ${e.dailyQueries.map(e=>`<li>${e}</li>`).join("")}
            </ul>
          </div>
        </div>
        <div class="mt-6 text-center">
          <p class="text-blue-800 font-medium">âœ“ Strategic onboarding complete! You're ready to start your outreach.</p>
        </div>
      </div>`,r={id:`strategy-complete-${Date.now()}`,content:a,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,r]),setTimeout(()=>{let e=`
        <div class="boundary-options bg-blue-50 border border-blue-200 rounded-lg p-4 my-3">
          <h3 class="font-bold text-lg text-blue-800 mb-1">Perfect! Your strategy is complete.</h3>
          <p class="text-sm text-blue-600 mb-3">Now let's create your marketing context document to guide email campaign creation.</p>
          <button onclick="window.generateSalesApproach && window.generateSalesApproach()" 
                  class="w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors font-medium">
            Create My Marketing Context Document
          </button>
        </div>`,t={id:`sales-approach-prompt-${Date.now()}`,content:e,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,t])},100)};(0,a.useEffect)(()=>{let s=()=>{if("sidebar"===e||"fullscreen"===e){let s=window.innerWidth<768?"fullscreen":"sidebar";s!==e&&t(s)}};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[e,t]),(0,a.useEffect)(()=>{if("hidden"!==e&&"minimized"!==e){let e=new URLSearchParams(window.location.search).get("type");e&&f(e)}},[e]),(0,a.useEffect)(()=>(window.selectBoundaryOption=q,window.selectCustomBoundary=G,window.updateCustomBoundaryInput=W,window.generateSalesApproach=em,window.generateProductOffers=ed,()=>{delete window.selectBoundaryOption,delete window.selectCustomBoundary,delete window.updateCustomBoundaryInput,delete window.generateSalesApproach,delete window.generateProductOffers}),[O,D,P]);let et=[{title:"What is the product/service you sell?",subtitle:"Describe it in 1 sentence",field:"productService",type:"textarea",placeholder:"Premium coffee machines for small officesâ€¦"},{title:"What do customers say they like?",subtitle:"What is one thing customers like about your product or the way you sell it?",field:"customerFeedback",type:"textarea",placeholder:"Fast delivery and easy setup..."},{title:"Where can we learn more?",subtitle:"Do you have a website, or any page online (Etsy, FB, or any link) that explains your product/service?",field:"website",type:"input",placeholder:"Example: https://mycompany.com or https://etsy.com/shop/mystore"}][y-1],es=v[et.field],ea=es&&es.trim().length>0,er=e=>{j(t=>({...t,[et.field]:e}))},en=async e=>{try{console.log("Processing strategy chat with input:",e);let t=localStorage.getItem("authToken"),s=await fetch("/api/onboarding/strategy-chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({userInput:e,productContext:{productService:v.productService,customerFeedback:v.customerFeedback,website:v.website},conversationHistory:S})});if(s.ok){let e=await s.json();if(console.log("Strategy chat response:",e),"product_summary"===e.type||"email_strategy"===e.type||"sales_approach"===e.type||"product_offers"===e.type)eo(e),"product_offers"===e.type&&setTimeout(()=>{H(!1),F(!0)},1e3);else if("progressive_strategy"===e.type){let t={id:Date.now().toString(),content:ec(e.message),sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,t]),setTimeout(async()=>{await ei(e.initialTarget,e.refinedTarget)},500)}else if("conversation"===e.type){let t={id:Date.now().toString(),content:ec(e.message),sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,t])}}}catch(e){console.error("Strategy chat error:",e)}},ei=async(e,t)=>{try{let s={productService:v.productService,customerFeedback:v.customerFeedback,website:v.website};if(!s.productService||!s.customerFeedback||!s.website){console.error("Missing product context:",{productService:!!s.productService,customerFeedback:!!s.customerFeedback,website:!!s.website});let e={id:Date.now().toString(),content:"I need your product information to create the strategy. Let me restart the process.",sender:"ai",timestamp:new Date};C(t=>[...t,e]);return}let a={id:Date.now().toString(),content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Analyzing your market scope...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(e=>[...e,a]),console.log("Calling boundary API with:",{initialTarget:e,refinedTarget:t,productContext:s});let r=localStorage.getItem("authToken"),n=await fetch("/api/strategy/boundary",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({initialTarget:e,refinedTarget:t,productContext:s})});if(n.ok){let a=await n.json();if("boundary_options"===a.type){console.log("Boundary data received:",a),console.log("About to display boundary options..."),el(a,s,e,t),console.log("Boundary options displayed, returning to wait for selection");return}eo(a),console.log("Boundary step completed:",a)}else throw console.error("Boundary API failed:",n.status,await n.text()),Error(`Boundary generation failed: ${n.status}`)}catch(t){console.error("Error in progressive strategy:",t);let e={id:Date.now().toString(),content:"There was an error generating your strategy. Let me try again.",sender:"ai",timestamp:new Date};C(t=>[...t,e])}},el=(e,t,s,a)=>{console.log("Displaying boundary options:",e),L({options:e.content,productContext:t,initialTarget:s,refinedTarget:a}),_(!0);let r=`
      <div class="boundary-options bg-blue-50 border border-blue-200 rounded-lg p-4 my-3">
        <h3 class="font-bold text-lg text-blue-800 mb-1">First we need to agree on a high-level market segment.</h3>
        <p class="text-sm text-blue-600 mb-3">Within this we will target ~700 companies across 6 sprints. Please choose your preferred approach:</p>
        <div class="options-list space-y-3 mb-4">
          ${e.content.map((e,t)=>`
            <div class="option-item p-3 bg-white border border-gray-200 rounded cursor-pointer hover:border-blue-600 transition-colors" 
                 onclick="window.selectBoundaryOption && window.selectBoundaryOption(${t})">
              <strong>${t+1}.</strong> ${e}
            </div>
          `).join("")}
        </div>
        <div class="custom-input-section">
          <p class="text-sm text-gray-600 mb-2">Or add your own:</p>
          <div class="flex gap-2">
            <input type="text" id="customBoundaryInput" placeholder="Your high-level target segment..." 
                   class="flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"
                   style="border: 1px solid #e5e7eb !important;"
                   value="${P}"
                   oninput="window.updateCustomBoundaryInput && window.updateCustomBoundaryInput(this.value)">
            <button onclick="window.selectCustomBoundary && window.selectCustomBoundary()" 
                    class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">
              Use This
            </button>
          </div>
        </div>
      </div>`,n={id:Date.now().toString(),content:r,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,n])},eo=e=>{if(C(e=>e.filter(e=>!e.isLoading)),"product_offers"===e.type){let t=`
        <div class="report-container bg-blue-50 border border-blue-200 rounded-lg p-4 my-3">
          <h3 class="font-bold text-lg text-blue-800 mb-2">${e.message}</h3>
          <div class="report-content text-gray-700">
            ${ec(e.data.content)}
          </div>
        </div>`,s={id:Date.now().toString(),content:t,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,s]);return}let t=`
      <div class="report-container bg-blue-50 border border-blue-200 rounded-lg p-4 my-3">
        <h3 class="font-bold text-lg text-blue-800 mb-2">${e.message}</h3>
        <div class="report-content text-gray-700">
          ${ec(e.data.content)}
        </div>
      </div>`,s={id:Date.now().toString(),content:t,sender:"ai",timestamp:new Date,isHTML:!0};C(e=>[...e,s]),"product_summary"===e.type&&setTimeout(()=>{let e={id:(Date.now()+1).toString(),content:ec('Oh, that\'s classy. ðŸ˜‰\nNow please give me **an example of a type of business you service** or sell to.\nLike this "[type of business] in [city/niche]"\n\nExamples:\n\n**Popular cafes** in Lower East Side, NYC\n\n**Real-estate insurance brokers** in Salt Lake City'),sender:"ai",timestamp:new Date,isHTML:!0};C(t=>[...t,e])},1e3)},ec=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold text-blue-700 mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-bold text-blue-800 mt-4 mb-3">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold text-blue-900 mt-4 mb-4">$1</h1>').replace(/^\- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/^(\d+)\. (.*$)/gim,'<li class="ml-4"><strong>$1.</strong> $2</li>').replace(/\n/g,"<br>"),ed=async()=>{try{let e={id:Date.now().toString(),content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Creating your product offer strategies...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(t=>[...t,e]),await en("Generate product offers")}catch(e){console.error("Product offers generation error:",e)}},em=async()=>{try{let e={id:Date.now().toString(),content:'<div class="flex items-center space-x-2"><div class="loading-spinner"></div><span>Creating your marketing context document...</span></div>',sender:"ai",timestamp:new Date,isHTML:!0,isLoading:!0};C(t=>[...t,e]);let t=localStorage.getItem("authToken"),s=await fetch("/api/onboarding/strategy-chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({userInput:"Generate sales approach",productContext:{productService:v?.productService,customerFeedback:v?.customerFeedback,website:v?.website},conversationHistory:S.map(e=>({sender:e.sender,content:e.content}))})});if(s.ok){let e=await s.json();eo(e),setTimeout(()=>{H(!0)},1e3)}}catch(e){console.error("Sales approach generation error:",e)}},eu=e=>{f(e),console.log("Business type selected:",e)},ep=async()=>{if(3===y){console.log("Form completed:",v);let e=v.productService?.trim()||"your offering",t=v.customerFeedback?.trim()||"positive feedback",s=v.website?.trim()||"no website provided";try{let e=localStorage.getItem("authToken"),t=await fetch("/api/onboarding/create-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessType:g,productService:v.productService,customerFeedback:v.customerFeedback,website:v.website})});if(t.ok){let e=await t.json();console.log("Profile created successfully:",e.profile)}else console.error("Failed to create profile")}catch(e){console.error("Error creating profile:",e)}let a=`Perfect!

**Your ${g} is:** ${e}
**Customers like:** ${t}
**And I can learn more at:** ${"no website provided"!==s?s:"no website was provided"}

Give me 5 seconds. I'm **building a product summary** so I can understand what you're selling.`;C([{id:Date.now().toString(),content:ec(a),sender:"ai",timestamp:new Date,isHTML:!0}]),N(!0),k(!0),setTimeout(async()=>{await en("Generate product summary"),k(!1)},100)}else b(y+1)},eh=async()=>{if(!E.trim()||T)return;let e={id:Date.now().toString(),content:E,sender:"user",timestamp:new Date};C(t=>[...t,e]),k(!0),A("");try{await en(E)}catch(e){console.error("Error sending message:",e)}finally{k(!1)}},ex=e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),ea&&ep())},eg=()=>{t("minimized")};if("hidden"===e)return null;if("minimized"===e)return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,s.jsx)(r.Button,{onClick:()=>t(window.innerWidth<768?"fullscreen":"sidebar"),className:"rounded-full w-14 h-14 bg-blue-600 hover:bg-blue-700 shadow-lg",size:"sm",children:(0,s.jsx)(o.Target,{className:"h-6 w-6 text-white"})})});let ef="fullscreen"===e,ey="sidebar"===e;return(0,s.jsxs)(s.Fragment,{children:[ef&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:eg}),(0,s.jsxs)("div",{className:`fixed z-50 bg-white shadow-2xl transition-all duration-300 ${ef?"inset-0 rounded-none":"top-4 right-4 w-96 h-[600px] border border-gray-200 rounded-lg"} overflow-hidden flex flex-col`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border-b bg-white flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-100 to-yellow-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"ðŸ¦†"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-900 text-sm",children:"Mama Duck - Strategic Planning"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Creating your email product strategy"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[ey&&(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{t("fullscreen")},children:(0,s.jsx)(d.Maximize2,{className:"h-4 w-4"})}),ef&&(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{t("sidebar")},children:(0,s.jsx)(c.Minimize2,{className:"h-4 w-4"})}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:eg,children:(0,s.jsx)(l.X,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{ref:$,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[S.map(e=>(0,s.jsx)("div",{className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,s.jsx)("div",{className:`max-w-[95%] lg:max-w-md p-3 rounded-lg ${"user"===e.sender?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:e.isHTML?(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}}):e.content})},e.id)),z&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸŽ¯ Ready for compelling offers!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Let's create 6 irresistible product offer strategies."})]}),(0,s.jsx)(r.Button,{onClick:ed,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Generate Product Offers"})]}),B&&(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸŽ‰ Your strategy is complete!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"What would you like to do next?"})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,s.jsxs)(r.Button,{onClick:()=>{let e=Y();K.mutate(e)},disabled:K.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[(0,s.jsx)(m.Save,{className:"h-4 w-4 mr-2"}),K.isPending?"Saving...":"Save as Product"]}),(0,s.jsxs)(r.Button,{onClick:J,variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:[(0,s.jsx)(u.RotateCcw,{className:"h-4 w-4 mr-2"}),"Restart Strategy"]})]})]}),T&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"loading-dots",children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{})]}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})})]}),(0,s.jsx)("div",{className:"border-t p-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n.Input,{value:E,onChange:e=>A(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eh())},placeholder:"Type your message...",disabled:T}),(0,s.jsx)(r.Button,{onClick:eh,disabled:!E.trim()||T,className:"bg-gradient-to-br from-blue-600 to-purple-600 hover:opacity-90 text-white border-none",children:"Send"})]})})]}):(0,s.jsx)("div",{ref:U,className:"flex-1 overflow-y-auto p-6",children:g?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"flex justify-center space-x-2 mb-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e<=y?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e},e))})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:et.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:et.subtitle}),"textarea"===et.type?(0,s.jsx)(i.Textarea,{value:es,onChange:e=>er(e.target.value),onKeyDown:ex,placeholder:et.placeholder,className:"min-h-[60px] resize-none"}):(0,s.jsx)(n.Input,{value:es,onChange:e=>er(e.target.value),onKeyDown:ex,placeholder:et.placeholder})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,s.jsx)(r.Button,{variant:"outline",onClick:()=>{y>1&&b(y-1)},disabled:1===y,children:"Previous"}),(0,s.jsx)(r.Button,{onClick:ep,disabled:!ea,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 py-3 px-8 text-base font-medium flex-1",children:3===y?"Start Strategy":"Next"})]})]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Let's get started!"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"What are you selling?"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)(r.Button,{variant:"outline",onClick:()=>eu("product"),className:"h-16 flex flex-col items-center justify-center space-y-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸ“¦"}),(0,s.jsx)("span",{children:"Product"})]}),(0,s.jsxs)(r.Button,{variant:"outline",onClick:()=>eu("service"),className:"h-16 flex flex-col items-center justify-center space-y-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸ› ï¸"}),(0,s.jsx)("span",{children:"Service"})]})]})]})})})]})]})}e.s(["StrategyOverlay",()=>g],37152);let{entries:f,setPrototypeOf:y,isFrozen:b,getPrototypeOf:v,getOwnPropertyDescriptor:j}=Object,{freeze:w,seal:N,create:S}=Object,{apply:C,construct:T}="u">typeof Reflect&&Reflect;w||(w=function(e){return e}),N||(N=function(e){return e}),C||(C=function(e,t){for(var s=arguments.length,a=Array(s>2?s-2:0),r=2;r<s;r++)a[r-2]=arguments[r];return e.apply(t,a)}),T||(T=function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return new e(...s)});let k=H(Array.prototype.forEach),E=H(Array.prototype.lastIndexOf),A=H(Array.prototype.pop),D=H(Array.prototype.push),_=H(Array.prototype.splice),O=H(String.prototype.toLowerCase),L=H(String.prototype.toString),P=H(String.prototype.match),R=H(String.prototype.replace),M=H(String.prototype.indexOf),I=H(String.prototype.trim),B=H(Object.prototype.hasOwnProperty),F=H(RegExp.prototype.test),z=(t=TypeError,function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return T(t,s)});function H(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,a=Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];return C(e,t,a)}}function $(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;y&&y(e,null);let a=t.length;for(;a--;){let r=t[a];if("string"==typeof r){let e=s(r);e!==r&&(b(t)||(t[a]=e),r=e)}e[r]=!0}return e}function U(e){let t=S(null);for(let[s,a]of f(e))B(e,s)&&(Array.isArray(a)?t[s]=function(e){for(let t=0;t<e.length;t++)B(e,t)||(e[t]=null);return e}(a):a&&"object"==typeof a&&a.constructor===Object?t[s]=U(a):t[s]=a);return t}function q(e,t){for(;null!==e;){let s=j(e,t);if(s){if(s.get)return H(s.get);if("function"==typeof s.value)return H(s.value)}e=v(e)}return function(){return null}}let G=w(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W=w(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=w(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q=w(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=w(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),J=w(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=w(["#text"]),X=w(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Z=w(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ee=w(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),et=w(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),es=N(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ea=N(/<%[\w\W]*|[\w\W]*%>/gm),er=N(/\$\{[\w\W]*/gm),en=N(/^data-[\-\w.\u00B7-\uFFFF]+$/),ei=N(/^aria-[\-\w]+$/),el=N(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eo=N(/^(?:\w+script|data):/i),ec=N(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ed=N(/^html$/i);var em=Object.freeze({__proto__:null,ARIA_ATTR:ei,ATTR_WHITESPACE:ec,CUSTOM_ELEMENT:N(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:en,DOCTYPE_NAME:ed,ERB_EXPR:ea,IS_ALLOWED_URI:el,IS_SCRIPT_OR_DATA:eo,MUSTACHE_EXPR:es,TMPLIT_EXPR:er});let eu=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let s=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(s=t.getAttribute(a));let r="dompurify"+(s?"#"+s:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}},ep=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var eh=function e(){let t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"u"<typeof window?null:window,a=t=>e(t);if(a.version="3.3.1",a.removed=[],!s||!s.document||9!==s.document.nodeType||!s.Element)return a.isSupported=!1,a;let{document:r}=s,n=r,i=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:c,Element:d,NodeFilter:m,NamedNodeMap:u=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:x}=s,g=d.prototype,y=q(g,"cloneNode"),b=q(g,"remove"),v=q(g,"nextSibling"),j=q(g,"childNodes"),N=q(g,"parentNode");if("function"==typeof o){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let C="",{implementation:T,createNodeIterator:H,createDocumentFragment:es,getElementsByTagName:ea}=r,{importNode:er}=n,en=ep();a.isSupported="function"==typeof f&&"function"==typeof N&&T&&void 0!==T.createHTMLDocument;let{MUSTACHE_EXPR:ei,ERB_EXPR:eo,TMPLIT_EXPR:ec,DATA_ATTR:eh,ARIA_ATTR:ex,IS_SCRIPT_OR_DATA:eg,ATTR_WHITESPACE:ef,CUSTOM_ELEMENT:ey}=em,{IS_ALLOWED_URI:eb}=em,ev=null,ej=$({},[...G,...W,...Y,...K,...V]),ew=null,eN=$({},[...X,...Z,...ee,...et]),eS=Object.seal(S(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eC=null,eT=null,ek=Object.seal(S(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),eE=!0,eA=!0,eD=!1,e_=!0,eO=!1,eL=!0,eP=!1,eR=!1,eM=!1,eI=!1,eB=!1,eF=!1,ez=!0,eH=!1,e$=!0,eU=!1,eq={},eG=null,eW=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eY=null,eQ=$({},["audio","video","img","source","image","track"]),eK=null,eJ=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eV="http://www.w3.org/1998/Math/MathML",eX="http://www.w3.org/2000/svg",eZ="http://www.w3.org/1999/xhtml",e0=eZ,e1=!1,e2=null,e4=$({},[eV,eX,eZ],L),e6=$({},["mi","mo","mn","ms","mtext"]),e3=$({},["annotation-xml"]),e5=$({},["title","style","font","a","script"]),e8=null,e9=["application/xhtml+xml","text/html"],e7=null,te=null,tt=r.createElement("form"),ts=function(e){return e instanceof RegExp||e instanceof Function},ta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=U(e),e7="application/xhtml+xml"===(e8=-1===e9.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?L:O,ev=B(e,"ALLOWED_TAGS")?$({},e.ALLOWED_TAGS,e7):ej,ew=B(e,"ALLOWED_ATTR")?$({},e.ALLOWED_ATTR,e7):eN,e2=B(e,"ALLOWED_NAMESPACES")?$({},e.ALLOWED_NAMESPACES,L):e4,eK=B(e,"ADD_URI_SAFE_ATTR")?$(U(eJ),e.ADD_URI_SAFE_ATTR,e7):eJ,eY=B(e,"ADD_DATA_URI_TAGS")?$(U(eQ),e.ADD_DATA_URI_TAGS,e7):eQ,eG=B(e,"FORBID_CONTENTS")?$({},e.FORBID_CONTENTS,e7):eW,eC=B(e,"FORBID_TAGS")?$({},e.FORBID_TAGS,e7):U({}),eT=B(e,"FORBID_ATTR")?$({},e.FORBID_ATTR,e7):U({}),eq=!!B(e,"USE_PROFILES")&&e.USE_PROFILES,eE=!1!==e.ALLOW_ARIA_ATTR,eA=!1!==e.ALLOW_DATA_ATTR,eD=e.ALLOW_UNKNOWN_PROTOCOLS||!1,e_=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eO=e.SAFE_FOR_TEMPLATES||!1,eL=!1!==e.SAFE_FOR_XML,eP=e.WHOLE_DOCUMENT||!1,eI=e.RETURN_DOM||!1,eB=e.RETURN_DOM_FRAGMENT||!1,eF=e.RETURN_TRUSTED_TYPE||!1,eM=e.FORCE_BODY||!1,ez=!1!==e.SANITIZE_DOM,eH=e.SANITIZE_NAMED_PROPS||!1,e$=!1!==e.KEEP_CONTENT,eU=e.IN_PLACE||!1,eb=e.ALLOWED_URI_REGEXP||el,e0=e.NAMESPACE||eZ,e6=e.MATHML_TEXT_INTEGRATION_POINTS||e6,e3=e.HTML_INTEGRATION_POINTS||e3,eS=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ts(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eS.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ts(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eS.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eS.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eO&&(eA=!1),eB&&(eI=!0),eq&&(ev=$({},V),ew=[],!0===eq.html&&($(ev,G),$(ew,X)),!0===eq.svg&&($(ev,W),$(ew,Z),$(ew,et)),!0===eq.svgFilters&&($(ev,Y),$(ew,Z),$(ew,et)),!0===eq.mathMl&&($(ev,K),$(ew,ee),$(ew,et))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?ek.tagCheck=e.ADD_TAGS:(ev===ej&&(ev=U(ev)),$(ev,e.ADD_TAGS,e7))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?ek.attributeCheck=e.ADD_ATTR:(ew===eN&&(ew=U(ew)),$(ew,e.ADD_ATTR,e7))),e.ADD_URI_SAFE_ATTR&&$(eK,e.ADD_URI_SAFE_ATTR,e7),e.FORBID_CONTENTS&&(eG===eW&&(eG=U(eG)),$(eG,e.FORBID_CONTENTS,e7)),e.ADD_FORBID_CONTENTS&&(eG===eW&&(eG=U(eG)),$(eG,e.ADD_FORBID_CONTENTS,e7)),e$&&(ev["#text"]=!0),eP&&$(ev,["html","head","body"]),ev.table&&($(ev,["tbody"]),delete eC.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw z('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw z('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=eu(x,i)),null!==t&&"string"==typeof C&&(C=t.createHTML(""));w&&w(e),te=e}},tr=$({},[...W,...Y,...Q]),tn=$({},[...K,...J]),ti=function(e){let t=N(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let s=O(e.tagName),a=O(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eX?t.namespaceURI===eZ?"svg"===s:t.namespaceURI===eV?"svg"===s&&("annotation-xml"===a||e6[a]):!!tr[s]:e.namespaceURI===eV?t.namespaceURI===eZ?"math"===s:t.namespaceURI===eX?"math"===s&&e3[a]:!!tn[s]:e.namespaceURI===eZ?(t.namespaceURI!==eX||!!e3[a])&&(t.namespaceURI!==eV||!!e6[a])&&!tn[s]&&(e5[s]||!tr[s]):"application/xhtml+xml"===e8&&!!e2[e.namespaceURI])},tl=function(e){D(a.removed,{element:e});try{N(e).removeChild(e)}catch(t){b(e)}},to=function(e,t){try{D(a.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){D(a.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(eI||eB)try{tl(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},tc=function(e){let s=null,a=null;if(eM)e="<remove></remove>"+e;else{let t=P(e,/^[\r\n\t ]+/);a=t&&t[0]}"application/xhtml+xml"===e8&&e0===eZ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let n=t?t.createHTML(e):e;if(e0===eZ)try{s=new h().parseFromString(n,e8)}catch(e){}if(!s||!s.documentElement){s=T.createDocument(e0,"template",null);try{s.documentElement.innerHTML=e1?C:n}catch(e){}}let i=s.body||s.documentElement;return(e&&a&&i.insertBefore(r.createTextNode(a),i.childNodes[0]||null),e0===eZ)?ea.call(s,eP?"html":"body")[0]:eP?s.documentElement:i},td=function(e){return H.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},tm=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tu=function(e){return"function"==typeof c&&e instanceof c};function tp(e,t,s){k(e,e=>{e.call(a,t,s,te)})}let th=function(e){let t=null;if(tp(en.beforeSanitizeElements,e,null),tm(e))return tl(e),!0;let s=e7(e.nodeName);if(tp(en.uponSanitizeElement,e,{tagName:s,allowedTags:ev}),eL&&e.hasChildNodes()&&!tu(e.firstElementChild)&&F(/<[/\w!]/g,e.innerHTML)&&F(/<[/\w!]/g,e.textContent)||7===e.nodeType||eL&&8===e.nodeType&&F(/<[/\w]/g,e.data))return tl(e),!0;if(!(ek.tagCheck instanceof Function&&ek.tagCheck(s))&&(!ev[s]||eC[s])){if(!eC[s]&&tg(s)&&(eS.tagNameCheck instanceof RegExp&&F(eS.tagNameCheck,s)||eS.tagNameCheck instanceof Function&&eS.tagNameCheck(s)))return!1;if(e$&&!eG[s]){let t=N(e)||e.parentNode,s=j(e)||e.childNodes;if(s&&t){let a=s.length;for(let r=a-1;r>=0;--r){let a=y(s[r],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,v(e))}}}return tl(e),!0}return e instanceof d&&!ti(e)||("noscript"===s||"noembed"===s||"noframes"===s)&&F(/<\/no(script|embed|frames)/i,e.innerHTML)?(tl(e),!0):(eO&&3===e.nodeType&&(t=e.textContent,k([ei,eo,ec],e=>{t=R(t,e," ")}),e.textContent!==t&&(D(a.removed,{element:e.cloneNode()}),e.textContent=t)),tp(en.afterSanitizeElements,e,null),!1)},tx=function(e,t,s){if(ez&&("id"===t||"name"===t)&&(s in r||s in tt))return!1;if(eA&&!eT[t]&&F(eh,t));else if(eE&&F(ex,t));else if(ek.attributeCheck instanceof Function&&ek.attributeCheck(t,e));else if(!ew[t]||eT[t]){if(!(tg(e)&&(eS.tagNameCheck instanceof RegExp&&F(eS.tagNameCheck,e)||eS.tagNameCheck instanceof Function&&eS.tagNameCheck(e))&&(eS.attributeNameCheck instanceof RegExp&&F(eS.attributeNameCheck,t)||eS.attributeNameCheck instanceof Function&&eS.attributeNameCheck(t,e))||"is"===t&&eS.allowCustomizedBuiltInElements&&(eS.tagNameCheck instanceof RegExp&&F(eS.tagNameCheck,s)||eS.tagNameCheck instanceof Function&&eS.tagNameCheck(s))))return!1}else if(eK[t]);else if(F(eb,R(s,ef,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===M(s,"data:")&&eY[e]);else if(eD&&!F(eg,R(s,ef,"")));else if(s)return!1;return!0},tg=function(e){return"annotation-xml"!==e&&P(e,ey)},tf=function(e){tp(en.beforeSanitizeAttributes,e,null);let{attributes:s}=e;if(!s||tm(e))return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ew,forceKeepAttr:void 0},n=s.length;for(;n--;){let{name:i,namespaceURI:l,value:o}=s[n],c=e7(i),d="value"===i?o:I(o);if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,tp(en.uponSanitizeAttribute,e,r),d=r.attrValue,eH&&("id"===c||"name"===c)&&(to(i,e),d="user-content-"+d),eL&&F(/((--!?|])>)|<\/(style|title|textarea)/i,d)||"attributename"===c&&P(d,"href")){to(i,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr||!e_&&F(/\/>/i,d)){to(i,e);continue}eO&&k([ei,eo,ec],e=>{d=R(d,e," ")});let m=e7(e.nodeName);if(!tx(m,c,d)){to(i,e);continue}if(t&&"object"==typeof x&&"function"==typeof x.getAttributeType)if(l);else switch(x.getAttributeType(m,c)){case"TrustedHTML":d=t.createHTML(d);break;case"TrustedScriptURL":d=t.createScriptURL(d)}if(d!==o)try{l?e.setAttributeNS(l,i,d):e.setAttribute(i,d),tm(e)?tl(e):A(a.removed)}catch(t){to(i,e)}}tp(en.afterSanitizeAttributes,e,null)},ty=function e(t){let s=null,a=td(t);for(tp(en.beforeSanitizeShadowDOM,t,null);s=a.nextNode();)tp(en.uponSanitizeShadowNode,s,null),th(s),tf(s),s.content instanceof l&&e(s.content);tp(en.afterSanitizeShadowDOM,t,null)};return a.sanitize=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,o=null,d=null;if((e1=!e)&&(e="<!-->"),"string"!=typeof e&&!tu(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw z("dirty is not a string, aborting")}else throw z("toString is not a function");if(!a.isSupported)return e;if(eR||ta(s),a.removed=[],"string"==typeof e&&(eU=!1),eU){if(e.nodeName){let t=e7(e.nodeName);if(!ev[t]||eC[t])throw z("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(i=(r=tc("<!---->")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!eI&&!eO&&!eP&&-1===e.indexOf("<"))return t&&eF?t.createHTML(e):e;if(!(r=tc(e)))return eI?null:eF?C:""}r&&eM&&tl(r.firstChild);let m=td(eU?e:r);for(;o=m.nextNode();)th(o),tf(o),o.content instanceof l&&ty(o.content);if(eU)return e;if(eI){if(eB)for(d=es.call(r.ownerDocument);r.firstChild;)d.appendChild(r.firstChild);else d=r;return(ew.shadowroot||ew.shadowrootmode)&&(d=er.call(n,d,!0)),d}let u=eP?r.outerHTML:r.innerHTML;return eP&&ev["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&F(ed,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),eO&&k([ei,eo,ec],e=>{u=R(u,e," ")}),t&&eF?t.createHTML(u):u},a.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ta(e),eR=!0},a.clearConfig=function(){te=null,eR=!1},a.isValidAttribute=function(e,t,s){return te||ta({}),tx(e7(e),e7(t),s)},a.addHook=function(e,t){"function"==typeof t&&D(en[e],t)},a.removeHook=function(e,t){if(void 0!==t){let s=E(en[e],t);return -1===s?void 0:_(en[e],s,1)[0]}return A(en[e])},a.removeHooks=function(e){en[e]=[]},a.removeAllHooks=function(){en=ep()},a}(),ex=e.i(4766),eg=e.i(38785),ef=e.i(92590),ey=e.i(78583),eb=e.i(87316),ev=e.i(55436),ej=e.i(63488),ew=e.i(74886),eN=e.i(40160),eS=e.i(88511),eC=e.i(69638),eT=e.i(3116),ek=e.i(78917),eE=e.i(31343),eA=e.i(75254);let eD=(0,eA.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),e_=(0,eA.default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var eO=e.i(39312),eL=e.i(73375),eP=e.i(63059),eR=e.i(18566);function eM({product:e,onClose:t}){let[n,i]=(0,a.useState)("overview"),{toast:l}=(0,x.useToast)(),c=(0,eR.useRouter)(),d=(0,a.useRef)(null),[m,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),g=e=>{if(!e)return null;try{return JSON.parse(e)}catch{return null}},f=(e,t)=>{navigator.clipboard.writeText(e),l({title:"Copied to clipboard",description:`${t} copied successfully`})},y=(0,a.useCallback)(()=>{let e=d.current;e&&(u(e.scrollLeft>0),h(e.scrollLeft<e.scrollWidth-e.clientWidth))},[]),b=(0,a.useCallback)(e=>{let t=d.current;t&&t.scrollBy({left:"left"===e?-200:200,behavior:"smooth"})},[]);(0,a.useEffect)(()=>{y();let e=d.current;if(e)return e.addEventListener("scroll",y),window.addEventListener("resize",y),()=>{e.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[y]);let v=g(e.productAnalysisSummary),j=g(e.reportSalesContextGuidance);g(e.reportSalesTargetingGuidance);let w=(e=>{if(!e)return[];try{return JSON.parse(e)}catch{return[]}})(e.dailySearchQueries),N=g(e.productOfferStrategies),S=N?.offers||[];return(0,s.jsxs)("div",{className:"bg-slate-50",children:[(0,s.jsx)("div",{className:"bg-white border-b border-slate-200 px-6 pt-6 pb-2",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-lg font-medium",children:"product"===e.businessType?"ðŸ“¦":"ðŸ› ï¸"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:e.name}),(0,s.jsx)("div",{className:"flex items-center gap-3 mt-1",children:(0,s.jsx)(eg.Badge,{variant:"completed"===e.status?"default":"secondary",className:`${"completed"===e.status?"bg-green-100 text-green-800 hover:bg-green-100":"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}`,children:"completed"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eC.CheckCircle,{className:"h-3 w-3 mr-1"}),"Complete"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eT.Clock,{className:"h-3 w-3 mr-1"}),"In Progress"]})})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-7",children:[(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(eS.Edit,{className:"h-4 w-4 md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Edit Strategy"})]}),(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(eN.Download,{className:"h-4 w-4 md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Export"})]})]})]})}),(0,s.jsx)("div",{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ef.Tabs,{value:n,onValueChange:i,className:"w-full",children:[(0,s.jsxs)("div",{className:"relative flex items-center",children:[m&&(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-white/90 hover:bg-white shadow-sm",onClick:()=>b("left"),"aria-label":"Scroll left",children:(0,s.jsx)(eL.ChevronLeft,{className:"h-4 w-4"})}),(0,s.jsxs)(ef.TabsList,{ref:d,className:"inline-flex w-full overflow-x-auto gap-1 scrollbar-hide justify-start",children:[(0,s.jsx)(ef.TabsTrigger,{value:"overview",className:"flex-shrink-0 whitespace-nowrap px-4 py-2",children:"Overview"}),(0,s.jsx)(ef.TabsTrigger,{value:"strategy",className:"flex-shrink-0 whitespace-nowrap px-4 py-2",children:"Strategy & Boundary"}),(0,s.jsx)(ef.TabsTrigger,{value:"implementation",className:"flex-shrink-0 whitespace-nowrap px-4 py-2",children:"Implementation"})]}),p&&(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-white/90 hover:bg-white shadow-sm",onClick:()=>b("right"),"aria-label":"Scroll right",children:(0,s.jsx)(eP.ChevronRight,{className:"h-4 w-4"})})]}),(0,s.jsx)(ef.TabsContent,{value:"overview",className:"mt-3 sm:mt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6",children:[(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(ey.FileText,{className:"h-5 w-5"}),"Strategic Overview"]})}),(0,s.jsxs)(ex.CardContent,{className:"space-y-4 px-3 py-6 pt-0 sm:px-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Product/Service"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:e.productService})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Customer Feedback"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:e.customerFeedback})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Website"}),(0,s.jsxs)("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.website,(0,s.jsx)(ek.ExternalLink,{className:"h-3 w-3"})]})]}),e.strategyHighLevelBoundary&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Strategic Boundary"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:e.strategyHighLevelBoundary})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Business Type"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"product"===e.businessType?"ðŸ“¦ Product":"ðŸ› ï¸ Service"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Created"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(eD,{className:"h-5 w-5"}),"Implementation Status"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Product Analysis"}),(0,s.jsx)(eg.Badge,{variant:e.productAnalysisSummary?"default":"secondary",children:e.productAnalysisSummary?"Complete":"Pending"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Strategic Boundary"}),(0,s.jsx)(eg.Badge,{variant:e.strategyHighLevelBoundary?"default":"secondary",children:e.strategyHighLevelBoundary?"Complete":"Pending"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Daily Queries"}),(0,s.jsx)(eg.Badge,{variant:e.dailySearchQueries?"default":"secondary",children:e.dailySearchQueries?"Complete":"Pending"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Sales Approach"}),(0,s.jsx)(eg.Badge,{variant:e.reportSalesContextGuidance?"default":"secondary",children:e.reportSalesContextGuidance?"Complete":"Pending"})]})]})})]}),(0,s.jsxs)(ex.Card,{className:"lg:col-span-2",children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(e_,{className:"h-5 w-5"}),"Product Analysis Summary"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:v?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:eh.sanitize(v.content.replace(/\n/g,"<br>"))}})}),(0,s.jsx)("div",{className:"flex items-center gap-2 pt-4 border-t",children:(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>f(v.content,"Product analysis"),children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy Analysis"]})})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(ey.FileText,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Product analysis not yet generated"})]})})]})]})}),(0,s.jsx)(ef.TabsContent,{value:"strategy",className:"mt-3 sm:mt-6",children:(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-6",children:[(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Target,{className:"h-5 w-5"}),"Strategic Boundary"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:e.strategyHighLevelBoundary?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,s.jsx)("p",{className:"text-lg font-medium text-blue-900",children:e.strategyHighLevelBoundary})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>f(e.strategyHighLevelBoundary,"Strategic boundary"),children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy Boundary"]})})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(o.Target,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Strategic boundary not yet defined"})]})})]}),(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(eb.Calendar,{className:"h-5 w-5"}),"Sprint Planning Prompt"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:e.exampleSprintPlanningPrompt?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 bg-slate-50 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:e.exampleSprintPlanningPrompt})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>f(e.exampleSprintPlanningPrompt,"Sprint planning prompt"),children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy Prompt"]})})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(eb.Calendar,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Sprint planning prompt not yet generated"})]})})]}),(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(ej.Mail,{className:"h-5 w-5"}),"Sales Context Guidance"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:j?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:eh.sanitize(j.content.replace(/\n/g,"<br>"))}})}),(0,s.jsx)("div",{className:"flex items-center gap-2 pt-4 border-t",children:(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>f(j.content,"Sales context guidance"),children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy Guidance"]})})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(ej.Mail,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Sales context guidance not yet generated"})]})})]})]})}),(0,s.jsxs)(ef.TabsContent,{value:"implementation",className:"mt-3 sm:mt-6",children:[(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(ev.Search,{className:"h-5 w-5"}),"Daily Search Queries"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:w.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:w.map((e,t)=>(0,s.jsx)("div",{className:"p-4 bg-slate-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-slate-500",children:["Query ",t+1]})}),(0,s.jsx)("p",{className:"text-sm text-slate-700 font-medium",children:e})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ml-3",children:[(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{c.push(`/?query=${encodeURIComponent(e)}`)},className:"text-blue-600 hover:text-blue-700",children:(0,s.jsx)(eE.Play,{className:"h-4 w-4"})}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>f(e,"Search query"),children:(0,s.jsx)(ew.Copy,{className:"h-4 w-4"})})]})]})},t))}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:[w.length," search queries ready for execution"]}),(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>f(w.join("\n"),"All search queries"),children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy All Queries"]})]})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(ev.Search,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Daily search queries not yet generated"})]})})]}),(0,s.jsxs)(ex.Card,{className:"mt-6",children:[(0,s.jsx)(ex.CardHeader,{className:"px-3 py-6 sm:px-6",children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(eO.Zap,{className:"h-5 w-5"}),"Product Offer Strategies"]})}),(0,s.jsx)(ex.CardContent,{className:"px-3 py-6 pt-0 sm:px-6",children:S.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:S.map((e,t)=>(0,s.jsx)("div",{className:"p-4 bg-slate-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-slate-500",children:[e.name||"Strategy"," Strategy"]})}),(0,s.jsx)("p",{className:"text-sm text-slate-700 font-medium line-clamp-3",children:e.content||"No content available"})]}),(0,s.jsx)("div",{className:"flex items-center gap-1 ml-3",children:(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>f(e.content||"",`${e.name||"Strategy"} offer strategy`),children:(0,s.jsx)(ew.Copy,{className:"h-4 w-4"})})})]})},e.id||t))}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:[S.length," offer strategies available"]}),(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>{f(S.map(e=>`${e.name||"Strategy"} STRATEGY:
${e.content||""}`).join("\n\n---\n\n"),"All product offer strategies")},children:[(0,s.jsx)(ew.Copy,{className:"h-4 w-4 mr-2"}),"Copy All Offers"]})]})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)(eO.Zap,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,s.jsx)("p",{children:"Product offers not yet generated"})]})})]})]})]})})]})}e.s(["UniqueStrategyPage",()=>eM],98623);var eI=e.i(66027),eB=e.i(90639),eF=e.i(54460),ez=e.i(7233),eH=e.i(86536),e$=e.i(63209),eU=e.i(61911);let eq=(0,eA.default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var eG=e.i(27612),eW=e.i(94318),eY=e.i(10704),eQ=e.i(22956),eK=e.i(84589);let eJ=(0,a.createContext)(void 0);function eV({children:e}){let[t,r]=(0,a.useState)("hidden");return(0,s.jsxs)(eJ.Provider,{value:{state:t,showOverlay:e=>{r(e)},hideOverlay:()=>{r("hidden")},setState:r},children:[e,(0,s.jsx)(g,{state:t,onStateChange:r})]})}function eX(){let e=(0,a.useContext)(eJ);if(void 0===e)throw Error("useStrategyOverlay must be used within a StrategyOverlayProvider");return e}function eZ(){let{user:e}=(0,eW.useAuth)(),{openForProtectedRoute:t}=(0,eY.useRegistrationModal)(),{setState:n}=eX(),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),{toast:g}=(0,x.useToast)();(0,a.useEffect)(()=>{e||t()},[e,t]);let{data:f=[],isLoading:y,error:b}=(0,eI.useQuery)({queryKey:["/api/products"],enabled:!!e}),v=e=>{l(e),d(!0)},j=()=>{d(!1),l(null)},w=(0,p.useMutation)({mutationFn:async e=>(await (0,h.apiRequest)("DELETE",`/api/strategic-profiles/${e}`)).json(),onSuccess:()=>{g({title:"Strategy Deleted",description:"The strategy has been permanently deleted."}),h.queryClient.invalidateQueries({queryKey:["/api/products"]}),u(null)},onError:e=>{g({title:"Delete Failed",description:e.message||"Failed to delete the strategy. Please try again.",variant:"destructive"}),u(null)}}),N=()=>{u(null)};return y?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Loading your strategies..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ.SEOHead,{title:"Strategic Dashboard | 5Ducks",description:"Manage your strategic sales plans, track progress, and execute 90-day implementation roadmaps"}),(0,s.jsx)("div",{className:"min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"My Products"}),(0,s.jsxs)(r.Button,{onClick:()=>n("sidebar"),children:[(0,s.jsx)(ez.Plus,{className:"h-4 w-4 md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Create Strategy"})]})]}),null!==b?(0,s.jsx)(ex.Card,{className:"text-center py-12",children:(0,s.jsxs)(ex.CardContent,{children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(e$.AlertCircle,{className:"h-8 w-8 text-red-500"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"Error Loading Strategies"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"Unable to load your strategic plans. Please try again."}),(0,s.jsx)(r.Button,{onClick:()=>window.location.reload(),children:"Retry"})]})}):0===f.length?(0,s.jsx)(ex.Card,{className:"text-center py-12",children:(0,s.jsxs)(ex.CardContent,{children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(o.Target,{className:"h-8 w-8 text-slate-400"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No Strategic Plans Yet"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"Create your first strategic plan to start building your 90-day sales execution roadmap"}),(0,s.jsxs)(r.Button,{onClick:()=>n("sidebar"),children:[(0,s.jsx)(ez.Plus,{className:"h-4 w-4 md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Create Your First Strategy"})]})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>(0,s.jsxs)(ex.Card,{className:"group hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>v(e),children:[(0,s.jsx)(ex.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-sm font-medium",children:"product"===e.businessType?"ðŸ“¦":"ðŸ› ï¸"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ex.CardTitle,{className:"text-lg font-semibold text-slate-900 group-hover:text-blue-600 transition-colors",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-slate-500 capitalize",children:e.businessType})]})]}),(0,s.jsx)(eg.Badge,{variant:"completed"===e.status?"default":"secondary",className:`${"completed"===e.status?"bg-green-100 text-green-800 hover:bg-green-100":"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}`,children:"completed"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eC.CheckCircle,{className:"h-3 w-3 mr-1"}),"Complete"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eT.Clock,{className:"h-3 w-3 mr-1"}),"In Progress"]})})]})}),(0,s.jsx)(ex.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-slate-900 mb-1",children:"Product/Service"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.productService})]}),e.strategyHighLevelBoundary&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-slate-900 mb-1",children:"Strategic Focus"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 line-clamp-1",children:e.strategyHighLevelBoundary})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(eb.Calendar,{className:"h-3 w-3"}),new Date(e.createdAt).toLocaleDateString()]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["completed"===e.status&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[(0,s.jsx)(ej.Mail,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Email Strategy"})]})}),(0,s.jsxs)(eB.DropdownMenu,{children:[(0,s.jsx)(eB.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(eq,{className:"h-4 w-4"})})}),(0,s.jsxs)(eB.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,s.jsxs)(eB.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),v(e)},children:[(0,s.jsx)(eH.Eye,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,s.jsxs)(eB.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),u(e)},className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(eG.Trash2,{className:"h-4 w-4 mr-2"}),"Delete Strategy"]})]})]})]})]})]})})]},e.id))})]}),f.length>0&&(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(eO.Zap,{className:"h-5 w-5"}),"Quick Actions"]})}),(0,s.jsx)(ex.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(r.Button,{variant:"outline",className:"justify-start h-auto p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ev.Search,{className:"h-5 w-5 text-blue-600"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"Execute Daily Queries"}),(0,s.jsx)("div",{className:"text-sm text-slate-500",children:"Run your strategic search prompts"})]})]})}),(0,s.jsx)(r.Button,{variant:"outline",className:"justify-start h-auto p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(eU.Users,{className:"h-5 w-5 text-green-600"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"Review Contacts"}),(0,s.jsx)("div",{className:"text-sm text-slate-500",children:"Check discovered prospects"})]})]})}),(0,s.jsx)(r.Button,{variant:"outline",className:"justify-start h-auto p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ej.Mail,{className:"h-5 w-5 text-purple-600"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"Start Outreach"}),(0,s.jsx)("div",{className:"text-sm text-slate-500",children:"Begin email campaigns"})]})]})})]})})]})}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(ex.Card,{children:[(0,s.jsx)(ex.CardHeader,{children:(0,s.jsxs)(ex.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(eb.Calendar,{className:"h-5 w-5"}),"90-Day Implementation Timeline"]})}),(0,s.jsx)(ex.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Days 1-30"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"Setup & Initial Outreach"}),(0,s.jsxs)("ul",{className:"text-xs text-blue-600 mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"â€¢ Execute daily search queries"}),(0,s.jsx)("li",{children:"â€¢ Build contact database"}),(0,s.jsx)("li",{children:"â€¢ Begin email campaigns"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Days 31-60"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"Scale & Optimize"}),(0,s.jsxs)("ul",{className:"text-xs text-green-600 mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"â€¢ Analyze response rates"}),(0,s.jsx)("li",{children:"â€¢ Refine messaging"}),(0,s.jsx)("li",{children:"â€¢ Scale successful campaigns"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-purple-900 mb-2",children:"Days 61-90"}),(0,s.jsx)("p",{className:"text-sm text-purple-700",children:"Maximize & Measure"}),(0,s.jsxs)("ul",{className:"text-xs text-purple-600 mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"â€¢ Full campaign execution"}),(0,s.jsx)("li",{children:"â€¢ ROI measurement"}),(0,s.jsx)("li",{children:"â€¢ Strategy refinement"})]})]})]})})})]})})]})}),(0,s.jsx)(eK.Dialog,{open:c,onOpenChange:d,children:(0,s.jsxs)(eK.DialogContent,{className:"top-0 h-screen translate-y-0 rounded-none md:top-[50%] md:max-h-[90vh] md:translate-y-[-50%] md:rounded-lg max-w-6xl p-0 flex flex-col [&>*[class*='opacity-70']]:hidden",children:[(0,s.jsx)("button",{onClick:j,className:"absolute top-2 right-2 z-50 p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close modal",children:(0,s.jsx)("svg",{className:"h-6 w-6 md:h-7 md:w-7 text-gray-500 hover:text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:i&&(0,s.jsx)(eM,{product:i,onClose:j})})]})}),(0,s.jsx)(eF.AlertDialog,{open:!!m,onOpenChange:N,children:(0,s.jsxs)(eF.AlertDialogContent,{children:[(0,s.jsxs)(eF.AlertDialogHeader,{children:[(0,s.jsx)(eF.AlertDialogTitle,{children:"Delete Strategy"}),(0,s.jsx)(eF.AlertDialogDescription,{children:"Are you sure you want to delete this product/strategy?"})]}),(0,s.jsxs)(eF.AlertDialogFooter,{children:[(0,s.jsx)(eF.AlertDialogCancel,{onClick:N,children:"Cancel"}),(0,s.jsx)(eF.AlertDialogAction,{onClick:()=>{m&&w.mutate(m.id)},className:"bg-red-600 hover:bg-red-700",disabled:w.isPending,children:w.isPending?"Deleting...":"Delete Strategy"})]})]})})]})}e.s(["StrategyOverlayProvider",()=>eV,"useStrategyOverlay",()=>eX],82802),e.s(["default",()=>eZ],68706);let e0={sendChatMessage:async(e,t,s,a)=>(0,h.apiRequest)("/api/onboarding/strategy-chat",{method:"POST",body:JSON.stringify({userMessage:e,workflow:t,conversationHistory:s,boundaryContext:a})}),saveStrategicProfile:async e=>(0,h.apiRequest)("/api/strategic-profiles/save-from-chat",{method:"POST",body:JSON.stringify(e)}),generateEmailContent:async e=>(0,h.apiRequest)("/api/email-generation/generate-content",{method:"POST",body:JSON.stringify(e)}),getChatboxState:async e=>(0,h.apiRequest)(`/api/user-chatbox/${e}`),updateChatboxState:async(e,t)=>(0,h.apiRequest)(`/api/user-chatbox/${e}`,{method:"PUT",body:JSON.stringify(t)})};e.s(["chatService",0,e0],68277);let e1={async getProfiles(){let e=await (0,h.apiRequest)("GET","/api/products");return await e.json()},async getProfile(e){let t=await (0,h.apiRequest)("GET",`/api/products/${e}`);return await t.json()},async createProfile(e){let t=await (0,h.apiRequest)("POST","/api/products",e);return await t.json()},async updateProfile(e,t){let s=await (0,h.apiRequest)("PATCH",`/api/products/${e}`,t);return await s.json()},async deleteProfile(e){await (0,h.apiRequest)("DELETE",`/api/products/${e}`)},async saveProductOffers(e,t){let s=await (0,h.apiRequest)("POST","/api/products/offers",{productId:e,offers:t});return await s.json()}};e.s(["strategicProfilesService",0,e1],55253);let e2={getTemplates:async()=>(0,h.apiRequest)("/api/email-templates"),getTemplate:async e=>(0,h.apiRequest)(`/api/email-templates/${e}`),createTemplate:async e=>(0,h.apiRequest)("/api/email-templates",{method:"POST",body:JSON.stringify(e)}),updateTemplate:async(e,t)=>(0,h.apiRequest)(`/api/email-templates/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteTemplate:async e=>(0,h.apiRequest)(`/api/email-templates/${e}`,{method:"DELETE"}),getGeneratedContent:async(e,t)=>(0,h.apiRequest)("/api/email-templates/generate",{method:"POST",body:JSON.stringify({templateId:e,variables:t})})};function e4(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)("product_analysis"),l=(0,p.useMutation)({mutationFn:async({message:t,boundaryContext:s})=>e0.sendChatMessage(t,n,e,s),onSuccess:e=>{t(t=>[...t,{sender:"user",content:e.userMessage||"",timestamp:new Date().toISOString()}]),e.aiResponse&&t(t=>[...t,{sender:"ai",content:e.aiResponse,timestamp:new Date().toISOString()}])}}),o=(0,a.useCallback)(async(e,t)=>{r(!0);try{await l.mutateAsync({message:e,boundaryContext:t})}finally{r(!1)}},[l]);return{messages:e,isLoading:s,workflow:n,sendMessage:o,resetChat:(0,a.useCallback)(()=>{t([]),i("product_analysis")},[]),changeWorkflow:(0,a.useCallback)(e=>{i(e),t([])},[]),setMessages:t}}function e6(){let{toast:e}=(0,x.useToast)(),t=(0,eI.useQuery)({queryKey:["/api/products"],queryFn:e1.getProfiles}),s=(0,p.useMutation)({mutationFn:e1.createProfile,onSuccess:()=>{h.queryClient.invalidateQueries({queryKey:["/api/products"]}),e({title:"Success",description:"Strategic profile created successfully"})},onError:t=>{e({title:"Error",description:"Failed to create strategic profile",variant:"destructive"})}}),a=(0,p.useMutation)({mutationFn:({id:e,data:t})=>e1.updateProfile(e,t),onSuccess:()=>{h.queryClient.invalidateQueries({queryKey:["/api/products"]}),e({title:"Success",description:"Strategic profile updated successfully"})},onError:t=>{e({title:"Error",description:"Failed to update strategic profile",variant:"destructive"})}}),r=(0,p.useMutation)({mutationFn:e1.deleteProfile,onSuccess:()=>{h.queryClient.invalidateQueries({queryKey:["/api/products"]}),e({title:"Success",description:"Strategic profile deleted successfully"})},onError:t=>{e({title:"Error",description:"Failed to delete strategic profile",variant:"destructive"})}}),n=(0,p.useMutation)({mutationFn:({productId:e,offers:t})=>e1.saveProductOffers(e,t),onSuccess:()=>{h.queryClient.invalidateQueries({queryKey:["/api/products"]}),e({title:"Success",description:"Product offers saved successfully"})},onError:t=>{e({title:"Error",description:"Failed to save product offers",variant:"destructive"})}});return{profiles:t.data,isLoading:t.isLoading,error:t.error,createProfile:s.mutate,updateProfile:a.mutate,deleteProfile:r.mutate,saveOffers:n.mutate,isCreating:s.isPending,isUpdating:a.isPending,isDeleting:r.isPending,isSavingOffers:n.isPending}}function e3(){let{toast:e}=(0,x.useToast)(),[t,s]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),i=(0,p.useMutation)({mutationFn:e0.generateEmailContent,onSuccess:t=>{t.emailContent&&(s(t.emailContent),e({title:"Success",description:"Email content generated successfully"}))},onError:t=>{e({title:"Error",description:"Failed to generate email content",variant:"destructive"})}}),l=(0,p.useMutation)({mutationFn:e2.createTemplate,onSuccess:()=>{e({title:"Success",description:"Email template saved successfully"})},onError:t=>{e({title:"Error",description:"Failed to save email template",variant:"destructive"})}}),o=(0,a.useCallback)(async e=>{n(!0);try{return await i.mutateAsync(e)}finally{n(!1)}},[i]);return{generatedContent:t,isGenerating:r,generateEmail:o,saveAsTemplate:(0,a.useCallback)(async(e,t,s,a,r)=>l.mutateAsync({name:e,subject:t,body:s,tone:a,offer:r}),[l]),clearGeneratedContent:(0,a.useCallback)(()=>{s("")},[]),isSavingTemplate:l.isPending}}e.s(["emailTemplatesService",0,e2],49540),e.s([],85532),e.s(["useStrategyChat",()=>e4],58649),e.s(["useProductManager",()=>e6],50639),e.s(["useEmailGeneration",()=>e3],65958),e.s([],47658),e.s([],52701),e.s([],90303),e.s([],92650),e.s([],17784),e.s([],95654)}]);