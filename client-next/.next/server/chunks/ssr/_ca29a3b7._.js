module.exports=[91735,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={assign:function(){return i},searchParamsToUrlQuery:function(){return f},urlQueryToSearchParams:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){let b={};for(let[c,d]of a.entries()){let a=b[c];void 0===a?b[c]=d:Array.isArray(a)?a.push(d):b[c]=[a,d]}return b}function g(a){return"string"==typeof a?a:("number"!=typeof a||isNaN(a))&&"boolean"!=typeof a?"":String(a)}function h(a){let b=new URLSearchParams;for(let[c,d]of Object.entries(a))if(Array.isArray(d))for(let a of d)b.append(c,g(a));else b.set(c,g(d));return b}function i(a,...b){for(let c of b){for(let b of c.keys())a.delete(b);for(let[b,d]of c.entries())a.append(b,d)}return a}},43087,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={formatUrl:function(){return h},formatWithValidation:function(){return j},urlObjectKeys:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(91735)),g=/https?|ftp|gopher|file/;function h(a){let{auth:b,hostname:c}=a,d=a.protocol||"",e=a.pathname||"",h=a.hash||"",i=a.query||"",j=!1;b=b?encodeURIComponent(b).replace(/%3A/i,":")+"@":"",a.host?j=b+a.host:c&&(j=b+(~c.indexOf(":")?`[${c}]`:c),a.port&&(j+=":"+a.port)),i&&"object"==typeof i&&(i=String(f.urlQueryToSearchParams(i)));let k=a.search||i&&`?${i}`||"";return d&&!d.endsWith(":")&&(d+=":"),a.slashes||(!d||g.test(d))&&!1!==j?(j="//"+(j||""),e&&"/"!==e[0]&&(e="/"+e)):j||(j=""),h&&"#"!==h[0]&&(h="#"+h),k&&"?"!==k[0]&&(k="?"+k),e=e.replace(/[?#]/g,encodeURIComponent),k=k.replace("#","%23"),`${d}${j}${e}${k}${h}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function j(a){return h(a)}},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},46272,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DecodeError:function(){return r},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return u},NormalizeError:function(){return s},PageNotFoundError:function(){return t},SP:function(){return p},ST:function(){return q},WEB_VITALS:function(){return f},execOnce:function(){return g},getDisplayName:function(){return l},getLocationOrigin:function(){return j},getURL:function(){return k},isAbsoluteUrl:function(){return i},isResSent:function(){return m},loadGetInitialProps:function(){return o},normalizeRepeatedSlashes:function(){return n},stringifyError:function(){return w}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=["CLS","FCP","FID","INP","LCP","TTFB"];function g(a){let b,c=!1;return(...d)=>(c||(c=!0,b=a(...d)),b)}let h=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=a=>h.test(a);function j(){let{protocol:a,hostname:b,port:c}=window.location;return`${a}//${b}${c?":"+c:""}`}function k(){let{href:a}=window.location,b=j();return a.substring(b.length)}function l(a){return"string"==typeof a?a:a.displayName||a.name||"Unknown"}function m(a){return a.finished||a.headersSent}function n(a){let b=a.split("?");return b[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(b[1]?`?${b.slice(1).join("?")}`:"")}async function o(a,b){let c=b.res||b.ctx&&b.ctx.res;if(!a.getInitialProps)return b.ctx&&b.Component?{pageProps:await o(b.Component,b.ctx)}:{};let d=await a.getInitialProps(b);if(c&&m(c))return d;if(!d)throw Object.defineProperty(Error(`"${l(a)}.getInitialProps()" should resolve to an object. But found "${d}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d}let p="u">typeof performance,q=p&&["mark","measure","getEntriesByName"].every(a=>"function"==typeof performance[a]);class r extends Error{}class s extends Error{}class t extends Error{constructor(a){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${a}`}}class u extends Error{constructor(a,b){super(),this.message=`Failed to load static file for page: ${a} ${b}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(a){return JSON.stringify({message:a.message,stack:a.stack})}},8868,(a,b,c)=>{"use strict";function d(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"parsePath",{enumerable:!0,get:function(){return d}})},5407,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(8868);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return`${b}${c}${e}${f}`}},46112,(a,b,c)=>{"use strict";function d(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removeTrailingSlash",{enumerable:!0,get:function(){return d}})},25075,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return f}});let d=a.r(46112),e=a.r(8868),f=a=>{if(!a.startsWith("/"))return a;let{pathname:b,query:c,hash:f}=(0,e.parsePath)(a);return`${(0,d.removeTrailingSlash)(b)}${c}${f}`};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},38243,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addBasePath",{enumerable:!0,get:function(){return f}});let d=a.r(5407),e=a.r(25075);function f(a,b){return(0,e.normalizePathTrailingSlash)((0,d.addPathPrefix)(a,""))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},10846,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e,f,g={FetchStrategy:function(){return k},NavigationResultTag:function(){return i},PrefetchPriority:function(){return j}};for(var h in g)Object.defineProperty(c,h,{enumerable:!0,get:g[h]});var i=((d={})[d.MPA=0]="MPA",d[d.Success=1]="Success",d[d.NoOp=2]="NoOp",d[d.Async=3]="Async",d),j=((e={})[e.Intent=2]="Intent",e[e.Default=1]="Default",e[e.Background=0]="Background",e),k=((f={})[f.LoadingBoundary=0]="LoadingBoundary",f[f.PPR=1]="PPR",f[f.PPRRuntime=2]="PPRRuntime",f[f.Full=3]="Full",f);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92702,(a,b,c)=>{"use strict";function d(a,b){let c=new URL(a);return{pathname:c.pathname,search:c.search,nextUrl:b}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createCacheKey",{enumerable:!0,get:function(){return d}}),("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},76e3,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HasLoadingBoundary",{enumerable:!0,get:function(){return e}});var d,e=((d={})[d.SegmentHasLoadingBoundary=1]="SegmentHasLoadingBoundary",d[d.SubtreeHasLoadingBoundary=2]="SubtreeHasLoadingBoundary",d[d.SubtreeHasNoLoadingBoundary=3]="SubtreeHasNoLoadingBoundary",d)},30641,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"matchSegment",{enumerable:!0,get:function(){return d}});let d=(a,b)=>"string"==typeof a?"string"==typeof b&&a===b:"string"!=typeof b&&a[0]===b[0]&&a[1]===b[1];("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},37909,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={ACTION_HEADER:function(){return g},FLIGHT_HEADERS:function(){return o},NEXT_ACTION_NOT_FOUND_HEADER:function(){return v},NEXT_ACTION_REVALIDATED_HEADER:function(){return y},NEXT_DID_POSTPONE_HEADER:function(){return r},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return l},NEXT_HMR_REFRESH_HEADER:function(){return k},NEXT_HTML_REQUEST_ID_HEADER:function(){return x},NEXT_IS_PRERENDER_HEADER:function(){return u},NEXT_REQUEST_ID_HEADER:function(){return w},NEXT_REWRITTEN_PATH_HEADER:function(){return s},NEXT_REWRITTEN_QUERY_HEADER:function(){return t},NEXT_ROUTER_PREFETCH_HEADER:function(){return i},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return j},NEXT_ROUTER_STALE_TIME_HEADER:function(){return q},NEXT_ROUTER_STATE_TREE_HEADER:function(){return h},NEXT_RSC_UNION_QUERY:function(){return p},NEXT_URL:function(){return m},RSC_CONTENT_TYPE_HEADER:function(){return n},RSC_HEADER:function(){return f}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="rsc",g="next-action",h="next-router-state-tree",i="next-router-prefetch",j="next-router-segment-prefetch",k="next-hmr-refresh",l="__next_hmr_refresh_hash__",m="next-url",n="text/x-component",o=[f,h,i,k,j],p="_rsc",q="x-nextjs-stale-time",r="x-nextjs-postponed",s="x-nextjs-rewritten-path",t="x-nextjs-rewritten-query",u="x-nextjs-prerender",v="x-nextjs-action-not-found",w="x-nextjs-request-id",x="x-nextjs-html-request-id",y="x-action-revalidated";("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},58216,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={HEAD_REQUEST_KEY:function(){return h},ROOT_SEGMENT_REQUEST_KEY:function(){return g},appendSegmentRequestKeyPart:function(){return j},convertSegmentPathToStaticExportFilename:function(){return m},createSegmentRequestKeyPart:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(39118),g="",h="/_head";function i(a){if("string"==typeof a)return a.startsWith(f.PAGE_SEGMENT_KEY)?f.PAGE_SEGMENT_KEY:"/_not-found"===a?"_not-found":l(a);let b=a[0];return"$"+a[2]+"$"+l(b)}function j(a,b,c){return a+"/"+("children"===b?c:`@${l(b)}/${c}`)}let k=/^[a-zA-Z0-9\-_@]+$/;function l(a){return k.test(a)?a:"!"+btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function m(a){return`__next${a.replace(/\//g,".")}.txt`}},23187,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={doesStaticSegmentAppearInURL:function(){return l},getCacheKeyForDynamicParam:function(){return m},getParamValueFromCacheKey:function(){return o},getRenderedPathname:function(){return j},getRenderedSearch:function(){return i},parseDynamicParamFromURLPart:function(){return k},urlSearchParamsToParsedUrlQuery:function(){return p},urlToUrlWithoutFlightMarker:function(){return n}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(39118),g=a.r(58216),h=a.r(37909);function i(a){let b=a.headers.get(h.NEXT_REWRITTEN_QUERY_HEADER);return null!==b?""===b?"":"?"+b:n(new URL(a.url)).search}function j(a){return a.headers.get(h.NEXT_REWRITTEN_PATH_HEADER)??n(new URL(a.url)).pathname}function k(a,b,c){switch(a){case"c":return c<b.length?b.slice(c).map(a=>encodeURIComponent(a)):[];case"ci(..)(..)":case"ci(.)":case"ci(..)":case"ci(...)":{let d=a.length-2;return c<b.length?b.slice(c).map((a,b)=>0===b?encodeURIComponent(a.slice(d)):encodeURIComponent(a)):[]}case"oc":return c<b.length?b.slice(c).map(a=>encodeURIComponent(a)):null;case"d":if(c>=b.length)return"";return encodeURIComponent(b[c]);case"di(..)(..)":case"di(.)":case"di(..)":case"di(...)":{let d=a.length-2;if(c>=b.length)return"";return encodeURIComponent(b[c].slice(d))}default:return""}}function l(a){return!(a===g.ROOT_SEGMENT_REQUEST_KEY||a.startsWith(f.PAGE_SEGMENT_KEY)||"("===a[0]&&a.endsWith(")"))&&a!==f.DEFAULT_SEGMENT_KEY&&"/_not-found"!==a}function m(a,b){return"string"==typeof a?(0,f.addSearchParamsIfPageSegment)(a,Object.fromEntries(new URLSearchParams(b))):null===a?"":a.join("/")}function n(a){let b=new URL(a);return b.searchParams.delete(h.NEXT_RSC_UNION_QUERY),b}function o(a,b){return"c"===b||"oc"===b?a.split("/"):a}function p(a){let b={};for(let[c,d]of a.entries())void 0===b[c]?b[c]=d:Array.isArray(b[c])?b[c].push(d):b[c]=[b[c],d];return b}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},74685,(a,b,c)=>{"use strict";function d(a,b=!0){return a.pathname+a.search+(b?a.hash:"")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createHrefFromUrl",{enumerable:!0,get:function(){return d}}),("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},29348,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={createInitialRSCPayloadFromFallbackPrerender:function(){return j},getFlightDataPartsFromPath:function(){return i},getNextFlightSegmentPath:function(){return k},normalizeFlightData:function(){return l},prepareFlightRouterStateForRequest:function(){return m}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(39118),g=a.r(23187),h=a.r(74685);function i(a){let[b,c,d,e]=a.slice(-4),f=a.slice(0,-4);return{pathToSegment:f.slice(0,-1),segmentPath:f,segment:f[f.length-1]??"",tree:b,seedData:c,head:d,isHeadPartial:e,isRootRender:4===a.length}}function j(a,b){let c=(0,g.getRenderedPathname)(a),d=(0,g.getRenderedSearch)(a),e=(0,h.createHrefFromUrl)(new URL(location.href)),f=b.f[0],i=f[0];return{b:b.b,c:e.split("/"),q:d,i:b.i,f:[[function a(b,c,d,e){let f,h,i=b[0];if("string"==typeof i)f=i,h=(0,g.doesStaticSegmentAppearInURL)(i);else{let a=i[0],b=i[2],j=(0,g.parseDynamicParamFromURLPart)(b,d,e);f=[a,(0,g.getCacheKeyForDynamicParam)(j,c),b],h=!0}let j=h?e+1:e,k=b[1],l={};for(let b in k){let e=k[b];l[b]=a(e,c,d,j)}return[f,l,null,b[3],b[4]]}(i,d,c.split("/").filter(a=>""!==a),0),f[1],f[2],f[2]]],m:b.m,G:b.G,S:b.S}}function k(a){return a.slice(2)}function l(a){return"string"==typeof a?a:a.map(a=>i(a))}function m(a,b){return b?encodeURIComponent(JSON.stringify(a)):encodeURIComponent(JSON.stringify(function a(b){var c,d;let[e,g,h,i,j,k]=b,l="string"==typeof(c=e)&&c.startsWith(f.PAGE_SEGMENT_KEY+"?")?f.PAGE_SEGMENT_KEY:c,m={};for(let[b,c]of Object.entries(g))m[b]=a(c);let n=[l,m,null,(d=i)&&"refresh"!==d?i:null];return void 0!==j&&(n[4]=j),void 0!==k&&(n[5]=k),n}(a)))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},91377,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getAppBuildId:function(){return h},setAppBuildId:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="";function g(a){f=a}function h(){return f}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},16661,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={djb2Hash:function(){return f},hexHash:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){let b=5381;for(let c=0;c<a.length;c++)b=(b<<5)+b+a.charCodeAt(c)|0;return b>>>0}function g(a){return f(a).toString(36).slice(0,5)}},35604,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"computeCacheBustingSearchParam",{enumerable:!0,get:function(){return e}});let d=a.r(16661);function e(a,b,c,e){return(void 0===a||"0"===a)&&void 0===b&&void 0===c&&void 0===e?"":(0,d.hexHash)([a||"0",b||"0",c||"0",e||"0"].join(","))}},25744,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={setCacheBustingSearchParam:function(){return h},setCacheBustingSearchParamWithHash:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(35604),g=a.r(37909),h=(a,b)=>{i(a,(0,f.computeCacheBustingSearchParam)(b[g.NEXT_ROUTER_PREFETCH_HEADER],b[g.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER],b[g.NEXT_ROUTER_STATE_TREE_HEADER],b[g.NEXT_URL]))},i=(a,b)=>{let c=a.search,d=(c.startsWith("?")?c.slice(1):c).split("&").filter(a=>a&&!a.startsWith(`${g.NEXT_RSC_UNION_QUERY}=`));b.length>0?d.push(`${g.NEXT_RSC_UNION_QUERY}=${b}`):d.push(`${g.NEXT_RSC_UNION_QUERY}`),a.search=d.length?`?${d.join("&")}`:""};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20873,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0});var e={createFetch:function(){return t},createFromNextReadableStream:function(){return u},fetchServerResponse:function(){return s}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(38783),h=a.r(37909),i=a.r(20611),j=a.r(1722),k=a.r(29348),l=a.r(91377),m=a.r(25744),n=a.r(23187),o=a.r(68063),p=g.createFromReadableStream,q=g.createFromFetch;function r(a){return(0,n.urlToUrlWithoutFlightMarker)(new URL(a,location.origin)).toString()}async function s(a,b){let{flightRouterState:c,nextUrl:d}=b,e={[h.RSC_HEADER]:"1",[h.NEXT_ROUTER_STATE_TREE_HEADER]:(0,k.prepareFlightRouterStateForRequest)(c,b.isHmrRefresh)};d&&(e[h.NEXT_URL]=d);try{let b=await t(a,e,"auto",!0),c=(0,n.urlToUrlWithoutFlightMarker)(new URL(b.url)),d=b.redirected?c:a,f=b.headers.get("content-type")||"",g=!!b.headers.get("vary")?.includes(h.NEXT_URL),i=!!b.headers.get(h.NEXT_DID_POSTPONE_HEADER),j=b.headers.get(h.NEXT_ROUTER_STALE_TIME_HEADER),m=null!==j?1e3*parseInt(j,10):-1;if(!f.startsWith(h.RSC_CONTENT_TYPE_HEADER)||!b.ok||!b.body)return a.hash&&(c.hash=a.hash),r(c.toString());let o=b.flightResponse;if(null===o){let a,c=i?(a=b.body.getReader(),new ReadableStream({async pull(b){for(;;){let{done:c,value:d}=await a.read();if(!c){b.enqueue(d);continue}return}}})):b.body;o=u(c,e)}let p=await o;if((0,l.getAppBuildId)()!==p.b)return r(b.url);let q=(0,k.normalizeFlightData)(p.f);if("string"==typeof q)return r(q);return{flightData:q,canonicalUrl:d,renderedSearch:(0,n.getRenderedSearch)(b),couldBeIntercepted:g,prerendered:p.S,postponed:i,staleTime:m,debugInfo:o._debugInfo??null}}catch(b){return console.error(`Failed to fetch RSC payload for ${a}. Falling back to browser navigation.`,b),a.toString()}}async function t(a,b,c,e,f){var g,k;let l=(0,o.getDeploymentId)();l&&(b["x-deployment-id"]=l);let n=new URL(a);(0,m.setCacheBustingSearchParam)(n,b);let p=fetch(n,{credentials:"same-origin",headers:b,priority:c||void 0,signal:f}),r=e?(g=p,k=b,q(g,{callServer:i.callServer,findSourceMapURL:j.findSourceMapURL,debugChannel:d&&d(k)})):null,s=await p,t=s.redirected,u=new URL(s.url,n);return u.searchParams.delete(h.NEXT_RSC_UNION_QUERY),{url:u.href,redirected:t,ok:s.ok,headers:s.headers,body:s.body,status:s.status,flightResponse:r}}function u(a,b){return p(a,{callServer:i.callServer,findSourceMapURL:j.findSourceMapURL,debugChannel:d&&d(b)})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},54645,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={deleteFromLru:function(){return l},lruPut:function(){return j},updateLruSize:function(){return k}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(51561),g=null,h=!1,i=0;function j(a){if(g===a)return;let b=a.prev,c=a.next;if(null===c||null===b?(i+=a.size,m()):(b.next=c,c.prev=b),null===g)a.prev=a,a.next=a;else{let b=g.prev;a.prev=b,null!==b&&(b.next=a),a.next=g,g.prev=a}g=a}function k(a,b){let c=a.size;a.size=b,null!==a.next&&(i=i-c+b,m())}function l(a){let b=a.next,c=a.prev;null!==b&&null!==c&&(i-=a.size,a.next=null,a.prev=null,g===a?b===g?g=null:(g=b,c.next=b,b.prev=c):(c.next=b,b.prev=c))}function m(){h||i<=0x3200000||(h=!0,o(n))}function n(){h=!1;for(;i>0x2d00000&&null!==g;){let a=g.prev;null!==a&&(0,f.deleteMapEntry)(a)}}let o="function"==typeof requestIdleCallback?requestIdleCallback:a=>setTimeout(a,0);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},51561,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={Fallback:function(){return g},createCacheMap:function(){return i},deleteFromCacheMap:function(){return n},deleteMapEntry:function(){return o},getFromCacheMap:function(){return j},isValueExpired:function(){return k},setInCacheMap:function(){return l},setSizeInCacheMap:function(){return p}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(54645),g={},h={};function i(){return{parent:null,key:null,value:null,map:null,prev:null,next:null,size:0}}function j(a,b,c,d,e){let i=function a(b,c,d,e,f,i){let j,l;if(null!==e)j=e.value,l=e.parent;else if(f&&i!==h)j=h,l=null;else return null===d.value?d:k(b,c,d.value)?(o(d),null):d;let m=d.map;if(null!==m){let d=m.get(j);if(void 0!==d){let e=a(b,c,d,l,f,j);if(null!==e)return e}let e=m.get(g);if(void 0!==e)return a(b,c,e,l,f,j)}return null}(a,b,c,d,e,0);return null===i||null===i.value?null:((0,f.lruPut)(i),i.value)}function k(a,b,c){return c.staleAt<=a||c.version<b}function l(a,b,c,d){let e=function(a,b,c){let d=a,e=b,f=null;for(;;){let a=f;if(null!==e)f=e.value,e=e.parent;else if(c&&a!==h){if(null===d.value)return d;f=h}else break;let b=d.map;if(null!==b){let a=b.get(f);if(void 0!==a){d=a;continue}}else b=new Map,d.map=b;let g={parent:d,key:f,value:null,map:null,prev:null,next:null,size:0};b.set(f,g),d=g}return d}(a,b,d);m(e,c),(0,f.lruPut)(e),(0,f.updateLruSize)(e,c.size)}function m(a,b){null!==a.value&&(a.value.ref=null,a.value=null);let c=b.ref;a.value=b,b.ref=a,(0,f.updateLruSize)(a,b.size),null!==c&&c!==a&&c.value===b&&o(c)}function n(a){let b=a.ref;null!==b&&(a.ref=null,o(b))}function o(a){a.value=null,(0,f.deleteFromLru)(a);let b=a.map;if(null===b){let b=a.parent,c=a.key;for(;null!==b;){let a=b.map;if(null!==a&&(a.delete(c),0===a.size)&&(b.map=null,null===b.value)){c=b.key,b=b.parent;continue}break}}else{let c=b.get(h);void 0!==c&&null!==c.value&&m(a,c.value)}}function p(a,b){let c=a.ref;null!==c&&(a.size=b,(0,f.updateLruSize)(c,b))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},91442,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={appendLayoutVaryPath:function(){return k},clonePageVaryPathWithNewSearchParams:function(){return p},finalizeLayoutVaryPath:function(){return l},finalizeMetadataVaryPath:function(){return n},finalizePageVaryPath:function(){return m},getFulfilledRouteVaryPath:function(){return j},getRouteVaryPath:function(){return i},getSegmentVaryPathForRequest:function(){return o}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(10846),g=a.r(51561),h=a.r(58216);function i(a,b,c){return{value:a,parent:{value:b,parent:{value:c,parent:null}}}}function j(a,b,c,d){return{value:a,parent:{value:b,parent:{value:d?c:g.Fallback,parent:null}}}}function k(a,b){return{value:b,parent:a}}function l(a,b){return{value:a,parent:b}}function m(a,b,c){return{value:a,parent:{value:b,parent:c}}}function n(a,b,c){return{value:a+h.HEAD_REQUEST_KEY,parent:{value:b,parent:c}}}function o(a,b){let c=b.varyPath;if(b.isPage&&a!==f.FetchStrategy.Full&&a!==f.FetchStrategy.PPRRuntime){let a=c.parent.parent;return{value:c.value,parent:{value:g.Fallback,parent:a}}}return c}function p(a,b){let c=a.parent;return{value:a.value,parent:{value:b,parent:c.parent}}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},19924,(a,b,c)=>{"use strict";function d(a){return a.startsWith("/")?a:`/${a}`}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureLeadingSlash",{enumerable:!0,get:function(){return d}})},53808,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={normalizeAppPath:function(){return h},normalizeRscURL:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(19924),g=a.r(39118);function h(a){return(0,f.ensureLeadingSlash)(a.split("/").reduce((a,b,c,d)=>!b||(0,g.isGroupSegment)(b)||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:`${a}/${b}`,""))}function i(a){return a.replace(/\.rsc($|\?)/,"$1")}},18099,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={INTERCEPTION_ROUTE_MARKERS:function(){return g},extractInterceptionRouteInformation:function(){return i},isInterceptionRouteAppPath:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(53808),g=["(..)(..)","(.)","(..)","(...)"];function h(a){return void 0!==a.split("/").find(a=>g.find(b=>a.startsWith(b)))}function i(a){let b,c,d;for(let e of a.split("/"))if(c=g.find(a=>e.startsWith(a))){[b,d]=a.split(c,2);break}if(!b||!c||!d)throw Object.defineProperty(Error(`Invalid interception route: ${a}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(b=(0,f.normalizeAppPath)(b),c){case"(.)":d="/"===b?`/${d}`:b+"/"+d;break;case"(..)":if("/"===b)throw Object.defineProperty(Error(`Invalid interception route: ${a}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});d=b.split("/").slice(0,-1).concat(d).join("/");break;case"(...)":d="/"+d;break;case"(..)(..)":let e=b.split("/");if(e.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${a}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});d=e.slice(0,-2).concat(d).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:b,interceptedRoute:d}}},37042,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={computeChangedPath:function(){return l},extractPathFromFlightRouterState:function(){return k},getSelectedParams:function(){return function a(b,c={}){for(let d of Object.values(b[1])){let b=d[0],e=Array.isArray(b),f=e?b[1]:b;!f||f.startsWith(g.PAGE_SEGMENT_KEY)||(e&&("c"===b[2]||"oc"===b[2])?c[b[0]]=b[1].split("/"):e&&(c[b[0]]=b[1]),c=a(d,c))}return c}}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(18099),g=a.r(39118),h=a.r(30641),i=a=>"string"==typeof a?"children"===a?"":a:a[1];function j(a){return a.reduce((a,b)=>{let c;return""===(b="/"===(c=b)[0]?c.slice(1):c)||(0,g.isGroupSegment)(b)?a:`${a}/${b}`},"")||"/"}function k(a){let b=Array.isArray(a[0])?a[0][1]:a[0];if(b===g.DEFAULT_SEGMENT_KEY||f.INTERCEPTION_ROUTE_MARKERS.some(a=>b.startsWith(a)))return;if(b.startsWith(g.PAGE_SEGMENT_KEY))return"";let c=[i(b)],d=a[1]??{},e=d.children?k(d.children):void 0;if(void 0!==e)c.push(e);else for(let[a,b]of Object.entries(d)){if("children"===a)continue;let d=k(b);void 0!==d&&c.push(d)}return j(c)}function l(a,b){let c=function a(b,c){let[d,e]=b,[g,j]=c,l=i(d),m=i(g);if(f.INTERCEPTION_ROUTE_MARKERS.some(a=>l.startsWith(a)||m.startsWith(a)))return"";if(!(0,h.matchSegment)(d,g))return k(c)??"";for(let b in e)if(j[b]){let c=a(e[b],j[b]);if(null!==c)return`${i(g)}/${c}`}return null}(a,b);return null==c||"/"===c?c:j(c.split("/"))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88632,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"handleMutable",{enumerable:!0,get:function(){return f}});let d=a.r(37042);function e(a){return void 0!==a}function f(a,b){let c=b.shouldScroll??!0,f=a.previousNextUrl,g=a.nextUrl;if(e(b.patchedTree)){let c=(0,d.computeChangedPath)(a.tree,b.patchedTree);c?(f=g,g=c):g||(g=a.canonicalUrl)}return{canonicalUrl:b.canonicalUrl??a.canonicalUrl,renderedSearch:b.renderedSearch??a.renderedSearch,pushRef:{pendingPush:e(b.pendingPush)?b.pendingPush:a.pushRef.pendingPush,mpaNavigation:e(b.mpaNavigation)?b.mpaNavigation:a.pushRef.mpaNavigation,preserveCustomHistoryState:e(b.preserveCustomHistoryState)?b.preserveCustomHistoryState:a.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!c&&(!!e(b?.scrollableSegments)||a.focusAndScrollRef.apply),onlyHashChange:b.onlyHashChange||!1,hashFragment:c?b.hashFragment&&""!==b.hashFragment?decodeURIComponent(b.hashFragment.slice(1)):a.focusAndScrollRef.hashFragment:null,segmentPaths:c?b?.scrollableSegments??a.focusAndScrollRef.segmentPaths:[]},cache:b.cache?b.cache:a.cache,tree:e(b.patchedTree)?b.patchedTree:a.tree,nextUrl:g,previousNextUrl:f,debugInfo:b.collectedDebugInfo??null}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},70681,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createRouterCacheKey",{enumerable:!0,get:function(){return e}});let d=a.r(39118);function e(a,b=!1){return Array.isArray(a)?`${a[0]}|${a[1]}|${a[2]}`:b&&a.startsWith(d.PAGE_SEGMENT_KEY)?d.PAGE_SEGMENT_KEY:a}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},71094,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return function a(b,c){let d=b[0],e=c[0];if(Array.isArray(d)&&Array.isArray(e)){if(d[0]!==e[0]||d[2]!==e[2])return!0}else if(d!==e)return!0;if(b[4])return!c[4];if(c[4])return!0;let f=Object.values(b[1])[0],g=Object.values(c[1])[0];return!f||!g||a(f,g)}}}),("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},57051,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={FreshnessPolicy:function(){return q},createInitialCacheNodeForHydration:function(){return s},isDeferredRsc:function(){return G},spawnDynamicRequests:function(){return B},startPPRNavigation:function(){return t}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(39118),h=a.r(30641),i=a.r(74685),j=a.r(70681),k=a.r(20873),l=a.r(90841),m=a.r(88347),n=a.r(71094),o=a.r(23053),p=a.r(37472);var q=((d={})[d.Default=0]="Default",d[d.Hydration=1]="Hydration",d[d.HistoryTraversal=2]="HistoryTraversal",d[d.RefreshAll=3]="RefreshAll",d[d.HMRRefresh=4]="HMRRefresh",d);let r=()=>{};function s(a,b,c,d){return u(a,b,void 0,1,c,d,null,null,!1,null,null,!1,{scrollableSegments:null,separateRefreshUrls:null}).node}function t(a,b,c,d,e,f,k,l,m,o,p,q,r){return function a(b,c,d,e,f,k,l,m,o,p,q,r,s,t,A,B,C,D){var E,F;let G,H,I,J=e[0],K=f[0];if(!(0,h.matchSegment)(K,J))return!l&&(0,n.isNavigatingToNewRootLayout)(e,f)||K===g.NOT_FOUND_SEGMENT_KEY||null===t||null===A?null:u(b,f,d,k,m,o,p,q,r,t,A,B,D);let L=null!==A&&null!==t?t.concat([A,K]):[],M=f[1],N=e[1],O=null!==m?m[1]:null,P=null!==p?p[1]:null,Q=!0===f[4],R=l||Q,S=void 0!==d?d.parallelRoutes:void 0,T=!1,U=!1;switch(k){case 0:case 2:case 1:T=!1,U=!1;break;case 3:case 4:T=!0,U=!0}let V=new Map(T?void 0:S),W=0===Object.keys(M).length;if(void 0===d||U||W&&s)if(null!==m&&null!==m[0]){let a=m[0],c=m[2],d=null===o;H=y(a,c,!1,o,d,W,V,b),I=W&&d}else if(null!==p){let a=p[0],c=p[2],d=p[3];H=y(a,c,d,q,r,W,V,b),I=d||W&&r}else H=z(V,W,b,k),I=!0;else H=x(!1,d,V),I=!1;let X=f[2],Y="string"==typeof X&&"refresh"===f[3]?X:C;I&&null!==Y&&(E=D,F=Y,null===(G=E.separateRefreshUrls)?E.separateRefreshUrls=new Set([F]):G.add(F));let Z={},$=null,_=!1,aa={};for(let d in M){let e=M[d],f=N[d];if(void 0===f)return null;let h=void 0!==S?S.get(d):void 0,l=null!==O?O[d]:null,m=null!==P?P[d]:null,n=e[0],p=o,t=q,u=r;2!==k&&n===g.DEFAULT_SEGMENT_KEY&&(n=(e=function(a,b){let c;return"refresh"===b[3]?c=b:((c=v(b,b[1]))[2]=(0,i.createHrefFromUrl)(a),c[3]="refresh"),c}(c,f))[0],l=null,p=null,m=null,t=null,u=!1);let w=(0,j.createRouterCacheKey)(n),x=a(b,c,void 0!==h?h.get(w):void 0,f,e,k,R,l??null,p,m??null,t,u,s,L,d,B||I,Y,D);if(null===x)return null;null===$&&($=new Map),$.set(d,x);let y=x.node;if(null!==y){let a=new Map(T?void 0:h);a.set(w,y),V.set(d,a)}let z=x.route;Z[d]=z;let A=x.dynamicRequestTree;null!==A?(_=!0,aa[d]=A):aa[d]=z}return{status:+!I,route:v(f,Z),node:H,dynamicRequestTree:w(f,aa,I,_,B),refreshUrl:Y,children:$}}(a,b,null!==c?c:void 0,d,e,f,!1,k,l,m,o,p,q,null,null,!1,null,r)}function u(a,b,c,d,e,f,g,h,i,k,l,m,n){let p,q,r=b[0],s=null!==l&&null!==k?k.concat([l,r]):[],t=b[1],A=null!==g?g[1]:null,B=null!==e?e[1]:null,C=void 0!==c?c.parallelRoutes:void 0,D=!1,E=!1,F=!1;switch(d){case 0:D=!1,E=void 0===c||a-c.navigatedAt>=o.DYNAMIC_STALETIME_MS,F=!1;break;case 1:E=!1,D=!1,F=!1;break;case 2:if(E=!1,E=!1,void 0!==c){let a=c.rsc;F=!G(a)||"pending"!==a.status}else F=!1;break;case 3:case 4:E=!0,D=!0,F=!1}let H=new Map(D?void 0:C),I=0===Object.keys(t).length;if(I&&(null===n.scrollableSegments&&(n.scrollableSegments=[]),n.scrollableSegments.push(s)),E||void 0===c)if(null!==e&&null!==e[0]){let b=e[0],c=e[2],g=null===f&&1!==d;p=y(b,c,!1,f,g,I,H,a),q=I&&g}else if(1===d&&I&&null!==f)p=y(null,null,!1,f,!1,I,H,a),q=!1;else if(1!==d&&null!==g){let b=g[0],c=g[2],d=g[3];p=y(b,c,d,h,i,I,H,a),q=d||I&&i}else p=z(H,I,a,d),q=!0;else p=x(F,c,H),q=!1;let J={},K=null,L=!1,M={};for(let b in t){let c=t[b],e=void 0!==C?C.get(b):void 0,g=null!==B?B[b]:null,k=null!==A?A[b]:null,l=c[0],o=(0,j.createRouterCacheKey)(l),p=u(a,c,void 0!==e?e.get(o):void 0,d,g??null,f,k??null,h,i,s,b,m||q,n);null===K&&(K=new Map),K.set(b,p);let r=p.node;if(null!==r){let a=new Map(D?void 0:e);a.set(o,r),H.set(b,a)}let v=p.route;J[b]=v;let w=p.dynamicRequestTree;null!==w?(L=!0,M[b]=w):M[b]=v}return{status:+!q,route:v(b,J),node:p,dynamicRequestTree:w(b,M,q,L,m),refreshUrl:null,children:K}}function v(a,b){let c=[a[0],b];return 2 in a&&(c[2]=a[2]),3 in a&&(c[3]=a[3]),4 in a&&(c[4]=a[4]),c}function w(a,b,c,d,e){let f=null;return c?(f=v(a,b),e||(f[3]="refetch")):f=d?v(a,b):null,f}function x(a,b,c){return{rsc:b.rsc,prefetchRsc:a?null:b.prefetchRsc,head:b.head,prefetchHead:a?null:b.prefetchHead,loading:b.loading,parallelRoutes:c,navigatedAt:b.navigatedAt}}function y(a,b,c,d,e,f,g,h){let i,j,k,l;return c?(j=a,i=H()):(j=null,i=a),f?e?(k=d,l=H()):(k=null,l=d):(k=null,l=null),{rsc:i,prefetchRsc:j,head:l,prefetchHead:k,loading:b,parallelRoutes:g,navigatedAt:h}}function z(a,b,c,d){let e=1===d;return{rsc:e?null:H(),prefetchRsc:null,head:!e&&b?H():null,prefetchHead:null,loading:e?null:H(),parallelRoutes:a,navigatedAt:c}}let A=!1;function B(a,b,c,d,e){let f=a.dynamicRequestTree;if(null===f){A=!1;return}let g=E(a,f,b,c,d),h=e.separateRefreshUrls,j=null;if(null!==h){j=[];let e=(0,i.createHrefFromUrl)(b);for(let b of h)b!==e&&null!==f&&j.push(E(a,f,new URL(b,location.origin),c,d))}C(a,c,g,j).then(r,r)}async function C(a,b,c,d){var e,f;let g=await (e=c,f=d,new Promise(a=>{let b=b=>{0===b.exitStatus?0==--d&&a(0):a(b.exitStatus)},c=()=>a(2),d=1;e.then(b,c),null!==f&&(d+=f.length,f.forEach(a=>a.then(b,c)))}));switch(0===g&&(g=function a(b,c,d){var e,f,g;let h,i,j,k;0===b.status?(b.status=2,e=b.node,f=c,g=d,G(i=e.rsc)&&(null===f?i.resolve(null,g):i.reject(f,g)),G(j=e.loading)&&j.resolve(null,g),G(k=e.head)&&k.resolve(null,g),h=null===b.refreshUrl?1:2):h=0;let l=b.children;if(null!==l)for(let[,b]of l){let e=a(b,c,d);e>h&&(h=e)}return h}(a,null,null)),g){case 0:A=!1;return;case 1:{let d=await c;D(!1,d.url,b,d.seed,a.route);return}case 2:{let d=await c;D(!0,d.url,b,d.seed,a.route);return}default:return g}}function D(a,b,c,d,e){a=a||A,A=!0;let f={type:m.ACTION_SERVER_PATCH,previousTree:e,url:b,nextUrl:c,seed:d,mpa:a};(0,l.dispatchAppRouterAction)(f)}async function E(a,b,c,d,e){try{let f=await (0,k.fetchServerResponse)(c,{flightRouterState:b,nextUrl:d,isHmrRefresh:4===e});if("string"==typeof f)return{exitStatus:2,url:new URL(f,location.origin),seed:null};let g=(0,p.convertServerPatchToFullTree)(a.route,f.flightData,f.renderedSearch);return{exitStatus:+!!function a(b,c,d,e,f){0===b.status&&null!==d&&(b.status=1,function(a,b,c,d){let e=a.rsc,f=b[0];if(null===f)return;null===e?a.rsc=f:G(e)&&e.resolve(f,d);let g=a.loading;if(G(g)){let a=b[2];g.resolve(a,d)}let h=a.head;G(h)&&h.resolve(c,d)}(b.node,d,e,f));let g=b.children,i=c[1],j=null!==d?d[1]:null,k=!1;if(null!==g)for(let b in i){let c=i[b],d=null!==j?j[b]:null,l=g.get(b);if(void 0===l)k=!0;else{let b=l.route[0];(0,h.matchSegment)(c[0],b)&&null!=d&&a(l,c,d,e,f)&&(k=!0)}}return k}(a,g.tree,g.data,g.head,f.debugInfo),url:new URL(f.canonicalUrl,location.origin),seed:g}}catch{return{exitStatus:2,url:c,seed:null}}}let F=Symbol();function G(a){return a&&"object"==typeof a&&a.tag===F}function H(){let a,b,c=[],d=new Promise((c,d)=>{a=c,b=d});return d.status="pending",d.resolve=(b,e)=>{"pending"===d.status&&(d.status="fulfilled",d.value=b,null!==e&&c.push.apply(c,e),a(b))},d.reject=(a,e)=>{"pending"===d.status&&(d.status="rejected",d.reason=a,null!==e&&c.push.apply(c,e),b(a))},d.tag=F,d._debugInfo=c,d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},37472,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={convertServerPatchToFullTree:function(){return u},navigate:function(){return m},navigateToSeededRoute:function(){return n}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20873),g=a.r(57051),h=a.r(74685),i=a.r(99032),j=a.r(92702),k=a.r(39118),l=a.r(10846);function m(a,b,c,d,e,f,g,h){let k=Date.now(),m=a.href,n=m===b.href,p=(0,j.createCacheKey)(m,e),s=(0,i.readRouteCacheEntry)(k,p);if(null!==s&&s.status===i.EntryStatus.Fulfilled){let h=q(k,s,s.tree),i=h.flightRouterState,j=h.seedData,l=r(k,s),m=l.rsc,p=l.isPartial,t=s.canonicalUrl+a.hash;return o(k,a,b,e,n,c,d,i,j,m,p,t,s.renderedSearch,f,g)}if(null===s||s.status!==i.EntryStatus.Rejected){let h=(0,i.requestOptimisticRouteCacheEntry)(k,a,e);if(null!==h){let i=q(k,h,h.tree),j=i.flightRouterState,l=i.seedData,m=r(k,h),p=m.rsc,s=m.isPartial,t=h.canonicalUrl+a.hash;return o(k,a,b,e,n,c,d,j,l,p,s,t,h.renderedSearch,f,g)}}let u=h.collectedDebugInfo??[];return void 0===h.collectedDebugInfo&&(u=h.collectedDebugInfo=[]),{tag:l.NavigationResultTag.Async,data:t(k,a,b,e,c,d,f,g,u)}}function n(a,b,c,d,e,f,h,i,j,k){let m={scrollableSegments:null,separateRefreshUrls:null},n=b.href===e.href,o=(0,g.startPPRNavigation)(a,e,f,h,d.tree,i,d.data,d.head,null,null,!1,n,m);return null!==o?((0,g.spawnDynamicRequests)(o,b,j,i,m),p(o,c,d.renderedSearch,m.scrollableSegments,k,b.hash)):{tag:l.NavigationResultTag.MPA,data:c}}function o(a,b,c,d,e,f,h,i,j,k,m,n,o,q,r){let s={scrollableSegments:null,separateRefreshUrls:null},t=(0,g.startPPRNavigation)(a,c,f,h,i,q,null,null,j,k,m,e,s);return null!==t?((0,g.spawnDynamicRequests)(t,b,d,q,s),p(t,n,o,s.scrollableSegments,r,b.hash)):{tag:l.NavigationResultTag.MPA,data:n}}function p(a,b,c,d,e,f){return{tag:l.NavigationResultTag.Success,data:{flightRouterState:a.route,cacheNode:a.node,canonicalUrl:b,renderedSearch:c,scrollableSegments:d,shouldScroll:e,hash:f}}}function q(a,b,c){let d={},e={},f=c.slots;if(null!==f)for(let c in f){let g=q(a,b,f[c]);d[c]=g.flightRouterState,e[c]=g.seedData}let g=null,h=null,j=!0,l=(0,i.readSegmentCacheEntry)(a,c.varyPath);if(null!==l)switch(l.status){case i.EntryStatus.Fulfilled:g=l.rsc,h=l.loading,j=l.isPartial;break;case i.EntryStatus.Pending:{let a=(0,i.waitForSegmentCacheEntry)(l);g=a.then(a=>null!==a?a.rsc:null),h=a.then(a=>null!==a?a.loading:null),j=l.isPartial}case i.EntryStatus.Empty:case i.EntryStatus.Rejected:}return{flightRouterState:[(0,k.addSearchParamsIfPageSegment)(c.segment,Object.fromEntries(new URLSearchParams(b.renderedSearch))),d,null,null,c.isRootLayout],seedData:[g,e,h,j,!1]}}function r(a,b){let c=null,d=!0,e=(0,i.readSegmentCacheEntry)(a,b.metadata.varyPath);if(null!==e)switch(e.status){case i.EntryStatus.Fulfilled:c=e.rsc,d=e.isPartial;break;case i.EntryStatus.Pending:c=(0,i.waitForSegmentCacheEntry)(e).then(a=>null!==a?a.rsc:null),d=e.isPartial;case i.EntryStatus.Empty:case i.EntryStatus.Rejected:}return{rsc:c,isPartial:d}}let s=["",{},null,"refetch"];async function t(a,b,c,d,e,i,j,k,m){let o;switch(j){case g.FreshnessPolicy.Default:case g.FreshnessPolicy.HistoryTraversal:o=i;break;case g.FreshnessPolicy.Hydration:case g.FreshnessPolicy.RefreshAll:case g.FreshnessPolicy.HMRRefresh:o=s;break;default:o=i}let p=(0,f.fetchServerResponse)(b,{flightRouterState:o,nextUrl:d}),q=await p;if("string"==typeof q)return{tag:l.NavigationResultTag.MPA,data:q};let{flightData:r,canonicalUrl:t,renderedSearch:v,debugInfo:w}=q;null!==w&&m.push(...w);let x=u(i,r,v);return n(a,b,(0,h.createHrefFromUrl)(t),x,c,e,i,j,d,k)}function u(a,b,c){let d=a,e=null,f=null;for(let{segmentPath:a,tree:c,seedData:g,head:h}of b){let b=function a(b,c,d,e,f,g){let h;if(g===f.length)return{tree:d,data:e};let i=f[g],j=b[1],k=null!==c?c[1]:null,l={},m={};for(let b in j){let c=j[b],h=null!==k?k[b]??null:null;if(b===i){let i=a(c,h,d,e,f,g+2);l[b]=i.tree,m[b]=i.data}else l[b]=c,m[b]=h}return h=[b[0],l],2 in b&&(h[2]=b[2]),3 in b&&(h[3]=b[3]),4 in b&&(h[4]=b[4]),{tree:h,data:[null,m,null,!0,!1]}}(d,e,c,g,a,0);d=b.tree,e=b.data,f=h}return{tree:d,data:e,renderedSearch:c,head:f}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},23053,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DYNAMIC_STALETIME_MS:function(){return l},STATIC_STALETIME_MS:function(){return m},generateSegmentsFromPatch:function(){return function a(b){let c=[],[d,e]=b;if(0===Object.keys(e).length)return[[d]];for(let[b,f]of Object.entries(e))for(let e of a(f))""===d?c.push([b,...e]):c.push([d,b,...e]);return c}},handleExternalUrl:function(){return n},handleNavigationResult:function(){return o},navigateReducer:function(){return p}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(74685),g=a.r(88632),h=a.r(37472),i=a.r(10846),j=a.r(99032),k=a.r(57051),l=1e3*Number("0"),m=(0,j.getStaleTimeMs)(Number("300"));function n(a,b,c,d){return b.mpaNavigation=!0,b.canonicalUrl=c,b.pendingPush=d,b.scrollableSegments=void 0,(0,g.handleMutable)(a,b)}function o(a,b,c,d,e){switch(e.tag){case i.NavigationResultTag.MPA:return n(b,c,e.data,d);case i.NavigationResultTag.Success:{c.cache=e.data.cacheNode,c.patchedTree=e.data.flightRouterState,c.renderedSearch=e.data.renderedSearch,c.canonicalUrl=e.data.canonicalUrl,c.scrollableSegments=e.data.scrollableSegments??void 0,c.shouldScroll=e.data.shouldScroll,c.hashFragment=e.data.hash;let d=new URL(b.canonicalUrl,a);return a.pathname===d.pathname&&a.search===d.search&&a.hash!==d.hash&&(c.onlyHashChange=!0,c.shouldScroll=e.data.shouldScroll,c.hashFragment=a.hash,c.scrollableSegments=[]),(0,g.handleMutable)(b,c)}case i.NavigationResultTag.Async:return e.data.then(e=>o(a,b,c,d,e),()=>b);default:return b}}function p(a,b){let{url:c,isExternalUrl:d,navigateType:e,shouldScroll:g}=b,i={},j=(0,f.createHrefFromUrl)(c),l="push"===e;if(i.preserveCustomHistoryState=!1,i.pendingPush=l,d)return n(a,i,c.toString(),l);if(document.getElementById("__next-page-redirect"))return n(a,i,j,l);let m=new URL(a.canonicalUrl,location.origin),p=(0,h.navigate)(c,m,a.cache,a.tree,a.nextUrl,k.FreshnessPolicy.Default,g,i);return o(c,a,i,l,p)}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},54427,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},99032,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={EntryStatus:function(){return y},canNewFetchStrategyProvideMoreContent:function(){return ae},convertRouteTreeToFlightRouterState:function(){return function a(b){let c={};if(null!==b.slots)for(let d in b.slots)c[d]=a(b.slots[d]);return[b.segment,c,null,null,b.isRootLayout]}},createDetachedSegmentCacheEntry:function(){return R},fetchRouteOnCacheMiss:function(){return Y},fetchSegmentOnCacheMiss:function(){return Z},fetchSegmentPrefetchesUsingDynamicRequest:function(){return $},getCurrentCacheVersion:function(){return E},getStaleTimeMs:function(){return x},overwriteRevalidatingSegmentCacheEntry:function(){return P},pingInvalidationListeners:function(){return G},readOrCreateRevalidatingSegmentEntry:function(){return O},readOrCreateRouteCacheEntry:function(){return K},readOrCreateSegmentCacheEntry:function(){return N},readRouteCacheEntry:function(){return H},readSegmentCacheEntry:function(){return I},requestOptimisticRouteCacheEntry:function(){return L},revalidateEntireCache:function(){return F},upgradeToPendingSegment:function(){return S},upsertSegmentEntry:function(){return Q},waitForSegmentCacheEntry:function(){return J}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(76e3),h=a.r(37909),i=a.r(20873),j=a.r(42297),k=a.r(91442),l=a.r(91377),m=a.r(74685),n=a.r(92702),o=a.r(23187),p=a.r(51561),q=a.r(58216),r=a.r(29348),s=a.r(23053),t=a.r(16441),u=a.r(39118),v=a.r(10846),w=a.r(54427);function x(a){return 1e3*Math.max(a,30)}var y=((d={})[d.Empty=0]="Empty",d[d.Pending=1]="Pending",d[d.Fulfilled=2]="Fulfilled",d[d.Rejected=3]="Rejected",d);let z=["",{},null,"metadata-only"],A=(0,p.createCacheMap)(),B=(0,p.createCacheMap)(),C=null,D=0;function E(){return D}function F(a,b){D++,(0,j.startRevalidationCooldown)(),(0,t.pingVisibleLinks)(a,b),G(a,b)}function G(a,b){if(null!==C){let c=C;for(let d of(C=null,c))(0,j.isPrefetchTaskDirty)(d,a,b)&&function(a){let b=a.onInvalidate;if(null!==b){a.onInvalidate=null;try{b()}catch(a){"function"==typeof reportError?reportError(a):console.error(a)}}}(d)}}function H(a,b){let c=(0,k.getRouteVaryPath)(b.pathname,b.search,b.nextUrl);return(0,p.getFromCacheMap)(a,D,A,c,!1)}function I(a,b){return(0,p.getFromCacheMap)(a,D,B,b,!1)}function J(a){let b=a.promise;return null===b&&(b=a.promise=(0,w.createPromiseWithResolvers)()),b.promise}function K(a,b,c){null!==b.onInvalidate&&(null===C?C=new Set([b]):C.add(b));let d=H(a,c);if(null!==d)return d;let e={canonicalUrl:null,status:0,blockedTasks:null,tree:null,metadata:null,couldBeIntercepted:!0,isPPREnabled:!1,renderedSearch:null,ref:null,size:0,staleAt:1/0,version:D},f=(0,k.getRouteVaryPath)(c.pathname,c.search,c.nextUrl);return(0,p.setInCacheMap)(A,f,e,!1),e}function L(a,b,c){let d=b.search;if(""===d)return null;let e=new URL(b);e.search="";let f=H(a,(0,n.createCacheKey)(e.href,c));if(null===f||2!==f.status)return null;let g=new URL(f.canonicalUrl,b.origin),h=""!==g.search?g.search:d,i=""!==f.renderedSearch?f.renderedSearch:d,j=new URL(f.canonicalUrl,location.origin);return j.search=h,{canonicalUrl:(0,m.createHrefFromUrl)(j),status:2,blockedTasks:null,tree:M(f.tree,i),metadata:M(f.metadata,i),couldBeIntercepted:f.couldBeIntercepted,isPPREnabled:f.isPPREnabled,renderedSearch:i,ref:null,size:0,staleAt:f.staleAt,version:f.version}}function M(a,b){let c=null,d=a.slots;if(null!==d)for(let a in c={},d){let e=d[a];c[a]=M(e,b)}return a.isPage?{requestKey:a.requestKey,segment:a.segment,varyPath:(0,k.clonePageVaryPathWithNewSearchParams)(a.varyPath,b),isPage:!0,slots:c,isRootLayout:a.isRootLayout,hasLoadingBoundary:a.hasLoadingBoundary,hasRuntimePrefetch:a.hasRuntimePrefetch}:{requestKey:a.requestKey,segment:a.segment,varyPath:a.varyPath,isPage:!1,slots:c,isRootLayout:a.isRootLayout,hasLoadingBoundary:a.hasLoadingBoundary,hasRuntimePrefetch:a.hasRuntimePrefetch}}function N(a,b,c,d){let e=I(a,d.varyPath);if(null!==e)return e;let f=(0,k.getSegmentVaryPathForRequest)(b,d),g=R(c.staleAt);return(0,p.setInCacheMap)(B,f,g,!1),g}function O(a,b,c,d){var e;let f=(e=d.varyPath,(0,p.getFromCacheMap)(a,D,B,e,!0));if(null!==f)return f;let g=(0,k.getSegmentVaryPathForRequest)(b,d),h=R(c.staleAt);return(0,p.setInCacheMap)(B,g,h,!0),h}function P(a,b,c){let d=(0,k.getSegmentVaryPathForRequest)(a,c),e=R(b.staleAt);return(0,p.setInCacheMap)(B,d,e,!0),e}function Q(a,b,c){if((0,p.isValueExpired)(a,D,c))return null;let d=I(a,b);if(null!==d){var e;if(c.fetchStrategy!==d.fetchStrategy&&(e=d.fetchStrategy,!(e<c.fetchStrategy))||!d.isPartial&&c.isPartial)return c.status=3,c.loading=null,c.rsc=null,null;(0,p.deleteFromCacheMap)(d)}return(0,p.setInCacheMap)(B,b,c,!1),c}function R(a){return{status:0,fetchStrategy:v.FetchStrategy.PPR,rsc:null,loading:null,isPartial:!0,promise:null,ref:null,size:0,staleAt:a,version:0}}function S(a,b){return a.status=1,a.fetchStrategy=b,b===v.FetchStrategy.Full&&(a.isPartial=!1),a.version=D,a}function T(a){let b=a.blockedTasks;if(null!==b){for(let a of b)(0,j.pingPrefetchTask)(a);a.blockedTasks=null}}function U(a,b,c,d,e,f,h,i){let j={requestKey:q.HEAD_REQUEST_KEY,segment:q.HEAD_REQUEST_KEY,varyPath:c,isPage:!0,slots:null,isRootLayout:!1,hasLoadingBoundary:g.HasLoadingBoundary.SubtreeHasNoLoadingBoundary,hasRuntimePrefetch:!1};return a.status=2,a.tree=b,a.metadata=j,a.staleAt=d,a.couldBeIntercepted=e,a.canonicalUrl=f,a.renderedSearch=h,a.isPPREnabled=i,T(a),a}function V(a,b,c,d,e){return a.status=2,a.rsc=b,a.loading=c,a.staleAt=d,a.isPartial=e,null!==a.promise&&(a.promise.resolve(a),a.promise=null),a}function W(a,b){a.status=3,a.staleAt=b,T(a)}function X(a,b){a.status=3,a.staleAt=b,null!==a.promise&&(a.promise.resolve(null),a.promise=null)}async function Y(a,b,c){let d=c.pathname,e=c.search,f=c.nextUrl,j={[h.RSC_HEADER]:"1",[h.NEXT_ROUTER_PREFETCH_HEADER]:"1",[h.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]:"/_tree"};null!==f&&(j[h.NEXT_URL]=f);try{let c,n,t=new URL(d+e,location.origin);if(c=await ac(t,j),n=null!==c&&c.redirected?new URL(c.url):t,!c||!c.ok||204===c.status||!c.body)return W(a,Date.now()+1e4),null;let y=(0,m.createHrefFromUrl)(n),z=c.headers.get("vary"),B=null!==z&&z.includes(h.NEXT_URL),C=(0,w.createPromiseWithResolvers)(),D="2"===c.headers.get(h.NEXT_DID_POSTPONE_HEADER);if(D){let b,d,e=ad(c.body,C.resolve,function(b){(0,p.setSizeInCacheMap)(a,b)}),f=await (0,i.createFromNextReadableStream)(e,j);if(f.buildId!==(0,l.getAppBuildId)())return W(a,Date.now()+1e4),null;let h=(0,o.getRenderedPathname)(c),m=(0,o.getRenderedSearch)(c),n={metadataVaryPath:null},r=(b=h.split("/").filter(a=>""!==a),d=q.ROOT_SEGMENT_REQUEST_KEY,function a(b,c,d,e,f,h,i,j){let l,m,n=null,p=b.slots;if(null!==p)for(let b in l=!1,m=(0,k.finalizeLayoutVaryPath)(e,d),n={},p){let c,g,l,m=p[b],r=m.name,s=m.paramType,t=m.paramKey;if(null!==s){let a=(0,o.parseDynamicParamFromURLPart)(s,f,h),b=null!==t?t:(0,o.getCacheKeyForDynamicParam)(a,"");l=(0,k.appendLayoutVaryPath)(d,b),g=[r,b,s],c=!0}else l=d,g=r,c=(0,o.doesStaticSegmentAppearInURL)(r);let u=c?h+1:h,v=(0,q.createSegmentRequestKeyPart)(g),w=(0,q.appendSegmentRequestKeyPart)(e,b,v);n[b]=a(m,g,l,w,f,u,i,j)}else e.endsWith(u.PAGE_SEGMENT_KEY)?(l=!0,m=(0,k.finalizePageVaryPath)(e,i,d),null===j.metadataVaryPath&&(j.metadataVaryPath=(0,k.finalizeMetadataVaryPath)(e,i,d))):(l=!1,m=(0,k.finalizeLayoutVaryPath)(e,d));return{requestKey:e,segment:c,varyPath:m,isPage:l,slots:n,isRootLayout:b.isRootLayout,hasLoadingBoundary:g.HasLoadingBoundary.SegmentHasLoadingBoundary,hasRuntimePrefetch:b.hasRuntimePrefetch}}(f.tree,d,null,q.ROOT_SEGMENT_REQUEST_KEY,b,0,m,n)),s=n.metadataVaryPath;if(null===s)return W(a,Date.now()+1e4),null;let t=x(f.staleTime);U(a,r,s,Date.now()+t,B,y,m,D)}else{let d=ad(c.body,C.resolve,function(b){(0,p.setSizeInCacheMap)(a,b)}),e=await (0,i.createFromNextReadableStream)(d,j);if(e.b!==(0,l.getAppBuildId)())return W(a,Date.now()+1e4),null;!function(a,b,c,d,e,f,i,j,l){let m=(0,o.getRenderedSearch)(d),n=(0,r.normalizeFlightData)(e.f);if("string"==typeof n||1!==n.length)return W(f,a+1e4);let p=n[0];if(!p.isRootRender)return W(f,a+1e4);let t=p.tree,v="number"==typeof e.rp?.[1]?e.rp[1]:parseInt(d.headers.get(h.NEXT_ROUTER_STALE_TIME_HEADER)??"",10),w=isNaN(v)?s.STATIC_STALETIME_MS:x(v),y="1"===d.headers.get(h.NEXT_DID_POSTPONE_HEADER),z={metadataVaryPath:null},A=function a(b,c,d,e,f){let h,i,j,l,m=b[0];if(Array.isArray(m)){j=!1;let a=m[1];i=(0,k.appendLayoutVaryPath)(d,a),l=(0,k.finalizeLayoutVaryPath)(c,i),h=m}else i=d,c.endsWith(u.PAGE_SEGMENT_KEY)?(j=!0,h=u.PAGE_SEGMENT_KEY,l=(0,k.finalizePageVaryPath)(c,e,i),null===f.metadataVaryPath&&(f.metadataVaryPath=(0,k.finalizeMetadataVaryPath)(c,e,i))):(j=!1,h=m,l=(0,k.finalizeLayoutVaryPath)(c,i));let n=null,o=b[1];for(let b in o){let d=o[b],g=d[0],h=(0,q.createSegmentRequestKeyPart)(g),j=a(d,(0,q.appendSegmentRequestKeyPart)(c,b,h),i,e,f);null===n?n={[b]:j}:n[b]=j}return{requestKey:c,segment:h,varyPath:l,isPage:j,slots:n,isRootLayout:!0===b[4],hasLoadingBoundary:void 0!==b[5]?b[5]:g.HasLoadingBoundary.SubtreeHasNoLoadingBoundary,hasRuntimePrefetch:!1}}(t,q.ROOT_SEGMENT_REQUEST_KEY,null,m,z),B=z.metadataVaryPath;if(null===B)return W(f,a+1e4);let C=U(f,A,B,a+w,i,j,m,l);aa(a,b,c,d,e,y,C,null)}(Date.now(),b,v.FetchStrategy.LoadingBoundary,c,e,a,B,y,D)}if(!B){let b=(0,k.getFulfilledRouteVaryPath)(d,e,f,B);(0,p.setInCacheMap)(A,b,a,!1)}return{value:null,closed:C.promise}}catch(b){return W(a,Date.now()+1e4),null}}async function Z(a,b,c,d){let e=new URL(a.canonicalUrl,location.origin),f=c.nextUrl,g=d.requestKey,j=g===q.ROOT_SEGMENT_REQUEST_KEY?"/_index":g,k={[h.RSC_HEADER]:"1",[h.NEXT_ROUTER_PREFETCH_HEADER]:"1",[h.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]:j};null!==f&&(k[h.NEXT_URL]=f);try{let c=await ac(e,k);if(!c||!c.ok||204===c.status||"2"!==c.headers.get(h.NEXT_DID_POSTPONE_HEADER)||!c.body)return X(b,Date.now()+1e4),null;let d=(0,w.createPromiseWithResolvers)(),f=ad(c.body,d.resolve,function(a){(0,p.setSizeInCacheMap)(b,a)}),g=await (0,i.createFromNextReadableStream)(f,k);if(g.buildId!==(0,l.getAppBuildId)())return X(b,Date.now()+1e4),null;return{value:V(b,g.rsc,g.loading,a.staleAt,g.isPartial),closed:d.promise}}catch(a){return X(b,Date.now()+1e4),null}}async function $(a,b,c,d,e){let f=a.key,g=new URL(b.canonicalUrl,location.origin),j=f.nextUrl;1===e.size&&e.has(b.metadata.requestKey)&&(d=z);let k={[h.RSC_HEADER]:"1",[h.NEXT_ROUTER_STATE_TREE_HEADER]:(0,r.prepareFlightRouterStateForRequest)(d)};switch(null!==j&&(k[h.NEXT_URL]=j),c){case v.FetchStrategy.Full:break;case v.FetchStrategy.PPRRuntime:k[h.NEXT_ROUTER_PREFETCH_HEADER]="2";break;case v.FetchStrategy.LoadingBoundary:k[h.NEXT_ROUTER_PREFETCH_HEADER]="1"}try{let d=await ac(g,k);if(!d||!d.ok||!d.body||(0,o.getRenderedSearch)(d)!==b.renderedSearch)return _(e,Date.now()+1e4),null;let f=(0,w.createPromiseWithResolvers)(),h=null,j=ad(d.body,f.resolve,function(a){if(null===h)return;let b=a/h.length;for(let a of h)(0,p.setSizeInCacheMap)(a,b)}),l=await (0,i.createFromNextReadableStream)(j,k),m=c===v.FetchStrategy.PPRRuntime&&l.rp?.[0]===!0;return h=aa(Date.now(),a,c,d,l,m,b,e),{value:null,closed:f.promise}}catch(a){return _(e,Date.now()+1e4),null}}function _(a,b){let c=[];for(let d of a.values())1===d.status?X(d,b):2===d.status&&c.push(d);return c}function aa(a,b,c,d,e,f,g,i){if(e.b!==(0,l.getAppBuildId)())return null!==i&&_(i,a+1e4),null;let j=(0,r.normalizeFlightData)(e.f);if("string"==typeof j)return null;let k="number"==typeof e.rp?.[1]?e.rp[1]:parseInt(d.headers.get(h.NEXT_ROUTER_STALE_TIME_HEADER)??"",10),m=a+(isNaN(k)?s.STATIC_STALETIME_MS:x(k));for(let d of j){let e=d.seedData;if(null!==e){let h=d.segmentPath,j=g.tree;for(let b=0;b<h.length;b+=2){let c=h[b];if(j?.slots?.[c]===void 0)return null!==i&&_(i,a+1e4),null;j=j.slots[c]}!function a(b,c,d,e,f,g,h,i,j){let k=h[0];ab(b,d,e,k,h[2],null===k||i,g,f,j);let l=f.slots;if(null!==l){let f=h[1];for(let h in l){let k=l[h],m=f[h];null!=m&&a(b,c,d,e,k,g,m,i,j)}}}(a,b,c,g,j,m,e,f,i)}let h=d.head;null!==h&&ab(a,c,g,h,null,d.isHeadPartial,m,g.metadata,i)}return null!==i?_(i,a+1e4):null}function ab(a,b,c,d,e,f,g,h,i){let j=null!==i?i.get(h.requestKey):void 0;if(void 0!==j)V(j,d,e,g,f);else{let i=N(a,b,c,h);if(0===i.status)V(S(i,b),d,e,g,f);else{let c=V(S(R(g),b),d,e,g,f);Q(a,(0,k.getSegmentVaryPathForRequest)(b,h),c)}}}async function ac(a,b){let c=await (0,i.createFetch)(a,b,"low",!1);if(!c.ok)return null;{let a=c.headers.get("content-type");if(!(a&&a.startsWith(h.RSC_CONTENT_TYPE_HEADER)))return null}return c}function ad(a,b,c){let d=0,e=a.getReader();return new ReadableStream({async pull(a){for(;;){let{done:f,value:g}=await e.read();if(!f){a.enqueue(g),c(d+=g.byteLength);continue}b();return}}})}function ae(a,b){return a<b}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},42297,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={cancelPrefetchTask:function(){return v},isPrefetchTaskDirty:function(){return x},pingPrefetchTask:function(){return D},reschedulePrefetchTask:function(){return w},schedulePrefetchTask:function(){return u},startRevalidationCooldown:function(){return t}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(76e3),g=a.r(30641),h=a.r(99032),i=a.r(91442),j=a.r(92702),k=a.r(10846),l=a.r(39118),m="function"==typeof queueMicrotask?queueMicrotask:a=>Promise.resolve().then(a).catch(a=>setTimeout(()=>{throw a})),n=[],o=0,p=0,q=!1,r=null,s=null;function t(){null!==s&&clearTimeout(s),s=setTimeout(()=>{s=null,z()},300)}function u(a,b,c,d,e){let f={key:a,treeAtTimeOfPrefetch:b,cacheVersion:(0,h.getCurrentCacheVersion)(),priority:d,phase:1,hasBackgroundWork:!1,spawnedRuntimePrefetches:null,fetchStrategy:c,sortId:p++,isCanceled:!1,onInvalidate:e,_heapIndex:-1};return y(f),P(n,f),z(),f}function v(a){a.isCanceled=!0,function(a,b){let c=b._heapIndex;if(-1!==c&&(b._heapIndex=-1,0!==a.length)){let d=a.pop();d!==b&&(a[c]=d,d._heapIndex=c,U(a,d,c))}}(n,a)}function w(a,b,c,d){a.isCanceled=!1,a.phase=1,a.sortId=p++,a.priority=a===r?k.PrefetchPriority.Intent:d,a.treeAtTimeOfPrefetch=b,a.fetchStrategy=c,y(a),-1!==a._heapIndex?S(n,a):P(n,a),z()}function x(a,b,c){let d=(0,h.getCurrentCacheVersion)();return a.cacheVersion!==d||a.treeAtTimeOfPrefetch!==c||a.key.nextUrl!==b}function y(a){a.priority===k.PrefetchPriority.Intent&&a!==r&&(null!==r&&r.priority!==k.PrefetchPriority.Background&&(r.priority=k.PrefetchPriority.Default,S(n,r)),r=a)}function z(){q||(q=!0,m(E))}function A(a){return null===s&&(a.priority===k.PrefetchPriority.Intent?o<12:o<4)}function B(a){return o++,a.then(a=>null===a?(C(),null):(a.closed.then(C),a.value))}function C(){o--,z()}function D(a){a.isCanceled||-1!==a._heapIndex||(P(n,a),z())}function E(){q=!1;let a=Date.now(),b=Q(n);for(;null!==b&&A(b);){b.cacheVersion=(0,h.getCurrentCacheVersion)();let c=function(a,b){let c=b.key,d=(0,h.readOrCreateRouteCacheEntry)(a,b,c),e=function(a,b,c){switch(c.status){case h.EntryStatus.Empty:B((0,h.fetchRouteOnCacheMiss)(c,b,b.key)),c.staleAt=a+6e4,c.status=h.EntryStatus.Pending;case h.EntryStatus.Pending:{let a=c.blockedTasks;return null===a?c.blockedTasks=new Set([b]):a.add(b),1}case h.EntryStatus.Rejected:break;case h.EntryStatus.Fulfilled:{if(0!==b.phase)return 2;if(!A(b))return 0;let i=c.tree,j=b.fetchStrategy===k.FetchStrategy.PPR?c.isPPREnabled?k.FetchStrategy.PPR:k.FetchStrategy.LoadingBoundary:b.fetchStrategy;switch(j){case k.FetchStrategy.PPR:{var d,e,g;if(I(d=a,e=b,g=c,(0,h.readOrCreateSegmentCacheEntry)(d,k.FetchStrategy.PPR,g,g.metadata),e.key,g.metadata),0===function a(b,c,d,e,f){let g=(0,h.readOrCreateSegmentCacheEntry)(b,c.fetchStrategy,d,f);I(b,c,d,g,c.key,f);let i=e[1],j=f.slots;if(null!==j)for(let e in j){if(!A(c))return 0;let f=j[e],g=f.segment,k=i[e],l=k?.[0];if(0===(void 0!==l&&N(d,g,l)?a(b,c,d,k,f):function a(b,c,d,e){if(e.hasRuntimePrefetch)return null===c.spawnedRuntimePrefetches?c.spawnedRuntimePrefetches=new Set([e.requestKey]):c.spawnedRuntimePrefetches.add(e.requestKey),2;let f=(0,h.readOrCreateSegmentCacheEntry)(b,c.fetchStrategy,d,e);if(I(b,c,d,f,c.key,e),null!==e.slots){if(!A(c))return 0;for(let f in e.slots)if(0===a(b,c,d,e.slots[f]))return 0}return 2}(b,c,d,f)))return 0}return 2}(a,b,c,b.treeAtTimeOfPrefetch,i))return 0;let f=b.spawnedRuntimePrefetches;if(null!==f){let d=new Map;G(a,b,c,d,k.FetchStrategy.PPRRuntime);let e=function a(b,c,d,e,f,g){if(f.has(e.requestKey))return H(b,c,d,e,!1,g,k.FetchStrategy.PPRRuntime);let h={},i=e.slots;if(null!==i)for(let e in i){let j=i[e];h[e]=a(b,c,d,j,f,g)}return[e.segment,h,null,null]}(a,b,c,i,f,d);d.size>0&&B((0,h.fetchSegmentPrefetchesUsingDynamicRequest)(b,c,k.FetchStrategy.PPRRuntime,e,d))}return 2}case k.FetchStrategy.Full:case k.FetchStrategy.PPRRuntime:case k.FetchStrategy.LoadingBoundary:{let d=new Map;G(a,b,c,d,j);let e=function a(b,c,d,e,g,i,j){let l=e[1],m=g.slots,n={};if(null!==m)for(let e in m){let g=m[e],o=g.segment,p=l[e],q=p?.[0];if(void 0!==q&&N(d,o,q)){let f=a(b,c,d,p,g,i,j);n[e]=f}else switch(j){case k.FetchStrategy.LoadingBoundary:{let a=g.hasLoadingBoundary!==f.HasLoadingBoundary.SubtreeHasNoLoadingBoundary?function a(b,c,d,e,g,i){let j=null===g?"inside-shared-layout":null,l=(0,h.readOrCreateSegmentCacheEntry)(b,c.fetchStrategy,d,e);switch(l.status){case h.EntryStatus.Empty:i.set(e.requestKey,(0,h.upgradeToPendingSegment)(l,k.FetchStrategy.LoadingBoundary)),"refetch"!==g&&(j=g="refetch");break;case h.EntryStatus.Fulfilled:if(e.hasLoadingBoundary===f.HasLoadingBoundary.SegmentHasLoadingBoundary)return(0,h.convertRouteTreeToFlightRouterState)(e);case h.EntryStatus.Pending:case h.EntryStatus.Rejected:}let m={};if(null!==e.slots)for(let f in e.slots){let h=e.slots[f];m[f]=a(b,c,d,h,g,i)}return[e.segment,m,null,j,e.isRootLayout]}(b,c,d,g,null,i):(0,h.convertRouteTreeToFlightRouterState)(g);n[e]=a;break}case k.FetchStrategy.PPRRuntime:{let a=H(b,c,d,g,!1,i,j);n[e]=a;break}case k.FetchStrategy.Full:{let a=H(b,c,d,g,!1,i,j);n[e]=a}}}return[g.segment,n,null,null,g.isRootLayout]}(a,b,c,b.treeAtTimeOfPrefetch,i,d,j);return d.size>0&&B((0,h.fetchSegmentPrefetchesUsingDynamicRequest)(b,c,j,e,d)),2}}}}return 2}(a,b,d);if(0!==e&&""!==c.search){let d=new URL(c.pathname,location.origin),e=(0,j.createCacheKey)(d.href,c.nextUrl),f=(0,h.readOrCreateRouteCacheEntry)(a,b,e);switch(f.status){case h.EntryStatus.Empty:F(b)&&(f.status=h.EntryStatus.Pending,B((0,h.fetchRouteOnCacheMiss)(f,b,e)));case h.EntryStatus.Pending:case h.EntryStatus.Fulfilled:case h.EntryStatus.Rejected:}}return e}(a,b),d=b.hasBackgroundWork;switch(b.hasBackgroundWork=!1,b.spawnedRuntimePrefetches=null,c){case 0:return;case 1:R(n),b=Q(n);continue;case 2:1===b.phase?(b.phase=0,S(n,b)):d?(b.priority=k.PrefetchPriority.Background,S(n,b)):R(n),b=Q(n);continue}}}function F(a){return a.priority===k.PrefetchPriority.Background||(a.hasBackgroundWork=!0,!1)}function G(a,b,c,d,e){H(a,b,c,c.metadata,!1,d,e===k.FetchStrategy.LoadingBoundary?k.FetchStrategy.Full:e)}function H(a,b,c,d,e,f,g){let i=(0,h.readOrCreateSegmentCacheEntry)(a,g,c,d),j=null;switch(i.status){case h.EntryStatus.Empty:j=(0,h.upgradeToPendingSegment)(i,g);break;case h.EntryStatus.Fulfilled:i.isPartial&&(0,h.canNewFetchStrategyProvideMoreContent)(i.fetchStrategy,g)&&(j=K(a,c,d,g));break;case h.EntryStatus.Pending:case h.EntryStatus.Rejected:(0,h.canNewFetchStrategyProvideMoreContent)(i.fetchStrategy,g)&&(j=K(a,c,d,g))}let k={};if(null!==d.slots)for(let h in d.slots){let i=d.slots[h];k[h]=H(a,b,c,i,e||null!==j,f,g)}null!==j&&f.set(d.requestKey,j);let l=e||null===j?null:"refetch";return[d.segment,k,null,l,d.isRootLayout]}function I(a,b,c,d,e,f){switch(d.status){case h.EntryStatus.Empty:B((0,h.fetchSegmentOnCacheMiss)(c,(0,h.upgradeToPendingSegment)(d,k.FetchStrategy.PPR),e,f));break;case h.EntryStatus.Pending:switch(d.fetchStrategy){case k.FetchStrategy.PPR:case k.FetchStrategy.PPRRuntime:case k.FetchStrategy.Full:break;case k.FetchStrategy.LoadingBoundary:F(b)&&J(a,c,e,f);break;default:d.fetchStrategy}break;case h.EntryStatus.Rejected:switch(d.fetchStrategy){case k.FetchStrategy.PPR:case k.FetchStrategy.PPRRuntime:case k.FetchStrategy.Full:break;case k.FetchStrategy.LoadingBoundary:J(a,c,e,f);break;default:d.fetchStrategy}case h.EntryStatus.Fulfilled:}}function J(a,b,c,d){let e=(0,h.readOrCreateRevalidatingSegmentEntry)(a,k.FetchStrategy.PPR,b,d);switch(e.status){case h.EntryStatus.Empty:M(B((0,h.fetchSegmentOnCacheMiss)(b,(0,h.upgradeToPendingSegment)(e,k.FetchStrategy.PPR),c,d)),(0,i.getSegmentVaryPathForRequest)(k.FetchStrategy.PPR,d));case h.EntryStatus.Pending:case h.EntryStatus.Fulfilled:case h.EntryStatus.Rejected:}}function K(a,b,c,d){let e=(0,h.readOrCreateRevalidatingSegmentEntry)(a,d,b,c);if(e.status===h.EntryStatus.Empty){let a=(0,h.upgradeToPendingSegment)(e,d);return M((0,h.waitForSegmentCacheEntry)(a),(0,i.getSegmentVaryPathForRequest)(d,c)),a}if((0,h.canNewFetchStrategyProvideMoreContent)(e.fetchStrategy,d)){let a=(0,h.overwriteRevalidatingSegmentCacheEntry)(d,b,c),e=(0,h.upgradeToPendingSegment)(a,d);return M((0,h.waitForSegmentCacheEntry)(e),(0,i.getSegmentVaryPathForRequest)(d,c)),e}switch(e.status){case h.EntryStatus.Pending:case h.EntryStatus.Fulfilled:case h.EntryStatus.Rejected:default:return null}}let L=()=>{};function M(a,b){a.then(a=>{null!==a&&(0,h.upsertSegmentEntry)(Date.now(),b,a)},L)}function N(a,b,c){return c===l.PAGE_SEGMENT_KEY?b===(0,l.addSearchParamsIfPageSegment)(l.PAGE_SEGMENT_KEY,Object.fromEntries(new URLSearchParams(a.renderedSearch))):(0,g.matchSegment)(c,b)}function O(a,b){let c=b.priority-a.priority;if(0!==c)return c;let d=b.phase-a.phase;return 0!==d?d:b.sortId-a.sortId}function P(a,b){let c=a.length;a.push(b),b._heapIndex=c,T(a,b,c)}function Q(a){return 0===a.length?null:a[0]}function R(a){if(0===a.length)return null;let b=a[0];b._heapIndex=-1;let c=a.pop();return c!==b&&(a[0]=c,c._heapIndex=0,U(a,c,0)),b}function S(a,b){let c=b._heapIndex;-1!==c&&(0===c?U(a,b,0):O(a[c-1>>>1],b)>0?T(a,b,c):U(a,b,c))}function T(a,b,c){let d=c;for(;d>0;){let c=d-1>>>1,e=a[c];if(!(O(e,b)>0))return;a[c]=b,b._heapIndex=c,a[d]=e,e._heapIndex=d,d=c}}function U(a,b,c){let d=c,e=a.length,f=e>>>1;for(;d<f;){let c=(d+1)*2-1,f=a[c],g=c+1,h=a[g];if(0>O(f,b))g<e&&0>O(h,f)?(a[d]=h,h._heapIndex=d,a[g]=b,b._heapIndex=g,d=g):(a[d]=f,f._heapIndex=d,a[c]=b,b._heapIndex=c,d=c);else{if(!(g<e&&0>O(h,b)))return;a[d]=h,h._heapIndex=d,a[g]=b,b._heapIndex=g,d=g}}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},16441,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={IDLE_LINK_STATUS:function(){return l},PENDING_LINK_STATUS:function(){return k},mountFormInstance:function(){return t},mountLinkInstance:function(){return s},onLinkVisibilityChanged:function(){return v},onNavigationIntent:function(){return w},pingVisibleLinks:function(){return y},setLinkForCurrentNavigation:function(){return m},unmountLinkForCurrentNavigation:function(){return n},unmountPrefetchableInstance:function(){return u}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(10846),g=a.r(92702),h=a.r(42297),i=a.r(72131),j=null,k={pending:!0},l={pending:!1};function m(a){(0,i.startTransition)(()=>{j?.setOptimisticLinkStatus(l),a?.setOptimisticLinkStatus(k),j=a})}function n(a){j===a&&(j=null)}let o="function"==typeof WeakMap?new WeakMap:new Map,p=new Set,q="function"==typeof IntersectionObserver?new IntersectionObserver(function(a){for(let b of a){let a=b.intersectionRatio>0;v(b.target,a)}},{rootMargin:"200px"}):null;function r(a,b){void 0!==o.get(a)&&u(a),o.set(a,b),null!==q&&q.observe(a)}function s(a,b,c,d,e,f){if(e){let b=null;if(null!==b){let e={router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:b.href,setOptimisticLinkStatus:f};return r(a,e),e}}return{router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:null,setOptimisticLinkStatus:f}}function t(a,b,c,d){let e=null;null===e||r(a,{router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:e.href,setOptimisticLinkStatus:null})}function u(a){let b=o.get(a);if(void 0!==b){o.delete(a),p.delete(b);let c=b.prefetchTask;null!==c&&(0,h.cancelPrefetchTask)(c)}null!==q&&q.unobserve(a)}function v(a,b){let c=o.get(a);void 0!==c&&(c.isVisible=b,b?p.add(c):p.delete(c),x(c,f.PrefetchPriority.Default))}function w(a,b){let c=o.get(a);void 0!==c&&void 0!==c&&x(c,f.PrefetchPriority.Intent)}function x(a,b){}function y(a,b){for(let c of p){let d=c.prefetchTask;if(null!==d&&!(0,h.isPrefetchTaskDirty)(d,a,b))continue;null!==d&&(0,h.cancelPrefetchTask)(d);let e=(0,g.createCacheKey)(c.prefetchHref,a);c.prefetchTask=(0,h.schedulePrefetchTask)(e,b,c.fetchStrategy,f.PrefetchPriority.Default,null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},11679,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"pathHasPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(8868);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.parsePath)(a);return c===b||c.startsWith(b+"/")}},78897,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"hasBasePath",{enumerable:!0,get:function(){return e}});let d=a.r(11679);function e(a){return(0,d.pathHasPrefix)(a,"")}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},11762,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isLocalURL",{enumerable:!0,get:function(){return f}});let d=a.r(46272),e=a.r(78897);function f(a){if(!(0,d.isAbsoluteUrl)(a))return!0;try{let b=(0,d.getLocationOrigin)(),c=new URL(a,b);return c.origin===b&&(0,e.hasBasePath)(c.pathname)}catch(a){return!1}}},9833,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"errorOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},38246,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return q},useLinkStatus:function(){return s}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058),g=a.r(87924),h=f._(a.r(72131)),i=a.r(43087),j=a.r(9270),k=a.r(8591),l=a.r(46272),m=a.r(38243);a.r(92434);let n=a.r(16441);a.r(11762);let o=a.r(10846);function p(a){return"string"==typeof a?a:(0,i.formatUrl)(a)}function q(a){var b;let c,d,e,[f,i]=(0,h.useOptimistic)(n.IDLE_LINK_STATUS),q=(0,h.useRef)(null),{href:s,as:t,children:u,prefetch:v=null,passHref:w,replace:x,shallow:y,scroll:z,onClick:A,onMouseEnter:B,onTouchStart:C,legacyBehavior:D=!1,onNavigate:E,ref:F,unstable_dynamicOnHover:G,...H}=a;c=u,D&&("string"==typeof c||"number"==typeof c)&&(c=(0,g.jsx)("a",{children:c}));let I=h.default.useContext(j.AppRouterContext),J=!1!==v,K=!1!==v?null===(b=v)||"auto"===b?o.FetchStrategy.PPR:o.FetchStrategy.Full:o.FetchStrategy.PPR,{href:L,as:M}=h.default.useMemo(()=>{let a=p(s);return{href:a,as:t?p(t):a}},[s,t]);if(D){if(c?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});d=h.default.Children.only(c)}let N=D?d&&"object"==typeof d&&d.ref:F,O=h.default.useCallback(a=>(null!==I&&(q.current=(0,n.mountLinkInstance)(a,L,I,K,J,i)),()=>{q.current&&((0,n.unmountLinkForCurrentNavigation)(q.current),q.current=null),(0,n.unmountPrefetchableInstance)(a)}),[J,L,I,K,i]),P={ref:(0,k.useMergedRef)(O,N),onClick(a){if((D||"function"!=typeof A||A(a),D&&d.props&&"function"==typeof d.props.onClick&&d.props.onClick(a),I)&&!a.defaultPrevented);},onMouseEnter(a){D||"function"!=typeof B||B(a),D&&d.props&&"function"==typeof d.props.onMouseEnter&&d.props.onMouseEnter(a),I&&J&&(0,n.onNavigationIntent)(a.currentTarget,!0===G)},onTouchStart:function(a){D||"function"!=typeof C||C(a),D&&d.props&&"function"==typeof d.props.onTouchStart&&d.props.onTouchStart(a),I&&J&&(0,n.onNavigationIntent)(a.currentTarget,!0===G)}};return(0,l.isAbsoluteUrl)(M)?P.href=M:D&&!w&&("a"!==d.type||"href"in d.props)||(P.href=(0,m.addBasePath)(M)),e=D?h.default.cloneElement(d,P):(0,g.jsx)("a",{...H,...P,children:c}),(0,g.jsx)(r.Provider,{value:f,children:e})}a.r(9833);let r=(0,h.createContext)(n.IDLE_LINK_STATUS),s=()=>(0,h.useContext)(r);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},66427,a=>{"use strict";let b,c,d;a.s([],19183),a.s([],67977);var e,f,g,h=a.i(87924),i=a.i(72131),j=a.i(35112);let k=["BUTTON","A","INPUT","TEXTAREA","SELECT","LABEL"],l=["button","link","menuitem","tab","checkbox","radio","switch","option"];function m(a){return a.replace(/["\\]/g,"\\$&")}function n(a){return a.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/:/g,"\\:").replace(/\//g,"\\/")}function o(a){return!!(/^radix-:r[a-z0-9]+:/i.test(a)||/^:r[a-z0-9]+:/i.test(a)||/^headlessui-\w+-\d+$/.test(a))}function p(a){let b=a.textContent?.trim();if(b&&b.length>0&&b.length<=50)return b;let c=a.querySelector("svg");if(c){let a=c.getAttribute("class");if(a){let b=a.split(" ").find(a=>a.includes("icon")||a.includes("Icon")||a.includes("lucide")||a.includes("fa-"));if(b)return`svg:${b}`}let b=c.querySelector("use");if(b){let a=b.getAttribute("href")||b.getAttribute("xlink:href");if(a)return`svg:${a}`}}let d=a.querySelector("img");if(d){let a=d.getAttribute("alt");if(a)return`img:${a}`}}function q(a){let b=function(a){let b=a;for(;b;){if(k.includes(b.tagName))return b;let a=b.getAttribute("role");if(a&&l.includes(a)||b.hasAttribute("data-testid")||b.onclick||b.hasAttribute("onclick"))return b;b=b.parentElement}return a}(a),c=function(a){if(a.dataset.testid)return`[data-testid="${m(a.dataset.testid)}"]`;if(a.id&&!o(a.id))return`#${a.id}`;let b=a.getAttribute("aria-label");if(b)return`${a.tagName.toLowerCase()}[aria-label="${m(b)}"]`;let c=a.getAttribute("role");if(c){let b=a.getAttribute("type");return b?`[role="${c}"][type="${b}"]`:`${a.tagName.toLowerCase()}[role="${c}"]`}if("INPUT"===a.tagName||"TEXTAREA"===a.tagName){let b=a.getAttribute("name");if(b)return`${a.tagName.toLowerCase()}[name="${m(b)}"]`;let c=a.getAttribute("placeholder");if(c)return`${a.tagName.toLowerCase()}[placeholder="${m(c)}"]`}if(a.className&&"string"==typeof a.className){let b=a.className.split(" ").filter(a=>a&&!a.startsWith("hover:")&&!a.startsWith("focus:")&&!a.startsWith("active:")).slice(0,3).map(n);if(b.length>0)return`${a.tagName.toLowerCase()}.${b.join(".")}`}return a.tagName.toLowerCase()}(b),d=function(a,b=4){let c=a.parentElement,d=0;for(;c&&d<b;){if(c.id&&!o(c.id)||c.dataset.testid||c.getAttribute("aria-label"))return c;let a=c.getAttribute("role");if(a&&["main","navigation","dialog","form","region","article","section"].includes(a)||["MAIN","NAV","HEADER","FOOTER","ASIDE","FORM","DIALOG"].includes(c.tagName))return c;c=c.parentElement,d++}return null}(b),e=d?function(a){if(a.id&&!o(a.id))return`#${a.id}`;if(a.dataset.testid)return`[data-testid="${m(a.dataset.testid)}"]`;let b=a.getAttribute("aria-label");if(b)return`[aria-label="${m(b)}"]`;let c=a.getAttribute("role");return c?`[role="${c}"]`:a.tagName.toLowerCase()}(d):null,f=e?`${e} ${c}`:c;try{let a=document.querySelectorAll(f);if(1===a.length)return{selector:f};if(a.length>1){let c=p(b);if(c)return{selector:f,contentMatch:c};let d=0;for(let c=0;c<a.length;c++)if(a[c]===b){d=c+1;break}if(d>0)return{selector:`${f}:nth-of-type(${d})`,contentMatch:p(b)}}}catch{}return{selector:f,contentMatch:p(b)}}function r(a,b){try{let c=document.querySelectorAll(a);if(1===c.length)return c[0];if(c.length>1&&b)for(let a=0;a<c.length;a++){let d=c[a],e=d.textContent?.trim()||"";if(e===b||e.includes(b))return d;if(b.startsWith("svg:")){let a=b.slice(4),c=d.querySelector("svg");if(c){if((c.getAttribute("class")||"").includes(a))return d;let b=c.querySelector("use");if((b?.getAttribute("href")||b?.getAttribute("xlink:href")||"").includes(a))return d}}if(b.startsWith("img:")){let a=b.slice(4),c=d.querySelector("img");if(c&&c.getAttribute("alt")===a)return d}}if(c.length>0)return c[0]}catch{}return null}function s({targetSelector:a,contentMatch:b,isVisible:c,actionType:d}){let[e,f]=(0,i.useState)(null),g=(0,i.useRef)();if((0,i.useEffect)(()=>{if(!c||!a)return void f(null);let d=()=>{try{let c=r(a,b);if(c){let a=c.getBoundingClientRect();f(a)}else f(null)}catch(a){f(null)}g.current=requestAnimationFrame(d)};return d(),()=>{g.current&&cancelAnimationFrame(g.current)}},[a,b,c]),!c||!e)return null;let k="type"===d,l={position:"fixed",top:e.top-6+window.scrollY,left:e.left-6,width:e.width+12,height:e.height+12,border:k?"3px dashed #60a5fa":"3px solid #facc15",borderRadius:"8px",boxShadow:k?"0 0 12px 2px rgba(96, 165, 250, 0.4)":"0 0 12px 2px rgba(250, 204, 21, 0.4)",pointerEvents:"none",zIndex:9998,animation:k?"guidance-type-pulse 1.5s infinite":"guidance-pulse 2s infinite"};return(0,j.createPortal)((0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("style",{children:`
          @keyframes guidance-pulse {
            0% { box-shadow: 0 0 12px 2px rgba(250, 204, 21, 0.4); }
            50% { box-shadow: 0 0 18px 3px rgba(250, 204, 21, 0.6); }
            100% { box-shadow: 0 0 12px 2px rgba(250, 204, 21, 0.4); }
          }
          @keyframes guidance-type-pulse {
            0% { box-shadow: 0 0 12px 2px rgba(96, 165, 250, 0.4); border-color: #60a5fa; }
            50% { box-shadow: 0 0 18px 3px rgba(96, 165, 250, 0.6); border-color: #93c5fd; }
            100% { box-shadow: 0 0 12px 2px rgba(96, 165, 250, 0.4); border-color: #60a5fa; }
          }
        `}),(0,h.jsx)("div",{style:l,"data-testid":"element-highlight"})]}),document.body)}function t({targetSelector:a,contentMatch:b,isVisible:c}){let[d,e]=(0,i.useState)(null),f=(0,i.useRef)();if((0,i.useEffect)(()=>{if(!c||!a)return void e(null);let d=()=>{let c=r(a,b);c?e(c.getBoundingClientRect()):e(null),f.current=requestAnimationFrame(d)};return d(),()=>{f.current&&cancelAnimationFrame(f.current)}},[a,b,c]),!c)return null;let g=d?{left:d.left-10,top:d.top-10,right:d.right+10,bottom:d.bottom+10}:null,k=g?`polygon(
        0 0, 100% 0, 100% 100%, 0 100%, 0 0,
        ${g.left}px ${g.top}px,
        ${g.right}px ${g.top}px,
        ${g.right}px ${g.bottom}px,
        ${g.left}px ${g.bottom}px,
        ${g.left}px ${g.top}px
      )`:void 0;return(0,j.createPortal)((0,h.jsx)("div",{className:"fixed inset-0 bg-black/40 z-[9997] pointer-events-none transition-all duration-300",style:{clipPath:k},"data-testid":"spotlight-overlay"}),document.body)}function u(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}let v=a=>Array.isArray(a);function w(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}function x(a){return"string"==typeof a||Array.isArray(a)}function y(a){let b=[{},{}];return null==a||a.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function z(a,b,c,d){if("function"==typeof b){let[e,f]=y(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=y(d);b=b(void 0!==c?c:a.custom,e,f)}return b}function A(a,b,c){let d=a.getProps();return z(d,b,void 0!==c?c:d.custom,a)}let B=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C=["initial",...B],D=a=>a;function E(a){let b;return()=>(void 0===b&&(b=a()),b)}let F=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d},G=a=>1e3*a,H=E(()=>void 0!==window.ScrollTimeline);class I{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>"finished"in a?a.finished:a))}getAll(a){return this.animations[0][a]}setAll(a,b){for(let c=0;c<this.animations.length;c++)this.animations[c][a]=b}attachTimeline(a,b){let c=this.animations.map(c=>H()&&c.attachTimeline?c.attachTimeline(a):"function"==typeof b?b(c):void 0);return()=>{c.forEach((a,b)=>{a&&a(),this.animations[b].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let b=0;b<this.animations.length;b++)a=Math.max(a,this.animations[b].duration);return a}runAll(a){this.animations.forEach(b=>b[a]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class J extends I{then(a,b){return Promise.all(this.animations).then(a).catch(b)}}function K(a,b){return a?a[b]||a.default||a:void 0}function L(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function M(a){return"function"==typeof a}function N(a,b){a.timeline=b,a.onfinish=null}let O=a=>Array.isArray(a)&&"number"==typeof a[0],P,Q=(c=E(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0}),()=>{var a;return null!=(a=P)?a:c()}),R=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=a(F(0,e-1,b))+", ";return`linear(${d.substring(0,d.length-2)})`},S=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:S([0,.65,.55,1]),circOut:S([.55,0,1,.45]),backIn:S([.31,.01,.66,-.59]),backOut:S([.33,1.53,.69,.99])},U={x:!1,y:!1};function V(a,b){let c=function(a,b,c){if(a instanceof Element)return[a];if("string"==typeof a){let b=document.querySelectorAll(a);return b?Array.from(b):[]}return Array.from(a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function W(a){return b=>{"touch"===b.pointerType||U.x||U.y||a(b)}}let X=(a,b)=>!!b&&(a===b||X(a,b.parentElement)),Y=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary,Z=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),$=new WeakSet;function _(a){return b=>{"Enter"===b.key&&a(b)}}function aa(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function ab(a){return Y(a)&&!(U.x||U.y)}let ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ad=new Set(ac),ae=new Set(["width","height","top","left","right","bottom",...ac]),af=a=>v(a)?a[a.length-1]||0:a,ag=["read","resolveKeyframes","update","preRender","render","postRender"];function ah(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=ag.reduce((a,b)=>(a[b]=function(a){let b=new Set,c=new Set,d=!1,e=!1,f=new WeakSet,g={delta:0,timestamp:0,isProcessing:!1};function h(b){f.has(b)&&(i.schedule(b),a()),b(g)}let i={schedule:(a,e=!1,g=!1)=>{let h=g&&d?b:c;return e&&f.add(a),h.has(a)||h.add(a),a},cancel:a=>{c.delete(a),f.delete(a)},process:a=>{if(g=a,d){e=!0;return}d=!0,[b,c]=[c,b],b.forEach(h),b.clear(),d=!1,e&&(e=!1,i.process(a))}};return i}(f),a),{}),{read:h,resolveKeyframes:i,update:j,preRender:k,render:l,postRender:m}=g,n=()=>{let f=performance.now();c=!1,e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(n))};return{schedule:ag.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(n)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<ag.length;b++)g[ag[b]].cancel(a)},state:e,steps:g}}let{schedule:ai,cancel:aj,state:ak,steps:al}=ah("u">typeof requestAnimationFrame?requestAnimationFrame:D,!0);function am(){b=void 0}let an={now:()=>(void 0===b&&an.set(ak.isProcessing?ak.timestamp:performance.now()),b),set:a=>{b=a,queueMicrotask(am)}};function ao(a,b){-1===a.indexOf(b)&&a.push(b)}function ap(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class aq{constructor(){this.subscriptions=[]}add(a){return ao(this.subscriptions,a),()=>ap(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class ar{constructor(a,b={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,b=!0)=>{let c=an.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),b&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=an.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new aq);let c=this.events[a].add(b);return"change"===a?()=>{c(),ai.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a,b=!0){b&&this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a,b)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return d&&d.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=an.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(a,b){return new ar(a,b)}let at=a=>!!(a&&a.getVelocity);function au(a,b){let c=a.getValue("willChange");if(at(c)&&c.add)return c.add(b)}let av=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aw="data-"+av("framerAppearId"),ax=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function ay(a,b,c,d){return a===b&&c===d?D:e=>0===e||1===e?e:ax(function(a,b,c,d,e){let f,g,h=0;do(f=ax(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12)return g}(e,0,1,a,c),b,d)}let az=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,aA=a=>b=>1-a(1-b),aB=ay(.33,1.53,.69,.99),aC=aA(aB),aD=az(aC),aE=a=>(a*=2)<1?.5*aC(a):.5*(2-Math.pow(2,-10*(a-1))),aF=a=>1-Math.sin(Math.acos(a)),aG=aA(aF),aH=az(aF),aI=(a,b,c)=>c>b?b:c<a?a:c,aJ={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},aK={...aJ,transform:a=>aI(0,1,a)},aL={...aJ,default:1},aM=a=>Math.round(1e5*a)/1e5,aN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,aO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aP=(a,b)=>c=>!!("string"==typeof c&&aO.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),aQ=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(aN);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},aR={...aJ,transform:a=>Math.round(aI(0,255,a))},aS={test:aP("rgb","red"),parse:aQ("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+aR.transform(a)+", "+aR.transform(b)+", "+aR.transform(c)+", "+aM(aK.transform(d))+")"},aT={test:aP("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:aS.transform},aU=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),aV=aU("deg"),aW=aU("%"),aX=aU("px"),aY=aU("vh"),aZ=aU("vw"),a$={...aW,parse:a=>aW.parse(a)/100,transform:a=>aW.transform(100*a)},a_={test:aP("hsl","hue"),parse:aQ("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+aW.transform(aM(b))+", "+aW.transform(aM(c))+", "+aM(aK.transform(d))+")"},a0={test:a=>aS.test(a)||aT.test(a)||a_.test(a),parse:a=>aS.test(a)?aS.parse(a):a_.test(a)?a_.parse(a):aT.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?aS.transform(a):a_.transform(a)},a1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,a2="number",a3="color",a4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function a5(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(a4,a=>(a0.test(a)?(d.color.push(f),e.push(a3),c.push(a0.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(a2),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function a6(a){return a5(a).values}function a7(a){let{split:b,types:c}=a5(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===a2?e+=aM(a[f]):b===a3?e+=a0.transform(a[f]):e+=a[f]}return e}}let a8=a=>"number"==typeof a?0:a,a9={test:function(a){var b,c;return isNaN(a)&&"string"==typeof a&&((null==(b=a.match(aN))?void 0:b.length)||0)+((null==(c=a.match(a1))?void 0:c.length)||0)>0},parse:a6,createTransformer:a7,getAnimatableNone:function(a){let b=a6(a);return a7(a)(b.map(a8))}},ba=new Set(["brightness","contrast","saturate","opacity"]);function bb(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(aN)||[];if(!d)return a;let e=c.replace(d,""),f=+!!ba.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let bc=/\b([a-z-]*)\(.*?\)/gu,bd={...a9,getAnimatableNone:a=>{let b=a.match(bc);return b?b.map(bb).join(" "):a}},be={...aJ,transform:Math.round},bf={borderWidth:aX,borderTopWidth:aX,borderRightWidth:aX,borderBottomWidth:aX,borderLeftWidth:aX,borderRadius:aX,radius:aX,borderTopLeftRadius:aX,borderTopRightRadius:aX,borderBottomRightRadius:aX,borderBottomLeftRadius:aX,width:aX,maxWidth:aX,height:aX,maxHeight:aX,top:aX,right:aX,bottom:aX,left:aX,padding:aX,paddingTop:aX,paddingRight:aX,paddingBottom:aX,paddingLeft:aX,margin:aX,marginTop:aX,marginRight:aX,marginBottom:aX,marginLeft:aX,backgroundPositionX:aX,backgroundPositionY:aX,rotate:aV,rotateX:aV,rotateY:aV,rotateZ:aV,scale:aL,scaleX:aL,scaleY:aL,scaleZ:aL,skew:aV,skewX:aV,skewY:aV,distance:aX,translateX:aX,translateY:aX,translateZ:aX,x:aX,y:aX,z:aX,perspective:aX,transformPerspective:aX,opacity:aK,originX:a$,originY:a$,originZ:aX,zIndex:be,size:aX,fillOpacity:aK,strokeOpacity:aK,numOctaves:be},bg={...bf,color:a0,backgroundColor:a0,outlineColor:a0,fill:a0,stroke:a0,borderColor:a0,borderTopColor:a0,borderRightColor:a0,borderBottomColor:a0,borderLeftColor:a0,filter:bd,WebkitFilter:bd},bh=a=>bg[a];function bi(a,b){let c=bh(a);return c!==bd&&(c=a9),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let bj=new Set(["auto","none","0"]),bk=a=>a===aJ||a===aX,bl=(a,b)=>parseFloat(a.split(", ")[b]),bm=(a,b)=>(c,{transform:d})=>{if("none"===d||!d)return 0;let e=d.match(/^matrix3d\((.+)\)$/u);if(e)return bl(e[1],b);{let b=d.match(/^matrix\((.+)\)$/u);return b?bl(b[1],a):0}},bn=new Set(["x","y","z"]),bo=ac.filter(a=>!bn.has(a)),bp={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:bm(4,13),y:bm(5,14)};bp.translateX=bp.x,bp.translateY=bp.y;let bq=new Set,br=!1,bs=!1;function bt(){if(bs){let a=Array.from(bq).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b,d=(b=[],bo.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b);d.length&&(c.set(a,d),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{var d;null==(d=a.getValue(b))||d.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}bs=!1,br=!1,bq.forEach(a=>a.complete()),bq.clear()}function bu(){bq.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(bs=!0)})}class bv{constructor(a,b,c,d,e,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bq.add(this),br||(br=!0,ai.read(bu),ai.resolveKeyframes(bt))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;for(let e=0;e<a.length;e++)if(null===a[e])if(0===e){let e=null==d?void 0:d.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}else a[e]=a[e-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bq.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bq.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let bw=a=>b=>"string"==typeof b&&b.startsWith(a),bx=bw("--"),by=bw("var(--"),bz=a=>!!by(a)&&bA.test(a.split("/*")[0].trim()),bA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,bC=a=>b=>b.test(a),bD=[aJ,aX,aW,aV,aZ,aY,{test:a=>"auto"===a,parse:a=>a}],bE=a=>bD.find(bC(a));class bF extends bv{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&bz(d=d.trim())){let e=function a(b,c,d=1){D(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`);let[e,f]=function(a){let b=bB.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${null!=c?c:d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)?parseFloat(a):a}return bz(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ae.has(c)||2!==a.length)return;let[d,e]=a,f=bE(d),g=bE(e);if(f!==g)if(bk(f)&&bk(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++)(function(a){if("number"==typeof a)return 0===a;if(null===a)return!0;return"none"===a||"0"===a||/^0[^.\s]+$/u.test(a)})(a[b])&&c.push(b);c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!bj.has(b)&&a5(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=bi(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bp[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){var a;let{element:b,name:c,unresolvedKeyframes:d}=this;if(!b||!b.current)return;let e=b.getValue(c);e&&e.jump(this.measuredOrigin,!1);let f=d.length-1,g=d[f];d[f]=bp[c](b.measureViewportBox(),window.getComputedStyle(b.current)),null!==g&&void 0===this.finalKeyframe&&(this.finalKeyframe=g),(null==(a=this.removedTransforms)?void 0:a.length)&&this.removedTransforms.forEach(([a,c])=>{b.getValue(a).set(c)}),this.resolveNoneKeyframes()}}let bG=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(a9.test(a)||"0"===a)&&!a.startsWith("url(")),bH=a=>null!==a;function bI(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(bH),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return f&&void 0!==d?d:e[f]}class bJ{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=an.now(),this.options={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(bu(),bt()),this._resolved}onKeyframesResolved(a,b){this.resolvedAt=an.now(),this.hasAttemptedResolve=!0;let{name:c,type:d,velocity:e,delay:f,onComplete:g,onUpdate:h,isGenerator:i}=this.options;if(!i&&!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=bG(e,b),h=bG(f,b);return D(g===h,`You are trying to animate ${b} from "${e}" to "${f}". ${e} is not an animatable value - to enable this animation set ${e} to a value animatable to ${f} via the \`style\` property.`),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||M(c))&&d)}(a,c,d,e))if(f)this.options.duration=0;else{h&&h(bI(a,this.options,b)),g&&g(),this.resolveFinishedPromise();return}let j=this.initPlayback(a,b);!1!==j&&(this._resolved={keyframes:a,finalKeyframe:b,...j},this.onPostResolved())}onPostResolved(){}then(a,b){return this.currentFinishedPromise.then(a,b)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}let bK=(a,b,c)=>a+(b-a)*c;function bL(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function bM(a,b){return c=>c>0?b:a}let bN=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},bO=[aT,aS,a_];function bP(a){let b=bO.find(b=>b.test(a));if(D(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`),!b)return!1;let c=b.parse(a);return b===a_&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=bL(h,d,a+1/3),f=bL(h,d,a),g=bL(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let bQ=(a,b)=>{let c=bP(a),d=bP(b);if(!c||!d)return bM(a,b);let e={...c};return a=>(e.red=bN(c.red,d.red,a),e.green=bN(c.green,d.green,a),e.blue=bN(c.blue,d.blue,a),e.alpha=bK(c.alpha,d.alpha,a),aS.transform(e))},bR=(a,b)=>c=>b(a(c)),bS=(...a)=>a.reduce(bR),bT=new Set(["none","hidden"]);function bU(a,b){return c=>bK(a,b,c)}function bV(a){return"number"==typeof a?bU:"string"==typeof a?bz(a)?bM:a0.test(a)?bQ:bY:Array.isArray(a)?bW:"object"==typeof a?a0.test(a)?bQ:bX:bM}function bW(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>bV(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function bX(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=bV(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let bY=(a,b)=>{let c=a9.createTransformer(b),d=a5(a),e=a5(b);if(!(d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length))return D(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),bM(a,b);if(bT.has(a)&&!e.values.length||bT.has(b)&&!d.values.length)return bT.has(a)?c=>c<=0?a:b:c=>c>=1?b:a;return bS(bW(function(a,b){var c;let d=[],e={color:0,var:0,number:0};for(let f=0;f<b.values.length;f++){let g=b.types[f],h=a.indexes[g][e[g]],i=null!=(c=a.values[h])?c:0;d[f]=i,e[g]++}return d}(d,e),e.values),c)};function bZ(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?bK(a,b,c):bV(a)(a,b)}function b$(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let b_=.01,b0=2,b1=.005,b2=.5;function b3(a,b){return a*Math.sqrt(1-b*b)}let b4=["duration","bounce"],b5=["stiffness","damping","mass"];function b6(a,b){return b.some(b=>void 0!==a[b])}function b7(a=.3,b=.3){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!b6(a,b5)&&b6(a,b4))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*aI(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:1,stiffness:d,damping:e}}else{let c=function({duration:a=800,bounce:b=.3,velocity:c=0,mass:d=1}){let e,f;D(a<=G(10),"Spring duration must be 10 seconds or less");let g=1-b;g=aI(.05,1,g),a=aI(.01,10,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/b3(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=b3(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=G(a),isNaN(h))return{stiffness:100,damping:10,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:1}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,s=Math.sqrt(j/l)/1e3,t=5>Math.abs(r);if(e||(e=t?b_:b0),f||(f=t?b1:b2),q<1){let a=b3(s,q);c=b=>h-Math.exp(-q*s*b)*((p+q*s*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-s*a)*(r+(p+s*r)*a);else{let a=s*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*s*b),d=Math.min(a*b,300);return h-c*((p+q*s*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let u={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0;q<1&&(d=0===a?G(p):b$(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(L(u),2e4),b=R(b=>u.next(a*b).value,a,30);return a+"ms "+b}};return u}function b8({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=b7({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:b$(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}let b9=ay(.42,0,1,1),ca=ay(0,0,.58,1),cb=ay(.42,0,.58,1),cc={linear:D,easeIn:b9,easeInOut:cb,easeOut:ca,circIn:aF,circInOut:aH,circOut:aG,backIn:aC,backInOut:aD,backOut:aB,anticipate:aE},cd=a=>{if(O(a)){D(4===a.length,"Cubic bezier arrays must contain four numerical values.");let[b,c,d,e]=a;return ay(b,c,d,e)}return"string"==typeof a?(D(void 0!==cc[a],`Invalid easing type '${a}'`),cc[a]):a};function ce({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f,g=Array.isArray(d)&&"number"!=typeof d[0]?d.map(cd):cd(d),h={done:!1,value:b[0]},i=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(D(f===b.length,"Both input and output ranges must be the same length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||bZ,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=bS(Array.isArray(b)?b[c]||D:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=F(a[d],a[d+1],c);return h[d](e)};return c?b=>j(aI(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:(!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=F(0,b,d);a.push(bK(c,1,e))}}(f=[0],b.length-1),f),e.map(b=>b*a)),b,{ease:Array.isArray(g)?g:b.map(()=>g||cb).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(h.value=i(b),h.done=b>=a,h)}}let cf=a=>{let b=({timestamp:b})=>a(b);return{start:()=>ai.update(b,!0),stop:()=>aj(b),now:()=>ak.isProcessing?ak.timestamp:an.now()}},cg={decay:b8,inertia:b8,tween:ce,keyframes:ce,spring:b7},ch=a=>a/100;class ci extends bJ{constructor(a){super(a),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:a}=this.options;a&&a()};const{name:b,motionValue:c,element:d,keyframes:e}=this.options,f=(null==d?void 0:d.KeyframeResolver)||bv,g=(a,b)=>this.onKeyframesResolved(a,b);this.resolver=new f(e,g,b,c,d),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(a){let b,c,{type:d="keyframes",repeat:e=0,repeatDelay:f=0,repeatType:g,velocity:h=0}=this.options,i=M(d)?d:cg[d]||ce;i!==ce&&"number"!=typeof a[0]&&(b=bS(ch,bZ(a[0],a[1])),a=[0,100]);let j=i({...this.options,keyframes:a});"mirror"===g&&(c=i({...this.options,keyframes:[...a].reverse(),velocity:-h})),null===j.calculatedDuration&&(j.calculatedDuration=L(j));let{calculatedDuration:k}=j,l=k+f;return{generator:j,mirroredGenerator:c,mapPercentToKeyframes:b,calculatedDuration:k,resolvedDuration:l,totalDuration:l*(e+1)-f}}onPostResolved(){let{autoplay:a=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&a?this.state=this.pendingPlayState:this.pause()}tick(a,b=!1){let{resolved:c}=this;if(!c){let{keyframes:a}=this.options;return{done:!0,value:a[a.length-1]}}let{finalKeyframe:d,generator:e,mirroredGenerator:f,mapPercentToKeyframes:g,keyframes:h,calculatedDuration:i,totalDuration:j,resolvedDuration:k}=c;if(null===this.startTime)return e.next(0);let{delay:l,repeat:m,repeatType:n,repeatDelay:o,onUpdate:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-j/this.speed,this.startTime)),b?this.currentTime=a:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;let q=this.currentTime-l*(this.speed>=0?1:-1),r=this.speed>=0?q<0:q>j;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=j);let s=this.currentTime,t=e;if(m){let a=Math.min(this.currentTime,j)/k,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,m+1))%2&&("reverse"===n?(c=1-c,o&&(c-=o/k)):"mirror"===n&&(t=f)),s=aI(0,1,c)*k}let u=r?{done:!1,value:h[0]}:t.next(s);g&&(u.value=g(u.value));let{done:v}=u;r||null===i||(v=this.speed>=0?this.currentTime>=j:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return w&&void 0!==d&&(u.value=bI(h,this.options,d)),p&&p(u.value),w&&this.finish(),u}get duration(){let{resolved:a}=this;return a?a.calculatedDuration/1e3:0}get time(){return this.currentTime/1e3}set time(a){a=G(a),this.currentTime=a,null!==this.holdTime||0===this.speed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:a=cf,onPlay:b,startTime:c}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),b&&b();let d=this.driver.now();null!==this.holdTime?this.startTime=d-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=d):this.startTime=null!=c?c:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var a;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(a=this.currentTime)?a:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:a}=this.options;a&&a()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}}let cj=new Set(["opacity","clipPath","filter","transform"]),ck=E(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cl={anticipate:aE,backInOut:aD,circInOut:aH};class cm extends bJ{constructor(a){super(a);const{name:b,motionValue:c,element:d,keyframes:e}=this.options;this.resolver=new bF(e,(a,b)=>this.onKeyframesResolved(a,b),b,c,d),this.resolver.scheduleResolve()}initPlayback(a,b){var c;let{duration:d=300,times:e,ease:f,type:g,motionValue:h,name:i,startTime:j}=this.options;if(!h.owner||!h.owner.current)return!1;if("string"==typeof f&&Q()&&f in cl&&(f=cl[f]),M((c=this.options).type)||"spring"===c.type||!function a(b){return!!("function"==typeof b&&Q()||!b||"string"==typeof b&&(b in T||Q())||O(b)||Array.isArray(b)&&b.every(a))}(c.ease)){let{onComplete:b,onUpdate:c,motionValue:h,element:i,...j}=this.options,k=function(a,b){let c=new ci({...b,keyframes:a,repeat:0,delay:0,isGenerator:!0}),d={done:!1,value:a[0]},e=[],f=0;for(;!d.done&&f<2e4;)e.push((d=c.sample(f)).value),f+=10;return{times:void 0,keyframes:e,duration:f-10,ease:"linear"}}(a,j);1===(a=k.keyframes).length&&(a[1]=a[0]),d=k.duration,e=k.times,f=k.ease,g="keyframes"}let k=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeInOut",times:i}={}){let j={[b]:c};i&&(j.offset=i);let k=function a(b,c){if(b)return"function"==typeof b&&Q()?R(b,c):O(b)?S(b):Array.isArray(b)?b.map(b=>a(b,c)||T.easeOut):T[b]}(h,e);return Array.isArray(k)&&(j.easing=k),a.animate(j,{delay:d,duration:e,easing:Array.isArray(k)?"linear":k,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"})}(h.owner.current,i,a,{...this.options,duration:d,times:e,ease:f});return k.startTime=null!=j?j:this.calcStartTime(),this.pendingTimeline?(N(k,this.pendingTimeline),this.pendingTimeline=void 0):k.onfinish=()=>{let{onComplete:c}=this.options;h.set(bI(a,this.options,b)),c&&c(),this.cancel(),this.resolveFinishedPromise()},{animation:k,duration:d,times:e,type:g,ease:f,keyframes:a}}get duration(){let{resolved:a}=this;if(!a)return 0;let{duration:b}=a;return b/1e3}get time(){let{resolved:a}=this;if(!a)return 0;let{animation:b}=a;return(b.currentTime||0)/1e3}set time(a){let{resolved:b}=this;if(!b)return;let{animation:c}=b;c.currentTime=G(a)}get speed(){let{resolved:a}=this;if(!a)return 1;let{animation:b}=a;return b.playbackRate}set speed(a){let{resolved:b}=this;if(!b)return;let{animation:c}=b;c.playbackRate=a}get state(){let{resolved:a}=this;if(!a)return"idle";let{animation:b}=a;return b.playState}get startTime(){let{resolved:a}=this;if(!a)return null;let{animation:b}=a;return b.startTime}attachTimeline(a){if(this._resolved){let{resolved:b}=this;if(!b)return D;let{animation:c}=b;N(c,a)}else this.pendingTimeline=a;return D}play(){if(this.isStopped)return;let{resolved:a}=this;if(!a)return;let{animation:b}=a;"finished"===b.playState&&this.updateFinishedPromise(),b.play()}pause(){let{resolved:a}=this;if(!a)return;let{animation:b}=a;b.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:a}=this;if(!a)return;let{animation:b,keyframes:c,duration:d,type:e,ease:f,times:g}=a;if("idle"===b.playState||"finished"===b.playState)return;if(this.time){let{motionValue:a,onUpdate:b,onComplete:h,element:i,...j}=this.options,k=new ci({...j,keyframes:c,duration:d,type:e,ease:f,times:g,isGenerator:!0}),l=G(this.time);a.setWithVelocity(k.sample(l-10).value,k.sample(l).value,10)}let{onStop:h}=this.options;h&&h(),this.cancel()}complete(){let{resolved:a}=this;a&&a.animation.finish()}cancel(){let{resolved:a}=this;a&&a.animation.cancel()}static supports(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!b||!b.owner||!(b.owner.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return ck()&&c&&cj.has(c)&&!h&&!i&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}}let cn={type:"spring",stiffness:500,damping:25,restSpeed:10},co={type:"keyframes",duration:.8},cp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cq=(a,b,c,d={},e,f)=>g=>{let h=K(d,a)||{},i=h.delay||d.delay||0,{elapsed:j=0}=d;j-=G(i);let k={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...h,delay:-j,onUpdate:a=>{b.set(a),h.onUpdate&&h.onUpdate(a)},onComplete:()=>{g(),h.onComplete&&h.onComplete()},name:a,motionValue:b,element:f?void 0:e};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(h)&&(k={...k,...((a,{keyframes:b})=>b.length>2?co:ad.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:cn:cp)(a,k)}),k.duration&&(k.duration=G(k.duration)),k.repeatDelay&&(k.repeatDelay=G(k.repeatDelay)),void 0!==k.from&&(k.keyframes[0]=k.from);let l=!1;if(!1!==k.type&&(0!==k.duration||k.repeatDelay)||(k.duration=0,0===k.delay&&(l=!0)),l&&!f&&void 0!==b.get()){let a=bI(k.keyframes,h);if(void 0!==a)return ai.update(()=>{k.onUpdate(a),k.onComplete()}),new J([])}return!f&&cm.supports(k)?new cm(k):new ci(k)};function cr(a,b,{delay:c=0,transitionOverride:d,type:e}={}){var f;let{transition:g=a.getDefaultTransition(),transitionEnd:h,...i}=b;d&&(g=d);let j=[],k=e&&a.animationState&&a.animationState.getState()[e];for(let b in i){let d=a.getValue(b,null!=(f=a.latestValues[b])?f:null),e=i[b];if(void 0===e||k&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(k,b))continue;let h={delay:c,...K(g||{},b)},l=!1;if(window.MotionHandoffAnimation){let c=a.props[aw];if(c){let a=window.MotionHandoffAnimation(c,b,ai);null!==a&&(h.startTime=a,l=!0)}}au(a,b),d.start(cq(b,d,e,a.shouldReduceMotion&&ae.has(b)?{type:!1}:h,a,l));let m=d.animation;m&&j.push(m)}return h&&Promise.all(j).then(()=>{ai.update(()=>{h&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=A(a,b)||{};for(let b in e={...e,...c}){let c=af(e[b]);a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,as(c))}}(a,h)})}),j}function cs(a,b,c={}){var d;let e=A(a,b,"exit"===c.type?null==(d=a.presenceContext)?void 0:d.custom:void 0),{transition:f=a.getDefaultTransition()||{}}=e||{};c.transitionOverride&&(f=c.transitionOverride);let g=e?()=>Promise.all(cr(a,e,c)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:e=0,staggerChildren:g,staggerDirection:h}=f;return function(a,b,c=0,d=0,e=1,f){let g=[],h=(a.variantChildren.size-1)*d,i=1===e?(a=0)=>a*d:(a=0)=>h-a*d;return Array.from(a.variantChildren).sort(ct).forEach((a,d)=>{a.notify("AnimationStart",b),g.push(cs(a,b,{...f,delay:c+i(d)}).then(()=>a.notify("AnimationComplete",b)))}),Promise.all(g)}(a,b,e+d,g,h,c)}:()=>Promise.resolve(),{when:i}=f;if(!i)return Promise.all([g(),h(c.delay)]);{let[a,b]="beforeChildren"===i?[g,h]:[h,g];return a().then(()=>b())}}function ct(a,b){return a.sortNodePosition(b)}let cu=C.length,cv=[...B].reverse(),cw=B.length;function cx(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cy(){return{animate:cx(!0),whileInView:cx(),whileHover:cx(),whileTap:cx(),whileDrag:cx(),whileFocus:cx(),exit:cx()}}class cz{constructor(a){this.isMounted=!1,this.node=a}update(){}}let cA=0;function cB(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}function cC(a){return{point:{x:a.pageX,y:a.pageY}}}function cD(a,b,c,d){return cB(a,b,a=>Y(a)&&c(a,cC(a)),d)}let cE=(a,b)=>Math.abs(a-b);class cF{constructor(a,b,{transformPagePoint:c,contextWindow:d,dragSnapToOrigin:e=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var a,b;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let c=cI(this.lastMoveEventInfo,this.history),d=null!==this.startEvent,e=(a=c.offset,b={x:0,y:0},Math.sqrt(cE(a.x,b.x)**2+cE(a.y,b.y)**2)>=3);if(!d&&!e)return;let{point:f}=c,{timestamp:g}=ak;this.history.push({...f,timestamp:g});let{onStart:h,onMove:i}=this.handlers;d||(h&&h(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,c)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=cG(b,this.transformPagePoint),ai.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if(this.dragSnapToOrigin&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=cI("pointercancel"===a.type?this.lastMoveEventInfo:cG(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!Y(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.contextWindow=d||window;const f=cG(cC(a),this.transformPagePoint),{point:g}=f,{timestamp:h}=ak;this.history=[{...g,timestamp:h}];const{onSessionStart:i}=b;i&&i(a,cI(f,this.history)),this.removeListeners=bS(cD(this.contextWindow,"pointermove",this.handlePointerMove),cD(this.contextWindow,"pointerup",this.handlePointerUp),cD(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),aj(this.updatePoint)}}function cG(a,b){return b?{point:b(a.point)}:a}function cH(a,b){return{x:a.x-b.x,y:a.y-b.y}}function cI({point:a},b){return{point:a,delta:cH(a,cJ(b)),offset:cH(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=cJ(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>G(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function cJ(a){return a[a.length-1]}function cK(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function cL(a){return a.max-a.min}function cM(a,b,c,d=.5){a.origin=d,a.originPoint=bK(b.min,b.max,a.origin),a.scale=cL(c)/cL(b),a.translate=bK(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function cN(a,b,c,d){cM(a.x,b.x,c.x,d?d.originX:void 0),cM(a.y,b.y,c.y,d?d.originY:void 0)}function cO(a,b,c){a.min=c.min+b.min,a.max=a.min+cL(b)}function cP(a,b,c){a.min=b.min-c.min,a.max=a.min+cL(b)}function cQ(a,b,c){cP(a.x,b.x,c.x),cP(a.y,b.y,c.y)}function cR(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function cS(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function cT(a,b,c){return{min:cU(a,b),max:cU(a,c)}}function cU(a,b){return"number"==typeof a?a:a[b]||0}let cV=()=>({translate:0,scale:1,origin:0,originPoint:0}),cW=()=>({x:cV(),y:cV()}),cX=()=>({min:0,max:0}),cY=()=>({x:cX(),y:cX()});function cZ(a){return[a("x"),a("y")]}function c$({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}function c_(a){return void 0===a||1===a}function c0({scale:a,scaleX:b,scaleY:c}){return!c_(a)||!c_(b)||!c_(c)}function c1(a){return c0(a)||c2(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function c2(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function c3(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function c4(a,b=0,c=1,d,e){a.min=c3(a.min,b,c,d,e),a.max=c3(a.max,b,c,d,e)}function c5(a,{x:b,y:c}){c4(a.x,b.translate,b.scale,b.originPoint),c4(a.y,c.translate,c.scale,c.originPoint)}function c6(a,b){a.min=a.min+b,a.max=a.max+b}function c7(a,b,c,d,e=.5){let f=bK(a.min,a.max,e);c4(a,b,c,f,d)}function c8(a,b){c7(a.x,b.x,b.scaleX,b.scale,b.originX),c7(a.y,b.y,b.scaleY,b.scale,b.originY)}function c9(a,b){return c$(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}let da=({current:a})=>a?a.ownerDocument.defaultView:null,db=new WeakMap;class dc{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cY(),this.visualElement=a}start(a,{snapToCursor:b=!1}={}){let{presenceContext:c}=this.visualElement;if(c&&!1===c.isPresent)return;let d=a=>{let{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),b&&this.snapToCursor(cC(a).point)},e=(a,b)=>{let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(U[a])return null;else return U[a]=!0,()=>{U[a]=!1};return U.x||U.y?null:(U.x=U.y=!0,()=>{U.x=U.y=!1})}(c),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cZ(a=>{let b=this.getAxisMotionValue(a).get()||0;if(aW.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=cL(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&ai.postRender(()=>e(a,b)),au(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},f=(a,b)=>{let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&f(a,b)},g=(a,b)=>this.stop(a,b),h=()=>cZ(a=>{var b;return"paused"===this.getAnimationState(a)&&(null==(b=this.getAxisMotionValue(a).animation)?void 0:b.play())}),{dragSnapToOrigin:i}=this.getProps();this.panSession=new cF(a,{onSessionStart:d,onStart:e,onMove:f,onSessionEnd:g,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:da(this.visualElement)})}stop(a,b){let c=this.isDragging;if(this.cancel(),!c)return;let{velocity:d}=b;this.startAnimation(d);let{onDragEnd:e}=this.getProps();e&&ai.postRender(()=>e(a,b))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!dd(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?bK(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?bK(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){var a;let{dragConstraints:b,dragElastic:c}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(a=this.visualElement.projection)?void 0:a.layout,e=this.constraints;b&&cK(b)?this.constraints||(this.constraints=this.resolveRefConstraints()):b&&d?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:cR(a.x,c,e),y:cR(a.y,b,d)}}(d.layoutBox,b):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:cT(a,"left","right"),y:cT(a,"top","bottom")}}(c),e!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&cZ(a=>{var b,c;let e;!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=(b=d.layoutBox[a],c=this.constraints[a],e={},void 0!==c.min&&(e.min=c.min-b.min),void 0!==c.max&&(e.max=c.max-b.min),e))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!cK(b))return!1;let d=b.current;D(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=c9(a,c),{scroll:e}=b;return e&&(c6(d.x,e.offset.x),c6(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:cS(a.x,f.x),y:cS(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=c$(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(cZ(g=>{if(!dd(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return au(this.visualElement,a),c.start(cq(a,c,0,b,this.visualElement,!1))}stopAnimation(){cZ(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){cZ(a=>{var b;return null==(b=this.getAxisMotionValue(a).animation)?void 0:b.pause()})}getAnimationState(a){var b;return null==(b=this.getAxisMotionValue(a).animation)?void 0:b.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){cZ(b=>{let{drag:c}=this.getProps();if(!dd(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b];e.set(a[b]-bK(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!cK(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};cZ(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){var c,e;let f,g,h,i=b.get();d[a]=(c={min:i,max:i},e=this.constraints[a],f=.5,g=cL(c),(h=cL(e))>g?f=F(e.min,e.max-g,c.min):g>h&&(f=F(c.min,c.max-h,e.min)),aI(0,1,f))}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),cZ(b=>{if(!dd(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(bK(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;db.set(this.visualElement,this);let a=cD(this.visualElement.current,"pointerdown",a=>{let{drag:b,dragListener:c=!0}=this.getProps();b&&c&&this.start(a)}),b=()=>{let{dragConstraints:a}=this.getProps();cK(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",b);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ai.read(b);let e=cB(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(cZ(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{e(),a(),d(),f&&f()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function dd(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}let de=a=>(b,c)=>{a&&ai.postRender(()=>a(b,c))};var df=i;let dg=(0,i.createContext)(null);function dh(a=!0){let b=(0,i.useContext)(dg);if(null===b)return[!0,null];let{isPresent:c,onExitComplete:d,register:e}=b,f=(0,i.useId)();(0,i.useEffect)(()=>{a&&e(f)},[a]);let g=(0,i.useCallback)(()=>a&&d&&d(f),[f,d,a]);return!c&&d?[!1,g]:[!0]}let di=(0,i.createContext)({}),dj=(0,i.createContext)({}),dk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dl(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let dm={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!aX.test(a))return a;else a=parseFloat(a);let c=dl(a,b.target.x),d=dl(a,b.target.y);return`${c}% ${d}%`}},dn={},{schedule:dp,cancel:dq}=ah(queueMicrotask,!1);class dr extends df.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;Object.assign(dn,dt),e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),dk.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,f=c.projection;return f&&(f.isPresent=e,d||a.layoutDependency!==b||void 0===b?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||ai.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),dp.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function ds(a){let[b,c]=dh(),d=(0,df.useContext)(di);return(0,h.jsx)(dr,{...a,layoutGroup:d,switchLayoutGroup:(0,df.useContext)(dj),isPresent:b,safeToRemove:c})}let dt={borderRadius:{...dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dm,borderTopRightRadius:dm,borderBottomLeftRadius:dm,borderBottomRightRadius:dm,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=a9.parse(a);if(d.length>5)return a;let e=a9.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=bK(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}},du=(a,b)=>a.depth-b.depth;class dv{constructor(){this.children=[],this.isDirty=!1}add(a){ao(this.children,a),this.isDirty=!0}remove(a){ap(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(du),this.isDirty=!1,this.children.forEach(a)}}function dw(a){let b=at(a)?a.get():a;return b&&"object"==typeof b&&b.mix&&b.toValue?b.toValue():b}let dx=["TopLeft","TopRight","BottomLeft","BottomRight"],dy=dx.length,dz=a=>"string"==typeof a?parseFloat(a):a,dA=a=>"number"==typeof a||aX.test(a);function dB(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let dC=dE(0,.5,aG),dD=dE(.5,.95,D);function dE(a,b,c){return d=>d<a?0:d>b?1:c(F(a,b,d))}function dF(a,b){a.min=b.min,a.max=b.max}function dG(a,b){dF(a.x,b.x),dF(a.y,b.y)}function dH(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function dI(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function dJ(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(aW.test(b)&&(b=parseFloat(b),b=bK(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=bK(f.min,f.max,d);a===f&&(h-=b),a.min=dI(a.min,b,c,h,e),a.max=dI(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let dK=["x","scaleX","originX"],dL=["y","scaleY","originY"];function dM(a,b,c,d){dJ(a.x,b,dK,c?c.x:void 0,d?d.x:void 0),dJ(a.y,b,dL,c?c.y:void 0,d?d.y:void 0)}function dN(a){return 0===a.translate&&1===a.scale}function dO(a){return dN(a.x)&&dN(a.y)}function dP(a,b){return a.min===b.min&&a.max===b.max}function dQ(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function dR(a,b){return dQ(a.x,b.x)&&dQ(a.y,b.y)}function dS(a){return cL(a.x)/cL(a.y)}function dT(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}class dU{constructor(){this.members=[]}add(a){ao(this.members,a),a.scheduleRender()}remove(a){if(ap(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender(),a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);let{crossfade:d}=a.options;!1===d&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let dV=["","X","Y","Z"],dW={visibility:"hidden"},dX=0;function dY(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function dZ({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=null==b?void 0:b()){this.id=dX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d0),this.nodes.forEach(d7),this.nodes.forEach(d8),this.nodes.forEach(d1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new dv)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new aq),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=b instanceof SVGElement&&"svg"!==b.tagName,this.instance=b;let{layoutId:d,layout:e,visualElement:f}=this.options;if(f&&!f.current&&f.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(e||d)&&(this.isLayoutDirty=!0),a){let c,d=()=>this.root.updateBlockedByResize=!1;a(b,()=>{let a,b;this.root.updateBlockedByResize=!0,c&&c(),a=an.now(),b=({timestamp:c})=>{let e=c-a;e>=250&&(aj(b),d(e-250))},ai.read(b,!0),c=()=>aj(b),dk.hasAnimatedSinceResize&&(dk.hasAnimatedSinceResize=!1,this.nodes.forEach(d6))})}d&&this.root.registerSharedNode(d,this),!1!==this.options.animate&&f&&(d||e)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeTargetChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let e=this.options.transition||f.getDefaultTransition()||ee,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=f.getProps(),i=!this.targetLayout||!dR(this.targetLayout,d)||c,j=!b&&c;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(a,j);let b={...K(e,"layout"),onPlay:g,onComplete:h};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else b||d6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,aj(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d9),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[aw];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",ai,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d3);return}this.isUpdating||this.nodes.forEach(d4),this.isUpdating=!1,this.nodes.forEach(d5),this.nodes.forEach(d$),this.nodes.forEach(d_),this.clearAllSnapshots();let a=an.now();ak.delta=aI(0,1e3/60,a-ak.timestamp),ak.timestamp=a,ak.isProcessing=!0,al.update.process(ak),al.preRender.process(ak),al.render.process(ak),ak.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d2),this.sharedNodes.forEach(ea)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ai.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ai.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cY(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!dO(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(b||c1(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),eh((b=d).x),eh(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var a;let{visualElement:b}=this.options;if(!b)return cY();let c=b.measureViewportBox();if(!((null==(a=this.scroll)?void 0:a.wasRoot)||this.path.some(ej))){let{scroll:a}=this.root;a&&(c6(c.x,a.offset.x),c6(c.y,a.offset.y))}return c}removeElementScroll(a){var b;let c=cY();if(dG(c,a),null==(b=this.scroll)?void 0:b.wasRoot)return c;for(let b=0;b<this.path.length;b++){let d=this.path[b],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&dG(c,a),c6(c.x,e.offset.x),c6(c.y,e.offset.y))}return c}applyTransform(a,b=!1){let c=cY();dG(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&c8(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c1(d.latestValues)&&c8(c,d.latestValues)}return c1(this.latestValues)&&c8(c,this.latestValues),c}removeTransform(a){let b=cY();dG(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!c1(c.latestValues))continue;c0(c.latestValues)&&c.updateSnapshot();let d=cY();dG(d,c.measurePageBox()),dM(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return c1(this.latestValues)&&dM(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ak.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var b,c,d,e;let f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);let g=!!this.resumingFrom||this!==f;if(!(a||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(b=this.parent)?void 0:b.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:h,layoutId:i}=this.options;if(this.layout&&(h||i)){if(this.resolvedRelativeTargetAt=ak.timestamp,!this.targetDelta&&!this.relativeTarget){let a=this.getClosestProjectingParent();a&&a.layout&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cY(),this.relativeTargetOrigin=cY(),cQ(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),dG(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if((this.relativeTarget||this.targetDelta)&&((this.target||(this.target=cY(),this.targetWithTransforms=cY()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),c=this.target,d=this.relativeTarget,e=this.relativeParent.target,cO(c.x,d.x,e.x),cO(c.y,d.y,e.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dG(this.target,this.layout.layoutBox),c5(this.target,this.targetDelta)):dG(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;let a=this.getClosestProjectingParent();a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cY(),this.relativeTargetOrigin=cY(),cQ(this.relativeTargetOrigin,this.target,a.target),dG(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||c0(this.parent.latestValues)||c2(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;let b=this.getLead(),c=!!this.resumingFrom||this!==b,d=!0;if((this.isProjectionDirty||(null==(a=this.parent)?void 0:a.isProjectionDirty))&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ak.timestamp&&(d=!1),d)return;let{layout:e,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(e||f))return;dG(this.layoutCorrected,this.layout.layoutBox);let g=this.treeScale.x,h=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&c8(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,c5(a,f)),d&&c1(e.latestValues)&&c8(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,c),b.layout&&!b.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(b.target=b.layout.layoutBox,b.targetWithTransforms=cY());let{target:i}=b;if(!i){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(dH(this.prevProjectionDelta.x,this.projectionDelta.x),dH(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),cN(this.projectionDelta,this.layoutCorrected,i,this.latestValues),this.treeScale.x===g&&this.treeScale.y===h&&dT(this.projectionDelta.x,this.prevProjectionDelta.x)&&dT(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",i))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var b;if(null==(b=this.options.visualElement)||b.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cW(),this.projectionDelta=cW(),this.projectionDeltaWithTransform=cW()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=cW();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=cY(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(ed));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(eb(g.x,a.x,d),eb(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;cQ(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,ec(n.x,o.x,p.x,q),ec(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,dP(j.x,m.x)&&dP(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=cY()),dG(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=bK(0,void 0!==c.opacity?c.opacity:1,dC(d)),a.opacityExit=bK(void 0!==b.opacity?b.opacity:1,0,dD(d))):f&&(a.opacity=bK(void 0!==b.opacity?b.opacity:1,void 0!==c.opacity?c.opacity:1,d));for(let e=0;e<dy;e++){let f=`border${dx[e]}Radius`,g=dB(b,f),h=dB(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||dA(g)===dA(h)?(a[f]=Math.max(bK(dz(g),dz(h),d),0),(aW.test(h)||aW.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=bK(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(aj(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ai.update(()=>{var b;let c;dk.hasAnimatedSinceResize=!0,this.currentAnimation=(b={...a,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}},(c=at(0)?0:as(0)).start(cq("",c,1e3,b)),c.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&ei(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||cY();let b=cL(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=cL(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}dG(b,c),c8(b,e),cN(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new dU),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){var a;let{layoutId:b}=this.options;return b&&(null==(a=this.getStack())?void 0:a.lead)||this}getPrevLead(){var a;let{layoutId:b}=this.options;return b?null==(a=this.getStack())?void 0:a.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&dY("z",a,d,this.animationValues);for(let b=0;b<dV.length;b++)dY(`rotate${dV[b]}`,a,d,this.animationValues),dY(`skew${dV[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}getProjectionStyles(a){var b,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dW;let d={visibility:""},e=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=dw(null==a?void 0:a.pointerEvents)||"",d.transform=e?e(this.latestValues,""):"none",d;let f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){let b={};return this.options.layoutId&&(b.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,b.pointerEvents=dw(null==a?void 0:a.pointerEvents)||""),this.hasProjected&&!c1(this.latestValues)&&(b.transform=e?e({},""):"none",this.hasProjected=!1),b}let g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=(null==c?void 0:c.z)||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,g),e&&(d.transform=e(g,d.transform));let{x:h,y:i}=this.projectionDelta;for(let a in d.transformOrigin=`${100*h.origin}% ${100*i.origin}% 0`,f.animationValues?d.opacity=f===this?null!=(c=null!=(b=g.opacity)?b:this.latestValues.opacity)?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=f===this?void 0!==g.opacity?g.opacity:"":void 0!==g.opacityExit?g.opacityExit:0,dn){if(void 0===g[a])continue;let{correct:b,applyTo:c}=dn[a],e="none"===d.transform?g[a]:b(g[a],f);if(c){let a=c.length;for(let b=0;b<a;b++)d[c[b]]=e}else d[a]=e}return this.options.layoutId&&(d.pointerEvents=f===this?dw(null==a?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var b;return null==(b=a.currentAnimation)?void 0:b.stop()}),this.root.nodes.forEach(d3),this.root.sharedNodes.clear()}}}function d$(a){a.updateLayout()}function d_(a){var b;let c=(null==(b=a.resumeFrom)?void 0:b.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&c&&a.hasListeners("didUpdate")){let{layoutBox:b,measuredBox:d}=a.layout,{animationType:e}=a.options,f=c.source!==a.layout.source;"size"===e?cZ(a=>{let d=f?c.measuredBox[a]:c.layoutBox[a],e=cL(d);d.min=b[a].min,d.max=d.min+e}):ei(e,c.layoutBox,b)&&cZ(d=>{let e=f?c.measuredBox[d]:c.layoutBox[d],g=cL(b[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=cW();cN(g,b,c.layoutBox);let h=cW();f?cN(h,a.applyTransform(d,!0),c.measuredBox):cN(h,b,c.layoutBox);let i=!dO(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=cY();cQ(g,c.layoutBox,e.layoutBox);let h=cY();cQ(h,b,f.layoutBox),dR(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:b,snapshot:c,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeTargetChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function d0(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function d1(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function d2(a){a.clearSnapshot()}function d3(a){a.clearMeasurements()}function d4(a){a.isLayoutDirty=!1}function d5(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function d6(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function d7(a){a.resolveTargetDelta()}function d8(a){a.calcProjection()}function d9(a){a.resetSkewAndRotation()}function ea(a){a.removeLeadSnapshot()}function eb(a,b,c){a.translate=bK(b.translate,0,c),a.scale=bK(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function ec(a,b,c,d){a.min=bK(b.min,c.min,d),a.max=bK(b.max,c.max,d)}function ed(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let ee={duration:.45,ease:[.4,0,.1,1]},ef=a=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),eg=ef("applewebkit/")&&!ef("chrome/")?Math.round:D;function eh(a){a.min=eg(a.min),a.max=eg(a.max)}function ei(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(dS(b)-dS(c)))}function ej(a){var b;return a!==a.root&&(null==(b=a.scroll)?void 0:b.wasRoot)}let ek=dZ({attachResizeListener:(a,b)=>cB(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),el={current:void 0},em=dZ({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!el.current){let a=new ek({});a.mount(window),a.setOptions({layoutScroll:!0}),el.current=a}return el.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function en(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&ai.postRender(()=>e(b,cC(b)))}function eo(a,b,c){let{props:d}=a;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&ai.postRender(()=>e(b,cC(b)))}let ep=new WeakMap,eq=new WeakMap,er=a=>{let b=ep.get(a.target);b&&b(a)},es=a=>{a.forEach(er)},et={some:0,all:1},eu=((0,i.createContext)({strict:!1}),(0,i.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"})),ev=(0,i.createContext)({});function ew(a){return u(a.animate)||C.some(b=>x(a[b]))}function ex(a){return!!(ew(a)||a.variants)}function ey(a){return Array.isArray(a)?a.join(" "):a}let ez={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eA={};for(let a in ez)eA[a]={isEnabled:b=>ez[a].some(a=>!!b[a])};let eB=Symbol.for("motionComponentSymbol"),eC=i.useEffect,eD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eE(a){if("string"!=typeof a||a.includes("-"));else if(eD.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}function eF(a){let b=(0,i.useRef)(null);return null===b.current&&(b.current=a()),b.current}let eG=a=>(b,c)=>{let d=(0,i.useContext)(ev),e=(0,i.useContext)(dg),f=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b,onUpdate:c},d,e,f){let g={latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=dw(f[a]);let{initial:g,animate:h}=a,i=ew(a),j=ex(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!u(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=z(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(d,e,f,a),renderState:b()};return c&&(g.onMount=a=>c({props:d,current:a,...g}),g.onUpdate=a=>c(a)),g})(a,b,d,e);return c?f():eF(f)},eH=(a,b)=>b&&"number"==typeof a?b.transform(a):a,eI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eJ=ac.length;function eK(a,b,c){let{style:d,vars:e,transformOrigin:f}=a,g=!1,h=!1;for(let a in b){let c=b[a];if(ad.has(a)){g=!0;continue}if(bx(a)){e[a]=c;continue}{let b=eH(c,bf[a]);a.startsWith("origin")?(h=!0,f[a]=b):d[a]=b}}if(!b.transform&&(g||c?d.transform=function(a,b,c){let d="",e=!0;for(let f=0;f<eJ;f++){let g=ac[f],h=a[g];if(void 0===h)continue;let i=!0;if(!(i="number"==typeof h?h===+!!g.startsWith("scale"):0===parseFloat(h))||c){let a=eH(h,bf[g]);if(!i){e=!1;let b=eI[g]||g;d+=`${b}(${a}) `}c&&(b[g]=a)}}return d=d.trim(),c?d=c(b,e?"":d):e&&(d="none"),d}(b,a.transform,c):d.transform&&(d.transform="none")),h){let{originX:a="50%",originY:b="50%",originZ:c=0}=f;d.transformOrigin=`${a} ${b} ${c}`}}let eL={offset:"stroke-dashoffset",array:"stroke-dasharray"},eM={offset:"strokeDashoffset",array:"strokeDasharray"};function eN(a,b,c){return"string"==typeof a?a:aX.transform(b+c*a)}function eO(a,{attrX:b,attrY:c,attrScale:d,originX:e,originY:f,pathLength:g,pathSpacing:h=1,pathOffset:i=0,...j},k,l){let m,n;if(eK(a,j,l),k){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:o,style:p,dimensions:q}=a;o.transform&&(q&&(p.transform=o.transform),delete o.transform),q&&(void 0!==e||void 0!==f||p.transform)&&(m=eN(void 0!==e?e:.5,q.x,q.width),n=eN(void 0!==f?f:.5,q.y,q.height),p.transformOrigin=`${m} ${n}`),void 0!==b&&(o.x=b),void 0!==c&&(o.y=c),void 0!==d&&(o.scale=d),void 0!==g&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?eL:eM;a[f.offset]=aX.transform(-d);let g=aX.transform(b),h=aX.transform(c);a[f.array]=`${g} ${h}`}(o,g,h,i,!1)}let eP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eQ=()=>({...eP(),attrs:{}}),eR=a=>"string"==typeof a&&"svg"===a.toLowerCase();function eS(a,{style:b,vars:c},d,e){for(let f in Object.assign(a.style,b,e&&e.getProjectionStyles(d)),c)a.style.setProperty(f,c[f])}let eT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eU(a,b,c,d){for(let c in eS(a,b,void 0,d),b.attrs)a.setAttribute(eT.has(c)?c:av(c),b.attrs[c])}function eV(a,{layout:b,layoutId:c}){return ad.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!dn[a]||"opacity"===a)}function eW(a,b,c){var d;let{style:e}=a,f={};for(let g in e)(at(e[g])||b.style&&at(b.style[g])||eV(g,a)||(null==(d=null==c?void 0:c.getValue(g))?void 0:d.liveStyle)!==void 0)&&(f[g]=e[g]);return f}function eX(a,b,c){let d=eW(a,b,c);for(let c in a)(at(a[c])||at(b[c]))&&(d[-1!==ac.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return d}let eY=["x","y","width","height","cx","cy","r"],eZ={useVisualState:eG({scrapeMotionValuesFromProps:eX,createRenderState:eQ,onUpdate:({props:a,prevProps:b,current:c,renderState:d,latestValues:e})=>{if(!c)return;let f=!!a.drag;if(!f){for(let a in e)if(ad.has(a)){f=!0;break}}if(!f)return;let g=!b;if(b)for(let c=0;c<eY.length;c++){let d=eY[c];a[d]!==b[d]&&(g=!0)}g&&ai.read(()=>{try{d.dimensions="function"==typeof c.getBBox?c.getBBox():c.getBoundingClientRect()}catch(a){d.dimensions={x:0,y:0,width:0,height:0}}ai.render(()=>{eO(d,e,eR(c.tagName),a.transformTemplate),eU(c,d)})})}})},e$={useVisualState:eG({scrapeMotionValuesFromProps:eW,createRenderState:eP})};function e_(a,b,c){for(let d in b)at(b[d])||eV(d,c)||(a[d]=b[d])}let e0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function e1(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||e0.has(a)}let e2=a=>!e1(a);try{(e=(()=>{let a=Error("Cannot find module '@emotion/is-prop-valid'");throw a.code="MODULE_NOT_FOUND",a})().default)&&(e2=a=>a.startsWith("on")?!e1(a):e(a))}catch(a){}let e3=null,e4={current:!1},e5=[...bD,a0,a9],e6=new WeakMap,e7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e8{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,blockInitialAnimation:e,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=an.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,ai.render(this.render,!1,!0))};const{latestValues:h,renderState:i,onUpdate:j}=f;this.onUpdate=j,this.latestValues=h,this.baseTarget={...h},this.initialValues=b.initial?{...h}:{},this.renderState=i,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.options=g,this.blockInitialAnimation=!!e,this.isControllingVariants=ew(b),this.isVariantNode=ex(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:k,...l}=this.scrapeMotionValuesFromProps(b,{},this);for(const a in l){const b=l[a];void 0!==h[a]&&at(b)&&b.set(h[a],!1)}}mount(a){this.current=a,e6.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),e4.current||(e4.current=!0),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||e3),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in e6.delete(this.current),this.projection&&this.projection.unmount(),aj(this.notifyUpdate),aj(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=ad.has(a),e=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&ai.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0)}),f=b.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,a,b)),this.valueSubscriptions.set(a,()=>{e(),f(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in eA){let b=eA[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cY()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<e7.length;b++){let c=e7[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(at(e))a.addValue(d,e);else if(at(f))a.addValue(d,as(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,as(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=as(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){var c;let d=void 0===this.latestValues[a]&&this.current?null!=(c=this.getBaseTargetFromProps(this.props,a))?c:this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=d){let c,e;if("string"==typeof d&&(c=d,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(c)||(e=d,/^0[^.\s]+$/u.test(e))))d=parseFloat(d);else{let c;c=d,!e5.find(bC(c))&&a9.test(b)&&(d=bi(a,b))}this.setBaseTarget(a,at(d)?d.get():d)}return at(d)?d.get():d}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){var b;let c,{initial:d}=this.props;if("string"==typeof d||"object"==typeof d){let e=z(this.props,d,null==(b=this.presenceContext)?void 0:b.custom);e&&(c=e[a])}if(d&&void 0!==c)return c;let e=this.getBaseTargetFromProps(this.props,a);return void 0===e||at(e)?void 0!==this.initialValues[a]&&void 0===c?void 0:this.baseTarget[a]:e}on(a,b){return this.events[a]||(this.events[a]=new aq),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}}class e9 extends e8{constructor(){super(...arguments),this.KeyframeResolver=bF}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){return a.style?a.style[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;at(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class fa extends e9{constructor(){super(...arguments),this.type="html",this.renderInstance=eS}readValueFromInstance(a,b){if(ad.has(b)){let a=bh(b);return a&&a.default||0}{let c=window.getComputedStyle(a),d=(bx(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return c9(a,b)}build(a,b,c){eK(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return eW(a,b,c)}}class fb extends e9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cY}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(ad.has(b)){let a=bh(b);return a&&a.default||0}return b=eT.has(b)?b:av(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return eX(a,b,c)}build(a,b,c){eO(a,b,this.isSVGTag,c.transformTemplate)}renderInstance(a,b,c,d){eU(a,b,c,d)}mount(a){this.isSVGTag=eR(a.tagName),super.mount(a)}}let fc=function(a){if("u"<typeof Proxy)return a;let b=new Map;return new Proxy((...b)=>a(...b),{get:(c,d)=>"create"===d?a:(b.has(d)||b.set(d,a(d)),b.get(d))})}((f={animation:{Feature:class extends cz{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>cs(a,b,c)));else if("string"==typeof b)d=cs(a,b,c);else{let e="function"==typeof b?A(a,b,c.custom):b;d=Promise.all(cr(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=cy(),d=!0,e=b=>(c,d)=>{var e;let f=A(a,d,"exit"===b?null==(e=a.presenceContext)?void 0:e.custom:void 0);if(f){let{transition:a,transitionEnd:b,...d}=f;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<cu;a++){let d=C[a],e=b.props[d];(x(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<cw;b++){var m,n;let o=cv[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=x(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||u(q)||"boolean"==typeof q)continue;let y=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!w(n,m)),z=y||o===f&&p.isActive&&!t&&r||b>l&&r,A=!1,B=Array.isArray(q)?q:[q],C=B.reduce(e(o),{});!1===s&&(C={});let{prevResolvedValues:D={}}=p,E={...D,...C},F=b=>{z=!0,j.has(b)&&(A=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in E){let b=C[a],c=D[a];if(!k.hasOwnProperty(a))(v(b)&&v(c)?w(b,c):b===c)?void 0!==b&&j.has(a)?F(a):p.protectedKeys[a]=!0:null!=b?F(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=C,p.isActive&&(k={...k,...C}),d&&a.blockInitialAnimation&&(z=!1);let G=!(t&&y)||A;z&&G&&i.push(...B.map(a=>({animation:a,options:{type:o}})))}if(j.size){let b={};j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=null!=d?d:null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){var e;if(c[b].isActive===d)return Promise.resolve();null==(e=a.variantChildren)||e.forEach(a=>{var c;return null==(c=a.animationState)?void 0:c.setActive(b,d)}),c[b].isActive=d;let g=f(b);for(let a in c)c[a].protectedKeys={};return g},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=cy(),d=!0}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();u(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),null==(a=this.unmountControls)||a.call(this)}}},exit:{Feature:class extends cz{constructor(){super(...arguments),this.id=cA++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>b(this.id))}mount(){let{register:a}=this.node.presenceContext||{};a&&(this.unmount=a(this.id))}unmount(){}}},inView:{Feature:class extends cz{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var a;let b;this.unmount();let{viewport:c={}}=this.node.getProps(),{root:d,margin:e,amount:f="some",once:g}=c,h={root:d?d.current:void 0,rootMargin:e,threshold:"number"==typeof f?f:et[f]},i=a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,g&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),e=b?c:d;e&&e(a)};return a=this.node.current,b=function({root:a,...b}){let c=a||document;eq.has(c)||eq.set(c,{});let d=eq.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(es,{root:a,...b})),d[e]}(h),ep.set(a,i),b.observe(a),()=>{ep.delete(a),b.unobserve(a)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends cz{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=V(a,c),g=a=>{let d=a.currentTarget;if(!ab(a)||$.has(d))return;$.add(d);let f=b(a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),ab(a)&&$.has(d)&&($.delete(d),"function"==typeof f&&f(a,{success:b}))},h=a=>{g(a,c.useGlobalTarget||X(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{Z.has(a.tagName)||-1!==a.tabIndex||null!==a.getAttribute("tabindex")||(a.tabIndex=0),(c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=_(()=>{if($.has(c))return;aa(c,"down");let a=_(()=>{aa(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>aa(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e),e)}),f}(a,a=>(eo(this.node,a,"Start"),(a,{success:b})=>eo(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends cz{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bS(cB(this.node.current,"focus",()=>this.onFocus()),cB(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends cz{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=V(a,c),g=W(a=>{let{target:c}=a,d=b(a);if("function"!=typeof d||!c)return;let f=W(a=>{d(a),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,e)});return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,a=>(en(this.node,a,"Start"),a=>en(this.node,a,"End"))))}unmount(){}}},pan:{Feature:class extends cz{constructor(){super(...arguments),this.removePointerDownListener=D}onPointerDown(a){this.session=new cF(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:da(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:de(a),onStart:de(b),onMove:c,onEnd:(a,b)=>{delete this.session,d&&ai.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=cD(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends cz{constructor(a){super(a),this.removeGroupControls=D,this.removeListeners=D,this.controls=new dc(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||D}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:em,MeasureLayout:ds},layout:{ProjectionNode:em,MeasureLayout:ds}},g=(a,b)=>eE(a)?new fb(b):new fa(b,{allowProjection:a!==i.Fragment}),function(a,{forwardMotionProps:b}={forwardMotionProps:!1}){return function({preloadedFeatures:a,createVisualElement:b,useRender:c,useVisualState:d,Component:e}){var f,g;function j(a,b){var f;let g,j={...(0,i.useContext)(eu),...a,layoutId:function({layoutId:a}){let b=(0,i.useContext)(di).id;return b&&void 0!==a?b+"-"+a:a}(a)},{isStatic:k}=j,l=function(a){let{initial:b,animate:c}=function(a,b){if(ew(a)){let{initial:b,animate:c}=a;return{initial:!1===b||x(b)?b:void 0,animate:x(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,i.useContext)(ev));return(0,i.useMemo)(()=>({initial:b,animate:c}),[ey(b),ey(c)])}(a),m=d(a,k);return(0,h.jsxs)(ev.Provider,{value:l,children:[g&&l.visualElement?(0,h.jsx)(g,{visualElement:l.visualElement,...j}):null,c(e,a,(f=l.visualElement,(0,i.useCallback)(a=>{a&&m.onMount&&m.onMount(a),f&&(a?f.mount(a):f.unmount()),b&&("function"==typeof b?b(a):cK(b)&&(b.current=a))},[f])),m,k,l.visualElement)]})}a&&function(a){for(let b in a)eA[b]={...eA[b],...a[b]}}(a),j.displayName=`motion.${"string"==typeof e?e:`create(${null!=(g=null!=(f=e.displayName)?f:e.name)?g:""})`}`;let k=(0,i.forwardRef)(j);return k[eB]=e,k}({...eE(a)?eZ:e$,preloadedFeatures:f,useRender:function(a=!1){return(b,c,d,{latestValues:e},f)=>{let g=(eE(b)?function(a,b,c,d){let e=(0,i.useMemo)(()=>{let c=eQ();return eO(c,b,eR(d),a.transformTemplate),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};e_(b,a.style,a),e.style={...b,...e.style}}return e}:function(a,b){let c,d,e={},f=(c=a.style||{},e_(d={},c,a),Object.assign(d,function({transformTemplate:a},b){return(0,i.useMemo)(()=>{let c=eP();return eK(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),d);return a.drag&&!1!==a.dragListener&&(e.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=f,e})(c,e,f,b),h=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(e2(e)||!0===c&&e1(e)||!b&&!e1(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(c,"string"==typeof b,a),j=b!==i.Fragment?{...h,...g,ref:d}:{},{children:k}=c,l=(0,i.useMemo)(()=>at(k)?k.get():k,[k]);return(0,i.createElement)(b,{...j,children:l})}}(b),createVisualElement:g,Component:a})}));var fd=i;class fe extends fd.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=this.props.sizeRef.current;a.height=b.offsetHeight||0,a.width=b.offsetWidth||0,a.top=b.offsetTop,a.left=b.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ff({children:a,isPresent:b}){let c=(0,fd.useId)(),d=(0,fd.useRef)(null),e=(0,fd.useRef)({width:0,height:0,top:0,left:0}),{nonce:f}=(0,fd.useContext)(eu);return(0,fd.useInsertionEffect)(()=>{let{width:a,height:g,top:h,left:i}=e.current;if(b||!d.current||!a||!g)return;d.current.dataset.motionPopId=c;let j=document.createElement("style");return f&&(j.nonce=f),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${g}px !important;
            top: ${h}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(j)}},[b]),(0,h.jsx)(fe,{isPresent:b,childRef:d,sizeRef:e,children:fd.cloneElement(a,{ref:d})})}let fg=({children:a,initial:b,isPresent:c,onExitComplete:d,custom:e,presenceAffectsLayout:f,mode:g})=>{let j=eF(fh),k=(0,i.useId)(),l=(0,i.useCallback)(a=>{for(let b of(j.set(a,!0),j.values()))if(!b)return;d&&d()},[j,d]),m=(0,i.useMemo)(()=>({id:k,initial:b,isPresent:c,custom:e,onExitComplete:l,register:a=>(j.set(a,!1),()=>j.delete(a))}),f?[Math.random(),l]:[c,l]);return(0,i.useMemo)(()=>{j.forEach((a,b)=>j.set(b,!1))},[c]),i.useEffect(()=>{c||j.size||!d||d()},[c]),"popLayout"===g&&(a=(0,h.jsx)(ff,{isPresent:c,children:a})),(0,h.jsx)(dg.Provider,{value:m,children:a})};function fh(){return new Map}let fi=a=>a.key||"";function fj(a){let b=[];return i.Children.forEach(a,a=>{(0,i.isValidElement)(a)&&b.push(a)}),b}let fk=({children:a,custom:b,initial:c=!0,onExitComplete:d,presenceAffectsLayout:e=!0,mode:f="sync",propagate:g=!1})=>{let[j,k]=dh(g),l=(0,i.useMemo)(()=>fj(a),[a]),m=g&&!j?[]:l.map(fi),n=(0,i.useRef)(!0),o=(0,i.useRef)(l),p=eF(()=>new Map),[q,r]=(0,i.useState)(l),[s,t]=(0,i.useState)(l);eC(()=>{n.current=!1,o.current=l;for(let a=0;a<s.length;a++){let b=fi(s[a]);m.includes(b)?p.delete(b):!0!==p.get(b)&&p.set(b,!1)}},[s,m.length,m.join("-")]);let u=[];if(l!==q){let a=[...l];for(let b=0;b<s.length;b++){let c=s[b],d=fi(c);m.includes(d)||(a.splice(b,0,c),u.push(c))}"wait"===f&&u.length&&(a=u),t(fj(a)),r(l);return}let{forceRender:v}=(0,i.useContext)(di);return(0,h.jsx)(h.Fragment,{children:s.map(a=>{let i=fi(a),q=(!g||!!j)&&(l===s||m.includes(i));return(0,h.jsx)(fg,{isPresent:q,initial:(!n.current||!!c)&&void 0,custom:q?void 0:b,presenceAffectsLayout:e,mode:f,onExitComplete:q?void 0:()=>{if(!p.has(i))return;p.set(i,!0);let a=!0;p.forEach(b=>{b||(a=!1)}),a&&(null==v||v(),t(o.current),g&&(null==k||k()),d&&d())},children:a},i)})})};var fl=a.i(13749),fm=a.i(50522),fn=a.i(33508);let fo={src:a.i(41130).default,width:150,height:201,blurWidth:6,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAYAAADaxo44AAAA00lEQVR42gHIADf/AAMCAQMEBAIFPjklRZeKVaSLfkiYCQgFCgBXSRpoWUcga7WRTNbSuVf/uqVT3yYjGCoAtJUq4bSLKt23ah/5vI4p/7GXQeInIxosAH1lGp7LpjP1xJ4w/baNI/VqWCiFBwYFCAAjHhEpuaBG3tGzQf/NsUb3kIJNoA8OChAAFhMMGpR2JM2zjB//tYwj/76jSup0ZzqHAAMCAQM7Jw1XhE8Vz4tTEdJINBBmGhUIIQANCgcQWD8samZBKX1/TyyfNiIUQgAAAABFx0cdVItGRgAAAABJRU5ErkJggg=="};function fp({targetSelector:a,contentMatch:b,instruction:c,position:d="auto",isVisible:e,onDismiss:f,onBack:g,onClose:k,stepNumber:l,totalSteps:m,playbackMode:n="guide",onModeToggle:o,hasVideo:p}){let[q,s]=(0,i.useState)(null),t=(0,i.useRef)(),u=(0,i.useCallback)(()=>{let c=null;try{c=r(a,b)}catch(a){s(null);return}if(!c)return void s(null);let e=c.getBoundingClientRect(),f=d;if("auto"===d){let a=e.top,b=window.innerHeight-e.bottom;e.left;let c=window.innerWidth-e.right;f=b>=116?"bottom":a>=116?"top":c>=276?"right":"left"}let g=0,h=0,i="top";switch(f){case"bottom":g=e.bottom+16,h=e.left+e.width/2-130,i="top";break;case"top":g=e.top-100-16,h=e.left+e.width/2-130,i="bottom";break;case"right":g=e.top+e.height/2-50,h=e.right+16+40,i="left";break;case"left":g=e.top+e.height/2-50,h=e.left-260-16,i="right"}h=Math.max(10,Math.min(h,window.innerWidth-260-10)),s({top:g=Math.max(10,Math.min(g,window.innerHeight-100-10)),left:h,arrowPosition:i})},[a,b,d]);return((0,i.useEffect)(()=>{if(!e||!a)return void s(null);let b=()=>{u(),t.current=requestAnimationFrame(b)};return b(),()=>{t.current&&cancelAnimationFrame(t.current)}},[a,e,u]),e&&q)?(0,j.createPortal)((0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("style",{children:`
          @keyframes mascot-wiggle {
            0% { transform: translateY(0) rotate(0deg); }
            2% { transform: translateY(-4px) rotate(0deg); }
            4% { transform: translateY(0) rotate(0deg); }
            4%, 35% { transform: translateY(0) rotate(0deg); }
            36% { transform: rotate(5deg); }
            37% { transform: rotate(-5deg); }
            38% { transform: rotate(0deg); }
            38%, 75% { transform: translateY(0) rotate(0deg); }
            77% { transform: translateY(-2px) rotate(2deg); }
            79% { transform: translateY(-3px) rotate(-1deg); }
            81% { transform: translateY(-1px) rotate(1deg); }
            83% { transform: translateY(0) rotate(0deg); }
            83%, 100% { transform: translateY(0) rotate(0deg); }
          }
          .mascot-wiggle {
            animation: mascot-wiggle 12s ease-in-out infinite;
          }
        `}),(0,h.jsx)(fk,{children:e&&(0,h.jsxs)(fc.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"fixed z-[9999] w-[260px] bg-gray-800 text-white rounded-lg shadow-2xl border border-yellow-500/30",style:{top:q.top,left:q.left},"data-testid":"guidance-tooltip","data-recorder-ui":"true",children:[(0,h.jsx)("div",{style:{top:{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid #1f2937"},bottom:{position:"absolute",bottom:"-8px",left:"50%",transform:"translateX(-50%)",borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"8px solid #1f2937"},left:{position:"absolute",left:"-8px",top:"50%",transform:"translateY(-50%)",borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderRight:"8px solid #1f2937"},right:{position:"absolute",right:"-8px",top:"50%",transform:"translateY(-50%)",borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:"8px solid #1f2937"}}[q.arrowPosition]}),(0,h.jsx)("img",{src:fo.src,alt:"Duckling guide",className:"absolute -left-12 -top-2 w-10 h-10 mascot-wiggle object-contain drop-shadow-[0_2px_4px_rgba(0,0,0,0.15)]"}),(0,h.jsx)("div",{className:"p-3",children:(0,h.jsx)("div",{className:"flex items-start gap-2",children:(0,h.jsxs)("p",{className:"text-sm text-gray-200 leading-snug flex-1",children:["show"===n?(0,h.jsxs)("span",{className:"text-yellow-400 italic",children:["Watching: ",c]}):c,(0,h.jsxs)("span",{className:"inline-flex items-center align-middle ml-1",children:[l&&l>1&&g&&"guide"===n&&(0,h.jsx)("button",{className:"text-gray-400 hover:text-yellow-400 h-5 w-5 p-0 inline-flex items-center justify-center transition-colors",onClick:g,"data-testid":"tooltip-back",children:(0,h.jsx)(fl.ChevronLeft,{className:"h-3.5 w-3.5"})}),l&&m&&(0,h.jsxs)("span",{className:"text-xs text-gray-400 font-medium",children:[l," / ",m]}),"guide"===n&&(0,h.jsx)("button",{className:"text-gray-400 hover:text-yellow-400 h-5 w-5 p-0 inline-flex items-center justify-center transition-colors",onClick:f,"data-testid":"tooltip-next",children:(0,h.jsx)(fm.ChevronRight,{className:"h-3.5 w-3.5"})}),k&&(0,h.jsx)("button",{className:"text-gray-400 hover:text-red-400 h-5 w-5 p-0 ml-1 inline-flex items-center justify-center transition-colors",onClick:k,"data-testid":"tooltip-close",title:"Close guidance",children:(0,h.jsx)(fn.X,{className:"h-3.5 w-3.5"})})]})]})})})]})})]}),document.body):null}var fq=a.i(50944),fr=a.i(70106);let fs=(0,fr.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var ft=a.i(25015),fu=a.i(65151);let fv=(0,fr.default)("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]),fw=(0,fr.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var fx=a.i(7554),fy=a.i(70121),fz=a.i(50104),fA=a.i(96743),fB=a.i(92843),fC=a.i(4691),fD=a.i(92616),fE=a.i(77192),fF=a.i(30553),fG=a.i(11011),fH=a.i(25152),fI=a.i(28094),[fJ,fK]=(0,fz.createContextScope)("Tooltip",[fC.createPopperScope]),fL=(0,fC.createPopperScope)(),fM="TooltipProvider",fN="tooltip.open",[fO,fP]=fJ(fM),fQ=a=>{let{__scopeTooltip:b,delayDuration:c=700,skipDelayDuration:d=300,disableHoverableContent:e=!1,children:f}=a,[g,j]=i.useState(!0),k=i.useRef(!1),l=i.useRef(0);return i.useEffect(()=>{let a=l.current;return()=>window.clearTimeout(a)},[]),(0,h.jsx)(fO,{scope:b,isOpenDelayed:g,delayDuration:c,onOpen:i.useCallback(()=>{window.clearTimeout(l.current),j(!1)},[]),onClose:i.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>j(!0),d)},[d]),isPointerInTransitRef:k,onPointerInTransitChange:i.useCallback(a=>{k.current=a},[]),disableHoverableContent:e,children:f})};fQ.displayName=fM;var fR="Tooltip",[fS,fT]=fJ(fR),fU=a=>{let{__scopeTooltip:b,children:c,open:d,defaultOpen:e=!1,onOpenChange:f,disableHoverableContent:g,delayDuration:j}=a,k=fP(fR,a.__scopeTooltip),l=fL(b),[m,n]=i.useState(null),o=(0,fB.useId)(),p=i.useRef(0),q=g??k.disableHoverableContent,r=j??k.delayDuration,s=i.useRef(!1),[t=!1,u]=(0,fH.useControllableState)({prop:d,defaultProp:e,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(fN))):k.onClose(),f?.(a)}}),v=i.useMemo(()=>t?s.current?"delayed-open":"instant-open":"closed",[t]),w=i.useCallback(()=>{window.clearTimeout(p.current),s.current=!1,u(!0)},[u]),x=i.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[u]),y=i.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s.current=!0,u(!0)},r)},[r,u]);return i.useEffect(()=>()=>window.clearTimeout(p.current),[]),(0,h.jsx)(fC.Root,{...l,children:(0,h.jsx)(fS,{scope:b,contentId:o,open:t,stateAttribute:v,trigger:m,onTriggerChange:n,onTriggerEnter:i.useCallback(()=>{k.isOpenDelayed?y():w()},[k.isOpenDelayed,y,w]),onTriggerLeave:i.useCallback(()=>{q?x():window.clearTimeout(p.current)},[x,q]),onOpen:w,onClose:x,disableHoverableContent:q,children:c})})};fU.displayName=fR;var fV="TooltipTrigger",fW=i.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=fT(fV,c),f=fP(fV,c),g=fL(c),j=i.useRef(null),k=(0,fy.useComposedRefs)(b,j,e.onTriggerChange),l=i.useRef(!1),m=i.useRef(!1),n=i.useCallback(()=>l.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",n),[n]),(0,h.jsx)(fC.Anchor,{asChild:!0,...g,children:(0,h.jsx)(fF.Primitive.button,{"aria-describedby":e.open?e.contentId:void 0,"data-state":e.stateAttribute,...d,ref:k,onPointerMove:(0,fx.composeEventHandlers)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(m.current||f.isPointerInTransitRef.current||(e.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,fx.composeEventHandlers)(a.onPointerLeave,()=>{e.onTriggerLeave(),m.current=!1}),onPointerDown:(0,fx.composeEventHandlers)(a.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",n,{once:!0})}),onFocus:(0,fx.composeEventHandlers)(a.onFocus,()=>{l.current||e.onOpen()}),onBlur:(0,fx.composeEventHandlers)(a.onBlur,e.onClose),onClick:(0,fx.composeEventHandlers)(a.onClick,e.onClose)})})});fW.displayName=fV;var[fX,fY]=fJ("TooltipPortal",{forceMount:void 0}),fZ="TooltipContent",f$=i.forwardRef((a,b)=>{let c=fY(fZ,a.__scopeTooltip),{forceMount:d=c.forceMount,side:e="top",...f}=a,g=fT(fZ,a.__scopeTooltip);return(0,h.jsx)(fE.Presence,{present:d||g.open,children:g.disableHoverableContent?(0,h.jsx)(f2,{side:e,...f,ref:b}):(0,h.jsx)(f_,{side:e,...f,ref:b})})}),f_=i.forwardRef((a,b)=>{let c=fT(fZ,a.__scopeTooltip),d=fP(fZ,a.__scopeTooltip),e=i.useRef(null),f=(0,fy.useComposedRefs)(b,e),[g,j]=i.useState(null),{trigger:k,onClose:l}=c,m=e.current,{onPointerInTransitChange:n}=d,o=i.useCallback(()=>{j(null),n(!1)},[n]),p=i.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return i.useEffect(()=>()=>o(),[o]),i.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),i.useEffect(()=>{if(g){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a].x,h=b[a].y,i=b[f].x,j=b[f].y;h>d!=j>d&&c<(i-g)*(d-h)/(j-h)+g&&(e=!e)}return e}(c,g);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,g,l,o]),(0,h.jsx)(f2,{...a,ref:f})}),[f0,f1]=fJ(fR,{isInside:!1}),f2=i.forwardRef((a,b)=>{let{__scopeTooltip:c,children:d,"aria-label":e,onEscapeKeyDown:f,onPointerDownOutside:g,...j}=a,k=fT(fZ,c),l=fL(c),{onClose:m}=k;return i.useEffect(()=>(document.addEventListener(fN,m),()=>document.removeEventListener(fN,m)),[m]),i.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,h.jsx)(fA.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,h.jsxs)(fC.Content,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,h.jsx)(fG.Slottable,{children:d}),(0,h.jsx)(f0,{scope:c,isInside:!0,children:(0,h.jsx)(fI.Root,{id:k.contentId,role:"tooltip",children:e||d})})]})})});f$.displayName=fZ;var f3="TooltipArrow";i.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=fL(c);return f1(f3,c).isInside?null:(0,h.jsx)(fC.Arrow,{...e,...d,ref:b})}).displayName=f3;var f4=a.i(44902);let f5=i.forwardRef(({className:a,sideOffset:b=4,...c},d)=>(0,h.jsx)(f$,{ref:d,sideOffset:b,className:(0,f4.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c}));f5.displayName=f$.displayName;let f6=(0,fr.default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var f7=a.i(96221),f8=a.i(33441),f9=a.i(5151);let ga=(0,fr.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gb=(0,fr.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),gc=(0,fr.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),gd=(0,fr.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ge=(0,fr.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var gf=a.i(81560),gg=a.i(14548),gh=a.i(15618);let gi=(0,fr.default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var gj=a.i(9233),gk=a.i(89707),gl=a.i(17650);function gm(a){let b=i.useRef({value:a,previous:a});return i.useMemo(()=>(b.current.value!==a&&(b.current.previous=b.current.value,b.current.value=a),b.current.previous),[a])}var gn=a.i(3688),go="Checkbox",[gp,gq]=(0,fz.createContextScope)(go),[gr,gs]=gp(go),gt=i.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:d,checked:e,defaultChecked:f,required:g,disabled:j,value:k="on",onCheckedChange:l,form:m,...n}=a,[o,p]=i.useState(null),q=(0,fy.useComposedRefs)(b,a=>p(a)),r=i.useRef(!1),s=!o||m||!!o.closest("form"),[t=!1,u]=(0,fH.useControllableState)({prop:e,defaultProp:f,onChange:l}),v=i.useRef(t);return i.useEffect(()=>{let a=o?.form;if(a){let b=()=>u(v.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[o,u]),(0,h.jsxs)(gr,{scope:c,state:t,disabled:j,children:[(0,h.jsx)(fF.Primitive.button,{type:"button",role:"checkbox","aria-checked":gx(t)?"mixed":t,"aria-required":g,"data-state":gy(t),"data-disabled":j?"":void 0,disabled:j,value:k,...n,ref:q,onKeyDown:(0,fx.composeEventHandlers)(a.onKeyDown,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,fx.composeEventHandlers)(a.onClick,a=>{u(a=>!!gx(a)||!a),s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})}),s&&(0,h.jsx)(gw,{control:o,bubbles:!r.current,name:d,value:k,checked:t,required:g,disabled:j,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!gx(f)&&f})]})});gt.displayName=go;var gu="CheckboxIndicator",gv=i.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:d,...e}=a,f=gs(gu,c);return(0,h.jsx)(fE.Presence,{present:d||gx(f.state)||!0===f.state,children:(0,h.jsx)(fF.Primitive.span,{"data-state":gy(f.state),"data-disabled":f.disabled?"":void 0,...e,ref:b,style:{pointerEvents:"none",...a.style}})})});gv.displayName=gu;var gw=a=>{let{control:b,checked:c,bubbles:d=!0,defaultChecked:e,...f}=a,g=i.useRef(null),j=gm(c),k=(0,gn.useSize)(b);i.useEffect(()=>{let a=g.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(j!==c&&b){let e=new Event("click",{bubbles:d});a.indeterminate=gx(c),b.call(a,!gx(c)&&c),a.dispatchEvent(e)}},[j,c,d]);let l=i.useRef(!gx(c)&&c);return(0,h.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e??l.current,...f,tabIndex:-1,ref:g,style:{...a.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gx(a){return"indeterminate"===a}function gy(a){return gx(a)?"indeterminate":a?"checked":"unchecked"}let gz=i.forwardRef(({className:a,...b},c)=>(0,h.jsx)(gt,{ref:c,className:(0,f4.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...b,children:(0,h.jsx)(gv,{className:(0,f4.cn)("flex items-center justify-center text-current"),children:(0,h.jsx)(f8.Check,{className:"h-4 w-4"})})}));function gA(a,[b,c]){return Math.min(c,Math.max(b,a))}gz.displayName=gt.displayName;var gB=a.i(37738),gC=a.i(7827),gD=a.i(86228),gE=a.i(22297),gF=a.i(46872),gG=a.i(72752),gH=a.i(41852),gI=a.i(52081),gJ=[" ","Enter","ArrowUp","ArrowDown"],gK=[" ","Enter"],gL="Select",[gM,gN,gO]=(0,gB.createCollection)(gL),[gP,gQ]=(0,fz.createContextScope)(gL,[gO,fC.createPopperScope]),gR=(0,fC.createPopperScope)(),[gS,gT]=gP(gL),[gU,gV]=gP(gL),gW=a=>{let{__scopeSelect:b,children:c,open:d,defaultOpen:e,onOpenChange:f,value:g,defaultValue:j,onValueChange:k,dir:l,name:m,autoComplete:n,disabled:o,required:p,form:q}=a,r=gR(b),[s,t]=i.useState(null),[u,v]=i.useState(null),[w,x]=i.useState(!1),y=(0,gC.useDirection)(l),[z=!1,A]=(0,fH.useControllableState)({prop:d,defaultProp:e,onChange:f}),[B,C]=(0,fH.useControllableState)({prop:g,defaultProp:j,onChange:k}),D=i.useRef(null),E=!s||q||!!s.closest("form"),[F,G]=i.useState(new Set),H=Array.from(F).map(a=>a.props.value).join(";");return(0,h.jsx)(fC.Root,{...r,children:(0,h.jsxs)(gS,{required:p,scope:b,trigger:s,onTriggerChange:t,valueNode:u,onValueNodeChange:v,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:(0,fB.useId)(),value:B,onValueChange:C,open:z,onOpenChange:A,dir:y,triggerPointerDownPosRef:D,disabled:o,children:[(0,h.jsx)(gM.Provider,{scope:b,children:(0,h.jsx)(gU,{scope:a.__scopeSelect,onNativeOptionAdd:i.useCallback(a=>{G(b=>new Set(b).add(a))},[]),onNativeOptionRemove:i.useCallback(a=>{G(b=>{let c=new Set(b);return c.delete(a),c})},[]),children:c})}),E?(0,h.jsxs)(hx,{"aria-hidden":!0,required:p,tabIndex:-1,name:m,autoComplete:n,value:B,onChange:a=>C(a.target.value),disabled:o,form:q,children:[void 0===B?(0,h.jsx)("option",{value:""}):null,Array.from(F)]},H):null]})})};gW.displayName=gL;var gX="SelectTrigger",gY=i.forwardRef((a,b)=>{let{__scopeSelect:c,disabled:d=!1,...e}=a,f=gR(c),g=gT(gX,c),j=g.disabled||d,k=(0,fy.useComposedRefs)(b,g.onTriggerChange),l=gN(c),m=i.useRef("touch"),[n,o,p]=hy(a=>{let b=l().filter(a=>!a.disabled),c=b.find(a=>a.value===g.value),d=hz(b,a,c);void 0!==d&&g.onValueChange(d.value)}),q=a=>{j||(g.onOpenChange(!0),p()),a&&(g.triggerPointerDownPosRef.current={x:Math.round(a.pageX),y:Math.round(a.pageY)})};return(0,h.jsx)(fC.Anchor,{asChild:!0,...f,children:(0,h.jsx)(fF.Primitive.button,{type:"button",role:"combobox","aria-controls":g.contentId,"aria-expanded":g.open,"aria-required":g.required,"aria-autocomplete":"none",dir:g.dir,"data-state":g.open?"open":"closed",disabled:j,"data-disabled":j?"":void 0,"data-placeholder":hw(g.value)?"":void 0,...e,ref:k,onClick:(0,fx.composeEventHandlers)(e.onClick,a=>{a.currentTarget.focus(),"mouse"!==m.current&&q(a)}),onPointerDown:(0,fx.composeEventHandlers)(e.onPointerDown,a=>{m.current=a.pointerType;let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),0===a.button&&!1===a.ctrlKey&&"mouse"===a.pointerType&&(q(a),a.preventDefault())}),onKeyDown:(0,fx.composeEventHandlers)(e.onKeyDown,a=>{let b=""!==n.current;a.ctrlKey||a.altKey||a.metaKey||1!==a.key.length||o(a.key),(!b||" "!==a.key)&&gJ.includes(a.key)&&(q(),a.preventDefault())})})})});gY.displayName=gX;var gZ="SelectValue",g$=i.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,children:f,placeholder:g="",...i}=a,j=gT(gZ,c),{onValueNodeHasChildrenChange:k}=j,l=void 0!==f,m=(0,fy.useComposedRefs)(b,j.onValueNodeChange);return(0,gG.useLayoutEffect)(()=>{k(l)},[k,l]),(0,h.jsx)(fF.Primitive.span,{...i,ref:m,style:{pointerEvents:"none"},children:hw(j.value)?(0,h.jsx)(h.Fragment,{children:g}):f})});g$.displayName=gZ;var g_=i.forwardRef((a,b)=>{let{__scopeSelect:c,children:d,...e}=a;return(0,h.jsx)(fF.Primitive.span,{"aria-hidden":!0,...e,ref:b,children:d||""})});g_.displayName="SelectIcon";var g0=a=>(0,h.jsx)(fD.Portal,{asChild:!0,...a});g0.displayName="SelectPortal";var g1="SelectContent",g2=i.forwardRef((a,b)=>{let c=gT(g1,a.__scopeSelect),[d,e]=i.useState();return((0,gG.useLayoutEffect)(()=>{e(new DocumentFragment)},[]),c.open)?(0,h.jsx)(g5,{...a,ref:b}):d?j.createPortal((0,h.jsx)(g3,{scope:a.__scopeSelect,children:(0,h.jsx)(gM.Slot,{scope:a.__scopeSelect,children:(0,h.jsx)("div",{children:a.children})})}),d):null});g2.displayName=g1;var[g3,g4]=gP(g1),g5=i.forwardRef((a,b)=>{let{__scopeSelect:c,position:d="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:f,onPointerDownOutside:g,side:j,sideOffset:k,align:l,alignOffset:m,arrowPadding:n,collisionBoundary:o,collisionPadding:p,sticky:q,hideWhenDetached:r,avoidCollisions:s,...t}=a,u=gT(g1,c),[v,w]=i.useState(null),[x,y]=i.useState(null),z=(0,fy.useComposedRefs)(b,a=>w(a)),[A,B]=i.useState(null),[C,D]=i.useState(null),E=gN(c),[F,G]=i.useState(!1),H=i.useRef(!1);i.useEffect(()=>{if(v)return(0,gH.hideOthers)(v)},[v]),(0,gD.useFocusGuards)();let I=i.useCallback(a=>{let[b,...c]=E().map(a=>a.ref.current),[d]=c.slice(-1),e=document.activeElement;for(let c of a)if(c===e||(c?.scrollIntoView({block:"nearest"}),c===b&&x&&(x.scrollTop=0),c===d&&x&&(x.scrollTop=x.scrollHeight),c?.focus(),document.activeElement!==e))return},[E,x]),J=i.useCallback(()=>I([A,v]),[I,A,v]);i.useEffect(()=>{F&&J()},[F,J]);let{onOpenChange:K,triggerPointerDownPosRef:L}=u;i.useEffect(()=>{if(v){let a={x:0,y:0},b=b=>{a={x:Math.abs(Math.round(b.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(b.pageY)-(L.current?.y??0))}},c=c=>{a.x<=10&&a.y<=10?c.preventDefault():v.contains(c.target)||K(!1),document.removeEventListener("pointermove",b),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",c,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",c,{capture:!0})}}},[v,K,L]),i.useEffect(()=>{let a=()=>K(!1);return window.addEventListener("blur",a),window.addEventListener("resize",a),()=>{window.removeEventListener("blur",a),window.removeEventListener("resize",a)}},[K]);let[M,N]=hy(a=>{let b=E().filter(a=>!a.disabled),c=b.find(a=>a.ref.current===document.activeElement),d=hz(b,a,c);d&&setTimeout(()=>d.ref.current.focus())}),O=i.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==u.value&&u.value===b||d)&&(B(a),d&&(H.current=!0))},[u.value]),P=i.useCallback(()=>v?.focus(),[v]),Q=i.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==u.value&&u.value===b||d)&&D(a)},[u.value]),R="popper"===d?g7:g6,S=R===g7?{side:j,sideOffset:k,align:l,alignOffset:m,arrowPadding:n,collisionBoundary:o,collisionPadding:p,sticky:q,hideWhenDetached:r,avoidCollisions:s}:{};return(0,h.jsx)(g3,{scope:c,content:v,viewport:x,onViewportChange:y,itemRefCallback:O,selectedItem:A,onItemLeave:P,itemTextRefCallback:Q,focusSelectedItem:J,selectedItemText:C,position:d,isPositioned:F,searchRef:M,children:(0,h.jsx)(gI.RemoveScroll,{as:fG.Slot,allowPinchZoom:!0,children:(0,h.jsx)(gE.FocusScope,{asChild:!0,trapped:u.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:(0,fx.composeEventHandlers)(e,a=>{u.trigger?.focus({preventScroll:!0}),a.preventDefault()}),children:(0,h.jsx)(fA.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:()=>u.onOpenChange(!1),children:(0,h.jsx)(R,{role:"listbox",id:u.contentId,"data-state":u.open?"open":"closed",dir:u.dir,onContextMenu:a=>a.preventDefault(),...t,...S,onPlaced:()=>G(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...t.style},onKeyDown:(0,fx.composeEventHandlers)(t.onKeyDown,a=>{let b=a.ctrlKey||a.altKey||a.metaKey;if("Tab"===a.key&&a.preventDefault(),b||1!==a.key.length||N(a.key),["ArrowUp","ArrowDown","Home","End"].includes(a.key)){let b=E().filter(a=>!a.disabled).map(a=>a.ref.current);if(["ArrowUp","End"].includes(a.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(a.key)){let c=a.target,d=b.indexOf(c);b=b.slice(d+1)}setTimeout(()=>I(b)),a.preventDefault()}})})})})})})});g5.displayName="SelectContentImpl";var g6=i.forwardRef((a,b)=>{let{__scopeSelect:c,onPlaced:d,...e}=a,f=gT(g1,c),g=g4(g1,c),[j,k]=i.useState(null),[l,m]=i.useState(null),n=(0,fy.useComposedRefs)(b,a=>m(a)),o=gN(c),p=i.useRef(!1),q=i.useRef(!0),{viewport:r,selectedItem:s,selectedItemText:t,focusSelectedItem:u}=g,v=i.useCallback(()=>{if(f.trigger&&f.valueNode&&j&&l&&r&&s&&t){let a=f.trigger.getBoundingClientRect(),b=l.getBoundingClientRect(),c=f.valueNode.getBoundingClientRect(),e=t.getBoundingClientRect();if("rtl"!==f.dir){let d=e.left-b.left,f=c.left-d,g=a.left-f,h=a.width+g,i=Math.max(h,b.width),k=gA(f,[10,Math.max(10,window.innerWidth-10-i)]);j.style.minWidth=h+"px",j.style.left=k+"px"}else{let d=b.right-e.right,f=window.innerWidth-c.right-d,g=window.innerWidth-a.right-f,h=a.width+g,i=Math.max(h,b.width),k=gA(f,[10,Math.max(10,window.innerWidth-10-i)]);j.style.minWidth=h+"px",j.style.right=k+"px"}let g=o(),h=window.innerHeight-20,i=r.scrollHeight,k=window.getComputedStyle(l),m=parseInt(k.borderTopWidth,10),n=parseInt(k.paddingTop,10),q=parseInt(k.borderBottomWidth,10),u=m+n+i+parseInt(k.paddingBottom,10)+q,v=Math.min(5*s.offsetHeight,u),w=window.getComputedStyle(r),x=parseInt(w.paddingTop,10),y=parseInt(w.paddingBottom,10),z=a.top+a.height/2-10,A=s.offsetHeight/2,B=m+n+(s.offsetTop+A);if(B<=z){let a=g.length>0&&s===g[g.length-1].ref.current;j.style.bottom="0px";let b=Math.max(h-z,A+(a?y:0)+(l.clientHeight-r.offsetTop-r.offsetHeight)+q);j.style.height=B+b+"px"}else{let a=g.length>0&&s===g[0].ref.current;j.style.top="0px";let b=Math.max(z,m+r.offsetTop+(a?x:0)+A);j.style.height=b+(u-B)+"px",r.scrollTop=B-z+r.offsetTop}j.style.margin="10px 0",j.style.minHeight=v+"px",j.style.maxHeight=h+"px",d?.(),requestAnimationFrame(()=>p.current=!0)}},[o,f.trigger,f.valueNode,j,l,r,s,t,f.dir,d]);(0,gG.useLayoutEffect)(()=>v(),[v]);let[w,x]=i.useState();(0,gG.useLayoutEffect)(()=>{l&&x(window.getComputedStyle(l).zIndex)},[l]);let y=i.useCallback(a=>{a&&!0===q.current&&(v(),u?.(),q.current=!1)},[v,u]);return(0,h.jsx)(g8,{scope:c,contentWrapper:j,shouldExpandOnScrollRef:p,onScrollButtonChange:y,children:(0,h.jsx)("div",{ref:k,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,h.jsx)(fF.Primitive.div,{...e,ref:n,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});g6.displayName="SelectItemAlignedPosition";var g7=i.forwardRef((a,b)=>{let{__scopeSelect:c,align:d="start",collisionPadding:e=10,...f}=a,g=gR(c);return(0,h.jsx)(fC.Content,{...g,...f,ref:b,align:d,collisionPadding:e,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g7.displayName="SelectPopperPosition";var[g8,g9]=gP(g1,{}),ha="SelectViewport",hb=i.forwardRef((a,b)=>{let{__scopeSelect:c,nonce:d,...e}=a,f=g4(ha,c),g=g9(ha,c),j=(0,fy.useComposedRefs)(b,f.onViewportChange),k=i.useRef(0);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),(0,h.jsx)(gM.Slot,{scope:c,children:(0,h.jsx)(fF.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:j,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:(0,fx.composeEventHandlers)(e.onScroll,a=>{let b=a.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=g;if(d?.current&&c){let a=Math.abs(k.current-b.scrollTop);if(a>0){let d=window.innerHeight-20,e=Math.max(parseFloat(c.style.minHeight),parseFloat(c.style.height));if(e<d){let f=e+a,g=Math.min(d,f),h=f-g;c.style.height=g+"px","0px"===c.style.bottom&&(b.scrollTop=h>0?h:0,c.style.justifyContent="flex-end")}}}k.current=b.scrollTop})})})]})});hb.displayName=ha;var hc="SelectGroup",[hd,he]=gP(hc);i.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=(0,fB.useId)();return(0,h.jsx)(hd,{scope:c,id:e,children:(0,h.jsx)(fF.Primitive.div,{role:"group","aria-labelledby":e,...d,ref:b})})}).displayName=hc;var hf="SelectLabel",hg=i.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=he(hf,c);return(0,h.jsx)(fF.Primitive.div,{id:e.id,...d,ref:b})});hg.displayName=hf;var hh="SelectItem",[hi,hj]=gP(hh),hk=i.forwardRef((a,b)=>{let{__scopeSelect:c,value:d,disabled:e=!1,textValue:f,...g}=a,j=gT(hh,c),k=g4(hh,c),l=j.value===d,[m,n]=i.useState(f??""),[o,p]=i.useState(!1),q=(0,fy.useComposedRefs)(b,a=>k.itemRefCallback?.(a,d,e)),r=(0,fB.useId)(),s=i.useRef("touch"),t=()=>{e||(j.onValueChange(d),j.onOpenChange(!1))};if(""===d)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,h.jsx)(hi,{scope:c,value:d,disabled:e,textId:r,isSelected:l,onItemTextChange:i.useCallback(a=>{n(b=>b||(a?.textContent??"").trim())},[]),children:(0,h.jsx)(gM.ItemSlot,{scope:c,value:d,disabled:e,textValue:m,children:(0,h.jsx)(fF.Primitive.div,{role:"option","aria-labelledby":r,"data-highlighted":o?"":void 0,"aria-selected":l&&o,"data-state":l?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...g,ref:q,onFocus:(0,fx.composeEventHandlers)(g.onFocus,()=>p(!0)),onBlur:(0,fx.composeEventHandlers)(g.onBlur,()=>p(!1)),onClick:(0,fx.composeEventHandlers)(g.onClick,()=>{"mouse"!==s.current&&t()}),onPointerUp:(0,fx.composeEventHandlers)(g.onPointerUp,()=>{"mouse"===s.current&&t()}),onPointerDown:(0,fx.composeEventHandlers)(g.onPointerDown,a=>{s.current=a.pointerType}),onPointerMove:(0,fx.composeEventHandlers)(g.onPointerMove,a=>{s.current=a.pointerType,e?k.onItemLeave?.():"mouse"===s.current&&a.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,fx.composeEventHandlers)(g.onPointerLeave,a=>{a.currentTarget===document.activeElement&&k.onItemLeave?.()}),onKeyDown:(0,fx.composeEventHandlers)(g.onKeyDown,a=>{(k.searchRef?.current===""||" "!==a.key)&&(gK.includes(a.key)&&t()," "===a.key&&a.preventDefault())})})})})});hk.displayName=hh;var hl="SelectItemText",hm=i.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,...f}=a,g=gT(hl,c),k=g4(hl,c),l=hj(hl,c),m=gV(hl,c),[n,o]=i.useState(null),p=(0,fy.useComposedRefs)(b,a=>o(a),l.onItemTextChange,a=>k.itemTextRefCallback?.(a,l.value,l.disabled)),q=n?.textContent,r=i.useMemo(()=>(0,h.jsx)("option",{value:l.value,disabled:l.disabled,children:q},l.value),[l.disabled,l.value,q]),{onNativeOptionAdd:s,onNativeOptionRemove:t}=m;return(0,gG.useLayoutEffect)(()=>(s(r),()=>t(r)),[s,t,r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(fF.Primitive.span,{id:l.textId,...f,ref:p}),l.isSelected&&g.valueNode&&!g.valueNodeHasChildren?j.createPortal(f.children,g.valueNode):null]})});hm.displayName=hl;var hn="SelectItemIndicator",ho=i.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return hj(hn,c).isSelected?(0,h.jsx)(fF.Primitive.span,{"aria-hidden":!0,...d,ref:b}):null});ho.displayName=hn;var hp="SelectScrollUpButton",hq=i.forwardRef((a,b)=>{let c=g4(hp,a.__scopeSelect),d=g9(hp,a.__scopeSelect),[e,f]=i.useState(!1),g=(0,fy.useComposedRefs)(b,d.onScrollButtonChange);return(0,gG.useLayoutEffect)(()=>{if(c.viewport&&c.isPositioned){let a=function(){f(b.scrollTop>0)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,h.jsx)(ht,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop-b.offsetHeight)}}):null});hq.displayName=hp;var hr="SelectScrollDownButton",hs=i.forwardRef((a,b)=>{let c=g4(hr,a.__scopeSelect),d=g9(hr,a.__scopeSelect),[e,f]=i.useState(!1),g=(0,fy.useComposedRefs)(b,d.onScrollButtonChange);return(0,gG.useLayoutEffect)(()=>{if(c.viewport&&c.isPositioned){let a=function(){let a=b.scrollHeight-b.clientHeight;f(Math.ceil(b.scrollTop)<a)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,h.jsx)(ht,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop+b.offsetHeight)}}):null});hs.displayName=hr;var ht=i.forwardRef((a,b)=>{let{__scopeSelect:c,onAutoScroll:d,...e}=a,f=g4("SelectScrollButton",c),g=i.useRef(null),j=gN(c),k=i.useCallback(()=>{null!==g.current&&(window.clearInterval(g.current),g.current=null)},[]);return i.useEffect(()=>()=>k(),[k]),(0,gG.useLayoutEffect)(()=>{let a=j().find(a=>a.ref.current===document.activeElement);a?.ref.current?.scrollIntoView({block:"nearest"})},[j]),(0,h.jsx)(fF.Primitive.div,{"aria-hidden":!0,...e,ref:b,style:{flexShrink:0,...e.style},onPointerDown:(0,fx.composeEventHandlers)(e.onPointerDown,()=>{null===g.current&&(g.current=window.setInterval(d,50))}),onPointerMove:(0,fx.composeEventHandlers)(e.onPointerMove,()=>{f.onItemLeave?.(),null===g.current&&(g.current=window.setInterval(d,50))}),onPointerLeave:(0,fx.composeEventHandlers)(e.onPointerLeave,()=>{k()})})}),hu=i.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return(0,h.jsx)(fF.Primitive.div,{"aria-hidden":!0,...d,ref:b})});hu.displayName="SelectSeparator";var hv="SelectArrow";function hw(a){return""===a||void 0===a}i.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=gR(c),f=gT(hv,c),g=g4(hv,c);return f.open&&"popper"===g.position?(0,h.jsx)(fC.Arrow,{...e,...d,ref:b}):null}).displayName=hv;var hx=i.forwardRef((a,b)=>{let{value:c,...d}=a,e=i.useRef(null),f=(0,fy.useComposedRefs)(b,e),g=gm(c);return i.useEffect(()=>{let a=e.current,b=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(g!==c&&b){let d=new Event("change",{bubbles:!0});b.call(a,c),a.dispatchEvent(d)}},[g,c]),(0,h.jsx)(fI.VisuallyHidden,{asChild:!0,children:(0,h.jsx)("select",{...d,ref:f,defaultValue:c})})});function hy(a){let b=(0,gF.useCallbackRef)(a),c=i.useRef(""),d=i.useRef(0),e=i.useCallback(a=>{let e=c.current+a;b(e),function a(b){c.current=b,window.clearTimeout(d.current),""!==b&&(d.current=window.setTimeout(()=>a(""),1e3))}(e)},[b]),f=i.useCallback(()=>{c.current="",window.clearTimeout(d.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(d.current),[]),[c,e,f]}function hz(a,b,c){var d,e;let f=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,g=c?a.indexOf(c):-1,h=(d=a,e=Math.max(g,0),d.map((a,b)=>d[(e+b)%d.length]));1===f.length&&(h=h.filter(a=>a!==c));let i=h.find(a=>a.textValue.toLowerCase().startsWith(f.toLowerCase()));return i!==c?i:void 0}hx.displayName="BubbleSelect";let hA=(0,fr.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),hB=i.forwardRef(({className:a,children:b,...c},d)=>(0,h.jsxs)(gY,{ref:d,className:(0,f4.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-input px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,h.jsx)(g_,{asChild:!0,children:(0,h.jsx)(ga,{className:"h-4 w-4 opacity-50"})})]}));hB.displayName=gY.displayName;let hC=i.forwardRef(({className:a,...b},c)=>(0,h.jsx)(hq,{ref:c,className:(0,f4.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,h.jsx)(hA,{className:"h-4 w-4"})}));hC.displayName=hq.displayName;let hD=i.forwardRef(({className:a,...b},c)=>(0,h.jsx)(hs,{ref:c,className:(0,f4.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,h.jsx)(ga,{className:"h-4 w-4"})}));hD.displayName=hs.displayName;let hE=i.forwardRef(({className:a,children:b,position:c="popper",...d},e)=>(0,h.jsx)(g0,{children:(0,h.jsxs)(g2,{ref:e,className:(0,f4.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...d,children:[(0,h.jsx)(hC,{}),(0,h.jsx)(hb,{className:(0,f4.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,h.jsx)(hD,{})]})}));hE.displayName=g2.displayName,i.forwardRef(({className:a,...b},c)=>(0,h.jsx)(hg,{ref:c,className:(0,f4.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=hg.displayName;let hF=i.forwardRef(({className:a,children:b,...c},d)=>(0,h.jsxs)(hk,{ref:d,className:(0,f4.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,h.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,h.jsx)(ho,{children:(0,h.jsx)(f8.Check,{className:"h-4 w-4"})})}),(0,h.jsx)(hm,{children:b})]}));hF.displayName=hk.displayName,i.forwardRef(({className:a,...b},c)=>(0,h.jsx)(hu,{ref:c,className:(0,f4.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=hu.displayName;let hG={startDelay:5e3,advanceDelay:400,completionCredits:110};function hH(a,b){return"number"==typeof a?a:hG[b]}let hI=[{id:"finding-customers",name:"Finding Customers",description:"Discover potential customers using our powerful AI search tools.",emoji:"",challenges:[{id:"basic-company-contact-search",name:"Basic Company & Contact Search",description:"Perform your first company and contacts search",emoji:"",trigger:{type:"newUser",route:"/app",requiresAuth:!0,once:!0},startDelay:7e3,setupEvent:"startNewSearch",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click on the search options to choose what you want to search for",tooltipPosition:"right",route:"/app"},{id:"select-contacts-search",selector:'[data-testid="search-type-option-contacts"]',action:"click",instruction:"Select '+ Contacts' to search for companies AND their contacts",tooltipPosition:"bottom",route:"/app"},{id:"search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search bar to start.",tooltipPosition:"bottom",route:"/app"},{id:"type-query",selector:'[data-testid="search-input"]',action:"type",value:"marketing agencies in Austin",advanceDelay:3e3,instruction:"Type a search query like 'marketing agencies in Austin'.",tooltipPosition:"bottom",route:"/app"},{id:"execute-search",selector:'[data-testid="search-button"]',action:"click",instruction:"Click on Search!",tooltipPosition:"left",route:"/app"}],completionMessage:"Awesome! You've completed your first search! "},{id:"cross-page-navigation",name:"Navigate the App",description:"Learn to navigate between different sections using the sidebar",emoji:"",steps:[{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"First, click on the search bar",tooltipPosition:"bottom",route:"/app"},{id:"open-drawer-1",selector:'[data-testid="button-open-drawer"]',action:"click",instruction:"Now click the menu icon to open the navigation drawer",tooltipPosition:"right",route:"/app"},{id:"go-to-contacts",selector:'[data-testid="drawer-nav-contacts"]',action:"click",instruction:"Click 'Contact Lists' to see your saved contacts",tooltipPosition:"right",route:"/app"},{id:"open-drawer-2",selector:'[data-testid="button-open-drawer"]',action:"click",instruction:"Great! Now open the drawer again",tooltipPosition:"right",route:"/contacts"},{id:"go-to-campaigns",selector:'[data-testid="drawer-nav-campaigns"]',action:"click",instruction:"Now go to 'Campaigns' to manage your outreach",tooltipPosition:"right",route:"/contacts"},{id:"open-drawer-3",selector:'[data-testid="button-open-drawer"]',action:"click",instruction:"Open the drawer one more time",tooltipPosition:"right",route:"/campaigns"},{id:"go-back-to-search",selector:'[data-testid="drawer-new-search"]',action:"click",instruction:"Click 'New Search' to return to the main search page",tooltipPosition:"right",route:"/campaigns"}],completionMessage:"Excellent! You now know how to navigate the app! "},{id:"find-email-unique-contact",name:"Find Email of Unique Contact",description:"Use the email finder to discover a specific contact's email",emoji:"",steps:[],completionMessage:"Excellent! You've discovered how to find contact emails! "},{id:"full-search",name:"Do a Full Search",description:"Complete a full search with contacts and emails in one go",emoji:"",steps:[],completionMessage:"Congratulations! You've mastered the complete search workflow! "},{id:"search-emails-with-filters",name:"Search for Emails with Filters",description:"Learn how to use search options, apply filters, and perform targeted email searches",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to access advanced search features",tooltipPosition:"bottom",route:"/app"},{id:"select-emails-option",selector:'[role="dialog"] [data-testid="search-type-option-emails"]',action:"click",instruction:"Select the 'Emails' option to search specifically for email contacts",tooltipPosition:"right",route:"/app"},{id:"add-leadership-filter",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click on 'Leadership' to add it as a filter for your search",tooltipPosition:"bottom",route:"/app"},{id:"add-marketing-filter",selector:"button.\n.flex.items-center",action:"click",instruction:"Click on 'Marketing' to add another filter to narrow your search",tooltipPosition:"bottom",route:"/app"},{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start entering your search query",tooltipPosition:"bottom",route:"/app"},{id:"enter-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query to find specific contacts",tooltipPosition:"bottom",route:"/app",value:"plumbers in brooklyn"},{id:"finalize-search",selector:"body.react-loaded",action:"click",instruction:"Click outside the search area to execute your filtered search",tooltipPosition:"auto",route:"/app"}],completionMessage:"Great job! You've learned how to use search options, apply multiple filters, and perform targeted email searches to find exactly the contacts you need."},{id:"advanced-search-configuration",name:"Configure Advanced Search",description:"Learn how to set up advanced search options and customize your search query",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to access advanced search settings",tooltipPosition:"bottom",route:"/app/new-search"},{id:"select-super-search",selector:'[role="dialog"] [data-testid="search-type-option-super_search_fast"]',action:"click",instruction:"Select 'Super Search (Fast)' to use the most powerful search algorithm",tooltipPosition:"right",route:"/app/new-search"},{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click in the search input field to start entering your query",tooltipPosition:"bottom",route:"/app/new-search"},{id:"enter-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your specific search query about Tesla engineers in Germany",tooltipPosition:"bottom",route:"/app/new-search",value:"Find tesla engineers in germany working on lithium sourcing or batteries."},{id:"add-marketing-filter",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click to add Marketing as a filter category",tooltipPosition:"top",route:"/app/new-search"},{id:"add-leadership-filter",selector:"button.\n.flex.items-center",action:"click",instruction:"Click to add Leadership as an additional filter category",tooltipPosition:"top",route:"/app/new-search"}],completionMessage:"Great job! You've learned how to configure advanced search options, select search types, enter detailed queries, and apply multiple filters to refine your results."},{id:"advanced-search-setup-with-filters",name:"Advanced Search Setup",description:"Learn how to configure search options, enter specific queries, and apply professional filters",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to access advanced search settings",tooltipPosition:"bottom",route:"/app/new-search"},{id:"select-super-search",selector:'[role="dialog"] [data-testid="search-type-option-super_search_fast"]',action:"click",instruction:"Select 'Super Search (Fast)' for enhanced search capabilities",tooltipPosition:"right",route:"/app/new-search"},{id:"focus-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click in the search field to start entering your query",tooltipPosition:"bottom",route:"/app/new-search"},{id:"enter-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your specific search query about Tesla engineers",tooltipPosition:"bottom",route:"/app/new-search",value:"tesla engineers working on lithium sourcing"},{id:"confirm-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click to confirm your search input",tooltipPosition:"bottom",route:"/app/new-search"},{id:"select-leadership-filter",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click on the 'Leadership' filter to narrow down to leadership roles",tooltipPosition:"top",route:"/app/new-search"},{id:"select-cto-filter",selector:"button.\n.flex.items-center",action:"click",instruction:"Select 'CTO' to specifically target Chief Technology Officers",tooltipPosition:"top",route:"/app/new-search"}],completionMessage:"Great job! You've learned how to set up an advanced search with specific queries and professional filters. This will help you find exactly the type of professionals you're looking for!"},{id:"advanced-search-with-filters",name:"Advanced Search with Filters",description:"Learn how to perform targeted searches with email options and job level filters",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to access advanced search settings",tooltipPosition:"bottom",route:"/app/new-search"},{id:"select-email-option",selector:'[role="dialog"] [data-testid="search-type-option-emails"]',action:"click",instruction:"Select the 'Emails' option to include email data in your search results",tooltipPosition:"right",route:"/app/new-search"},{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start entering your search criteria",tooltipPosition:"top",route:"/app/new-search"},{id:"enter-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query to find specific professionals",tooltipPosition:"top",route:"/app/new-search",value:"tesla engineers working on batteries in germany"},{id:"select-cto-filter",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click on 'CTO' to add this job title filter to your search",tooltipPosition:"bottom",route:"/app/new-search"},{id:"select-leadership-filter",selector:"button.\n.flex.items-center",action:"click",instruction:"Click on 'Leadership' to broaden your search to include leadership roles",tooltipPosition:"bottom",route:"/app/new-search"},{id:"execute-search",selector:'[data-testid="search-button"]',action:"click",instruction:"Click the Search button to execute your advanced search with all selected filters",tooltipPosition:"top",route:"/app/new-search"}],completionMessage:"Great job! You've learned how to perform advanced searches with email options and job level filters. This will help you find more targeted and relevant professional contacts!"},{id:"configure-email-search-criteria",name:"Configure Email Search Criteria",description:"Learn how to set up email search options and customize search criteria for targeted results",emoji:"",steps:[{id:"step-1",selector:"#root",action:"click",instruction:"Click on the main area to start configuring your search",tooltipPosition:"bottom",route:"/app/new-search"},{id:"step-2",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to open advanced search settings",tooltipPosition:"bottom",route:"/app/new-search"},{id:"step-3",selector:'[role="dialog"] [data-testid="search-type-option-emails"]',action:"click",instruction:"Select the 'Emails' option to include email results in your search",tooltipPosition:"left",route:"/app/new-search"},{id:"step-4",selector:'[data-testid="search-input"]',action:"click",instruction:"Click in the search input field to enter your search terms",tooltipPosition:"bottom",route:"/app/new-search"},{id:"step-5",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query to find what you're looking for",tooltipPosition:"bottom",route:"/app/new-search",value:"happy people"},{id:"step-6",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click the Leadership filter to refine your search criteria",tooltipPosition:"top",route:"/app/new-search"},{id:"step-7",selector:"button.\n.flex.items-center",action:"click",instruction:"Click the Marketing filter to add another search criteria",tooltipPosition:"top",route:"/app/new-search"}],completionMessage:"Great job! You've learned how to configure email search options, enter search terms, and apply multiple filters to get targeted results."},{id:"search-and-filter-exploration",name:"Search and Filter Tutorial",description:"Learn how to access search history, perform searches, and apply filters",emoji:"",steps:[{id:"open-drawer",selector:'nav [data-testid="button-open-drawer"]',action:"click",instruction:"Click the drawer button to open your search history",tooltipPosition:"bottom",route:"/app"},{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start entering your search",tooltipPosition:"bottom",route:"/app"},{id:"enter-search-term",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search term in the input field",tooltipPosition:"bottom",route:"/app",value:"happy"},{id:"apply-first-filter",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click this filter button to refine your search results",tooltipPosition:"top",route:"/app"},{id:"apply-second-filter",selector:"button.\n.flex.items-center",action:"click",instruction:"Apply another filter to further narrow down your results",tooltipPosition:"top",route:"/app"}],completionMessage:"Great job! You've learned how to access search history, perform searches, and apply multiple filters to get the most relevant results."},{id:"advanced-search-with-super-search",name:"Advanced Search Tutorial",description:"Learn how to use different search types and perform advanced queries",emoji:"",steps:[{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to get started",tooltipPosition:"bottom",route:"/app"},{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to see different search types",tooltipPosition:"bottom",route:"/app"},{id:"explore-individual-search",selector:'[role="dialog"] [data-testid="search-type-option-individual_search"]',action:"click",instruction:"Try selecting 'Find Individual' to see what this search type offers",tooltipPosition:"left",route:"/app"},{id:"cancel-individual-search",selector:'form [data-testid="button-cancel"]',action:"click",instruction:"Cancel this option to explore other search types",tooltipPosition:"top",route:"/app"},{id:"reopen-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Open the search options again to choose a different search type",tooltipPosition:"bottom",route:"/app"},{id:"select-super-search",selector:'[role="dialog"] [data-testid="search-type-option-super_search_fast"]',action:"click",instruction:"Select 'Super Search (Fast)' for more powerful search capabilities",tooltipPosition:"left",route:"/app"},{id:"focus-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click in the search field to prepare for your query",tooltipPosition:"bottom",route:"/app"},{id:"type-advanced-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your detailed search query about AI engineers at Tesla",tooltipPosition:"bottom",route:"/app",value:"find engineers that focus on ai vision at tesla in germany"},{id:"execute-search",selector:'[data-testid="search-button"]',action:"click",instruction:"Click the search button to run your advanced query",tooltipPosition:"left",route:"/app"}],completionMessage:"Great job! You've learned how to explore different search types and perform advanced queries using Super Search. You can now craft detailed searches to find exactly what you're looking for!"},{id:"search-contacts-with-filters",name:"Search Contacts with Filters",description:"Learn how to search for specific contacts using search filters and options",emoji:"",steps:[{id:"click-search-input-1",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start your search",tooltipPosition:"bottom",route:"/app"},{id:"click-search-input-2",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input again to ensure it's focused",tooltipPosition:"bottom",route:"/app"},{id:"click-search-input-3",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input once more to prepare for typing",tooltipPosition:"bottom",route:"/app"},{id:"type-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query in the input field",tooltipPosition:"bottom",route:"/app",value:"happy"},{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to access additional filters",tooltipPosition:"left",route:"/app"},{id:"select-contacts-filter",selector:'[role="dialog"] [data-testid="search-type-option-contacts"]',action:"click",instruction:"Select 'Contacts' to filter your search results to contacts only",tooltipPosition:"right",route:"/app"},{id:"select-leadership-filter-1",selector:"button.flex.items-center.gap-1",action:"click",instruction:"Click on the 'Leadership' filter to narrow your search to leadership contacts",tooltipPosition:"top",route:"/app"},{id:"select-leadership-filter-2",selector:"button.\n.flex.items-center",action:"click",instruction:"Confirm your leadership filter selection",tooltipPosition:"top",route:"/app"}],completionMessage:"Great job! You've learned how to use search filters to find specific contacts. You can now search effectively using keywords and apply filters like contact type and leadership roles to get more targeted results."},{id:"search-with-custom-options",name:"Search with Custom Options",description:"Learn how to configure search settings and perform a search with specific parameters",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to configure your search settings",tooltipPosition:"bottom",route:"/app"},{id:"select-search-type",selector:'[role="dialog"] [data-testid="search-type-option-super_search_fast"]',action:"click",instruction:"Select 'Super Search (Fast)' to use the optimized search mode",tooltipPosition:"right",route:"/app"},{id:"focus-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start entering your search query",tooltipPosition:"top",route:"/app"},{id:"enter-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query in the input field",tooltipPosition:"top",route:"/app",value:"happy people"}],completionMessage:"Great job! You've learned how to customize search options and perform a search. Now you can use different search modes to find exactly what you're looking for!"},{id:"search-emails-with-suggestions",name:"Search for Emails with Suggestions",description:"Learn how to configure search options for emails and use search suggestions",emoji:"",steps:[{id:"open-search-options",selector:'[data-testid="search-options-button"]',action:"click",instruction:"Click the search options button to configure your search settings",tooltipPosition:"bottom",route:"/app"},{id:"select-email-search",selector:'[role="dialog"] [data-testid="search-type-option-emails"]',action:"click",instruction:"Select 'Emails' to search specifically for email content",tooltipPosition:"right",route:"/app"},{id:"click-search-input",selector:'[data-testid="search-input"]',action:"click",instruction:"Click on the search input field to start typing your query",tooltipPosition:"top",route:"/app"},{id:"type-search-query",selector:'[data-testid="search-input"]',action:"type",instruction:"Type your search query in the input field",tooltipPosition:"top",route:"/app",value:"happy people 22222222"},{id:"select-suggestion",selector:'[data-testid="button-suggestion-recently-exited-startups-in-mi"]',action:"click",instruction:"Click on the suggested search term 'Recently exited startups in Miami' to use it as your query",tooltipPosition:"top",route:"/app"}],completionMessage:"Great job! You've learned how to configure search options for emails and use search suggestions to find relevant content more efficiently."}]},{id:"send-an-email",name:"Send an Email",description:"Learn how to compose and send personalized emails to your contacts.",emoji:"",challenges:[{id:"generate-email-from-prompt",name:"Generate an Email from a Prompt",description:"Generate an email from a prompt and edit it",emoji:"",steps:[],completionMessage:"You've created your first AI-generated email! "},{id:"change-the-tone",name:"Change the Tone",description:"Adjust the tone of your email to match your style",emoji:"",steps:[],completionMessage:"You've learned how to adjust email tone! "},{id:"add-strategy-guidance",name:"Add a Strategy Guidance",description:"Add strategic context to improve your email",emoji:"",steps:[],completionMessage:"You've added strategic guidance to your email! "},{id:"send-email-default-sender",name:"Send Email Using Default Sender",description:"Send your email using the default email sender",emoji:"",steps:[],completionMessage:"Congratulations! You've sent your first email! "},{id:"add-product-to-contact",name:"Add Product Information",description:"Learn how to add product details to a contact profile",emoji:"",steps:[{id:"open-drawer",selector:'[data-testid="button-open-drawer"]',action:"click",instruction:"Click the drawer button to open the navigation menu",tooltipPosition:"bottom",route:"/app"},{id:"select-company",selector:"span.cursor-pointer",action:"click",instruction:"Click on 'edtech stem in vietnam' to select this company",tooltipPosition:"right",route:"/app"},{id:"select-contact",selector:"div.flex-1",action:"click",instruction:"Click on Nevill Nguyen's contact card to view their profile",tooltipPosition:"top",route:"/app"},{id:"focus-product-field",selector:"textarea.flex.min-h-\\[80px\\].w-full",action:"click",instruction:"Click on the product textarea field to start adding product information",tooltipPosition:"top",route:"/app"},{id:"enter-product-info",selector:"textarea.flex.min-h-\\[80px\\].w-full",action:"type",instruction:"Type 'sell edu platform.' to add product details for this contact",tooltipPosition:"top",route:"/app"}],completionMessage:"Great job! You've successfully learned how to navigate to a contact and add product information to their profile. This helps keep track of what products or services are relevant to each contact."},{id:"generate-email-from-profile",name:"Generate Email",description:"Learn how to generate an email by selecting a contact and providing context",emoji:"",steps:[{id:"select-contact",selector:"div.font-medium.text-sm",action:"click",instruction:"Click on 'Pham Minh Tuan' to select this contact for your email",tooltipPosition:"bottom",route:"/app"},{id:"add-context",selector:"textarea.flex.min-h-\\[80px\\].w-full",action:"click",instruction:"Click in the text area and add context about 'sell edu platform' to help generate a relevant email",tooltipPosition:"top",route:"/app"},{id:"generate-email",selector:'[data-testid="button-generate-email"]',action:"click",instruction:"Click the 'Generate Email' button to create your personalized email",tooltipPosition:"top",route:"/app"}],completionMessage:"Great job! You've learned how to generate personalized emails by selecting a contact and providing relevant context. This will help you create more targeted and effective communications."}]},{id:"invite-a-friend",name:"Invite a Friend Who May Need This",description:"Share 5Ducks with someone who could benefit from better sales outreach.",emoji:"",challenges:[]},{id:"manage-your-products",name:"Manage Your Products",description:"Set up and manage the products you're selling to personalize your outreach.",emoji:"",challenges:[]},{id:"manage-sender-profile",name:"Manage Your Sender Profile",description:"Configure your sender profile for professional email outreach.",emoji:"",challenges:[]},{id:"launch-daily-ducks-assistant",name:"Launch Your Daily Ducks Assistant",description:"Set up your automated daily outreach assistant to stay consistent.",emoji:"",challenges:[{id:"decide-weekly-schedule",name:"Decide on Your Weekly Schedule",description:"Choose which days you want to send outreach emails",emoji:"",steps:[],completionMessage:"You've set your weekly schedule! "},{id:"select-streak-elements",name:"Select Streak Elements & Launch",description:"Choose your streak settings and launch your assistant",emoji:"",steps:[],completionMessage:"Your Daily Ducks Assistant is launched! "},{id:"schedule-holiday-pause",name:"Schedule a Holiday or Pause",description:"Learn how to pause your assistant when needed",emoji:"",steps:[],completionMessage:"You know how to manage your schedule! "},{id:"generate-emails",name:"Mainly Generate the Emails",description:"Let the assistant generate emails for your outreach",emoji:"",steps:[],completionMessage:"Your emails are ready to go! "}]},{id:"daily-ducks",name:"Daily Ducks",description:"Master your daily outreach workflow with the Daily Ducks feature.",emoji:"",challenges:[{id:"test-send",name:"Test Send",description:"Send a test email to yourself before going live",emoji:"",steps:[],completionMessage:"Test email sent successfully! "},{id:"send-via-daily-ducks",name:"Send Email via Daily Ducks",description:"Send your first real email through Daily Ducks",emoji:"",steps:[],completionMessage:"Your first Daily Ducks email is on its way! "},{id:"regenerate-suggestions",name:"Re-generate Daily Suggestions",description:"Learn how to refresh your daily email suggestions",emoji:"",steps:[],completionMessage:"You've regenerated your suggestions! "},{id:"stop-campaign",name:"Stop Daily Ducks Campaign",description:"Learn how to stop or pause your campaign",emoji:"",steps:[],completionMessage:"You know how to manage your campaigns! "}]},{id:"help-your-community",name:"Help Your Community",description:"Give back and help others discover better sales tools.",emoji:"",challenges:[{id:"think-about-someone",name:"Think About Someone Who Needs Help with Sales",description:"Consider who in your network could benefit from this tool",emoji:"",steps:[],completionMessage:"Thanks for thinking of others! "},{id:"give-feedback",name:"Give Feedback on the App",description:"Share your thoughts to help us improve",emoji:"",steps:[],completionMessage:"Thank you for your valuable feedback! "},{id:"create-video-post",name:"Create a Video or Post on Socials",description:"Share your experience and earn bonus credits",emoji:"",steps:[],completionMessage:"Amazing! You've earned 5,000 bonus credits! "}]},{id:"create-contact-list",name:"Create a Contact List",description:"Organize your contacts into lists for targeted outreach.",emoji:"",challenges:[{id:"create-new-list",name:"Create a New Contact List",description:"Create your first contact list",emoji:"",steps:[],completionMessage:"You've created a new contact list! "},{id:"add-contact-to-list",name:"Add a Contact to Your Contact List",description:"Add an individual contact to your list",emoji:"",steps:[],completionMessage:"Contact added successfully! "},{id:"add-company-to-list",name:"Add a Company to Contact List",description:"Add all contacts from a company to your list",emoji:"",steps:[],completionMessage:"Company contacts added! "},{id:"add-all-from-search",name:"Add All Eligible from Search List",description:"Bulk add contacts from your search results",emoji:"",steps:[],completionMessage:"All eligible contacts added! "}]},{id:"tinkering-contact-lists",name:"Tinkering with Contact Lists",description:"Advanced contact list management techniques.",emoji:"",challenges:[{id:"manual-typing",name:"Add Contacts with Manual Typing",description:"Manually enter contact information",emoji:"",steps:[],completionMessage:"Contact added manually! "},{id:"remove-contact",name:"Remove a Contact from a Contact List",description:"Learn how to remove contacts from your lists",emoji:"",steps:[],completionMessage:"Contact removed successfully! "},{id:"copy-paste-csv",name:"Copy and Paste CSV",description:"Import contacts by pasting CSV data",emoji:"",steps:[],completionMessage:"Contacts imported from CSV! "},{id:"export-to-csv",name:"Export List to CSV",description:"Export your contact list for external use",emoji:"",steps:[],completionMessage:"List exported successfully! "}]},{id:"connect-gmail-api",name:"Connect Gmail API",description:"Connect your Gmail account for seamless email sending.",emoji:"",challenges:[]},{id:"email-templates-merge-fields",name:"Email Templates with Merge-Fields",description:"Create reusable email templates with dynamic personalization.",emoji:"",challenges:[]},{id:"schedule-campaign",name:"Schedule a Campaign",description:"Plan and schedule your email campaigns for optimal timing.",emoji:"",challenges:[]},{id:"ai-each-unique-campaign",name:'Create AI "Each Unique" Campaign',description:"Launch an AI-powered campaign with unique emails for each contact.",emoji:"",challenges:[]}];function hJ(a){return hI.find(b=>b.id===a)}function hK(a){let b=hI.findIndex(b=>b.id===a);if(b>=0&&b<hI.length-1)return hI[b+1]}function hL(a){return hI.find(b=>!a.includes(b.id)&&b.challenges.some(a=>a.steps.length>0))}a.s(["QUESTS",0,hI,"getFirstIncompleteQuest",()=>hL,"getNextQuest",()=>hK,"getQuestById",()=>hJ],74823);var hM=a.i(74642);let hN={isRecording:!1,selectedQuestId:null,startRoute:null,steps:[],includeVideo:!1,videoBlob:null,videoStartTime:null,videoUploadId:null,videoUploadStatus:"idle"},hO="fluffy-guidance-progress",hP={isActive:!1,currentQuestId:null,currentChallengeIndex:0,currentStepIndex:0,completedQuests:[],completedChallenges:{},isHeaderVisible:!1,playbackMode:"guide"};function hQ(){try{let a=localStorage.getItem(hO);if(a)return{...hP,...JSON.parse(a)}}catch(a){console.error("Failed to load guidance progress:",a)}return hP}async function hR(){try{return await hM.queryClient.fetchQuery({queryKey:["/api/guidance/progress"],queryFn:(0,hM.getQueryFn)({on401:"returnNull"}),staleTime:3e4})}catch(a){return console.error("[GuidanceEngine] Failed to fetch server guidance progress:",a),null}}async function hS(a){let b=localStorage.getItem("authToken"),c={completedQuests:a.completedQuests,completedChallenges:a.completedChallenges,currentQuestId:a.currentQuestId};try{let a={"Content-Type":"application/json"};b&&(a.Authorization=`Bearer ${b}`);let d=await fetch("/api/guidance/progress",{method:"PATCH",headers:a,credentials:"include",body:JSON.stringify(c)});if(!d.ok){let a=await d.text();console.error("[GuidanceEngine] Sync failed:",d.status,a)}}catch(a){console.error("[GuidanceEngine] Failed to sync guidance progress to server:",a)}}let hT="__test__";function hU(a){let{authReady:b,userId:c}=a,[d,e]=(0,i.useState)(hQ),[f,g]=(0,i.useState)(!1),h=(0,i.useRef)(null),j=(0,i.useRef)(null),[k,l]=(0,i.useState)(null),m=(0,i.useRef)(null),[n,o]=(0,i.useState)(hN),p=(0,i.useRef)(!1),[r,s]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(b)if("requestIdleCallback"in window){let b=requestIdleCallback(()=>a(),{timeout:2e3});return()=>cancelIdleCallback(b)}else{let b=setTimeout(()=>a(),100);return()=>clearTimeout(b)}async function a(){let a=await hR();a&&e(b=>({...b,completedQuests:a.completedQuests||b.completedQuests,completedChallenges:a.completedChallenges||b.completedChallenges,currentQuestId:a.currentQuestId??b.currentQuestId})),g(!0),j.current=c}},[b,c]),(0,i.useEffect)(()=>{b&&f&&j.current!==c&&(j.current=c,a());async function a(){let a=await hR();a&&e(b=>({...b,completedQuests:a.completedQuests||b.completedQuests,completedChallenges:a.completedChallenges||b.completedChallenges,currentQuestId:a.currentQuestId??b.currentQuestId}))}},[b,f,c]),(0,i.useEffect)(()=>{if(d.currentQuestId!==hT){try{let a={completedQuests:d.completedQuests,completedChallenges:d.completedChallenges,currentQuestId:d.currentQuestId};localStorage.setItem(hO,JSON.stringify(a))}catch(a){console.error("Failed to save guidance progress:",a)}if(f&&b)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{hS(d)},1e3),()=>{h.current&&clearTimeout(h.current)}}},[d,f,b,c]);let t=d.currentQuestId===hT,u=(0,i.useMemo)(()=>!d.currentQuestId||t?null:hJ(d.currentQuestId)||null,[d.currentQuestId,t]),v=(0,i.useMemo)(()=>t?k:u&&u.challenges[d.currentChallengeIndex]||null,[u,d.currentChallengeIndex,t,k]),w=(0,i.useMemo)(()=>v&&v.steps[d.currentStepIndex]||null,[v,d.currentStepIndex]),x=(0,i.useCallback)((a,b="guide")=>{let c=hJ(a);if(!c)return;let f=d.completedChallenges[a]||[],g=c.challenges.findIndex(a=>!f.includes(a.id)&&a.steps.length>0);if(g<0)return;let h="show"===b?-1:0;e(c=>({...c,isActive:!0,currentQuestId:a,currentChallengeIndex:g,currentStepIndex:h,isHeaderVisible:!0,playbackMode:b}))},[d.completedChallenges]),y=(0,i.useCallback)(()=>{if(!u){let a=hL(d.completedQuests);a&&x(a.id);return}let a=d.completedChallenges[u.id]||[],b=u.challenges.findIndex((b,c)=>c>d.currentChallengeIndex&&b.steps.length>0&&!a.includes(b.id));b>=0?e(a=>({...a,isActive:!0,currentChallengeIndex:b,currentStepIndex:0,isHeaderVisible:!0})):e(a=>({...a,completedQuests:[...a.completedQuests,u.id],currentQuestId:null,currentChallengeIndex:0,currentStepIndex:0,isActive:!1}))},[u,d.currentChallengeIndex,d.completedQuests,d.completedChallenges,x]),z=(0,i.useCallback)(()=>{if(!v)return;let a=d.currentStepIndex+1;if(a<v.steps.length)e(b=>({...b,currentStepIndex:a}));else if("show"===d.playbackMode)e(a=>({...a,isActive:!1}));else{let a=d.currentQuestId;if(a){let b=d.completedChallenges[a]||[];e(c=>({...c,completedChallenges:{...c.completedChallenges,[a]:[...b,v.id]},isActive:!1}))}}},[v,d.currentStepIndex,d.currentQuestId,d.completedChallenges,d.playbackMode]),A=(0,i.useCallback)(()=>{d.currentStepIndex>0&&e(a=>({...a,currentStepIndex:a.currentStepIndex-1}))},[d.currentStepIndex]),B=(0,i.useCallback)(()=>{if(!v||!d.currentQuestId)return;let a=d.completedChallenges[d.currentQuestId]||[];e(b=>({...b,completedChallenges:{...b.completedChallenges,[d.currentQuestId]:[...a,v.id]},isActive:!1,currentStepIndex:0}))},[v,d.currentQuestId,d.completedChallenges]),C=(0,i.useCallback)(()=>{e(a=>({...a,isActive:!1}))},[]),D=(0,i.useCallback)(()=>{if(d.currentQuestId)e(a=>({...a,isActive:!0,isHeaderVisible:!0}));else{let a=hL(d.completedQuests);a&&x(a.id)}},[d.currentQuestId,d.completedQuests,x]),E=(0,i.useCallback)(()=>{e(a=>({...a,isHeaderVisible:!a.isHeaderVisible}))},[]),F=(0,i.useCallback)(()=>{e(hP),localStorage.removeItem(hO),hS(hP)},[]),G=(0,i.useCallback)((a,b,c="guide")=>{let f=hJ(a);if(!f)return;let g=f.challenges[b];if(!g||0===g.steps.length)return;let h=(d.completedChallenges[a]||[]).filter(a=>a!==g.id),i="show"===c?-1:0;e(d=>({...d,isActive:!0,currentQuestId:a,currentChallengeIndex:b,currentStepIndex:i,isHeaderVisible:!0,playbackMode:c,completedChallenges:{...d.completedChallenges,[a]:h}}))},[d.completedChallenges]),H=(0,i.useCallback)(()=>u?{completed:(d.completedChallenges[u.id]||[]).length,total:u.challenges.length}:{completed:0,total:0},[u,d.completedChallenges]),I=(0,i.useCallback)(()=>({completed:d.completedQuests.length,total:hI.length}),[d.completedQuests]),J=(0,i.useCallback)((a,b,c="guide")=>{l(a),m.current=b||null,e(a=>({...a,isActive:!0,currentQuestId:hT,currentChallengeIndex:0,currentStepIndex:0,isHeaderVisible:!0,playbackMode:c}))},[]),K=(0,i.useCallback)(()=>{l(null),m.current=null,e(a=>({...a,isActive:!1,currentQuestId:null,currentChallengeIndex:0,currentStepIndex:0}))},[]);(0,i.useEffect)(()=>{if(!n.isRecording){p.current=!1;return}p.current=!0;let a=a=>{if(!p.current)return;let b=a.target;if(b.closest("[data-recorder-ui]"))return;let c=q(b),d={selector:c.selector,contentMatch:c.contentMatch,action:"click",tagName:b.tagName.toLowerCase(),textContent:function(a){let b=a.getAttribute("aria-label");if(b)return b;let c=a.textContent?.trim().slice(0,50);if(c)return c;if(a.getAttribute("placeholder"))return a.getAttribute("placeholder")||"";let d=a.getAttribute("title");return d||a.tagName.toLowerCase()}(b),route:window.location.pathname,timestamp:Date.now()};o(a=>({...a,steps:[...a.steps,d]}))},b=a=>{if(!p.current)return;let b=a.target;if(!b.tagName||!["INPUT","TEXTAREA"].includes(b.tagName)||b.closest("[data-recorder-ui]"))return;let c=q(b);o(a=>{let d=a.steps[a.steps.length-1];if(d&&d.selector===c.selector&&"type"===d.action){let c=[...a.steps];return c[c.length-1]={...d,typedValue:b.value},{...a,steps:c}}return{...a,steps:[...a.steps,{selector:c.selector,contentMatch:c.contentMatch,action:"type",tagName:b.tagName.toLowerCase(),textContent:b.placeholder||"input field",typedValue:b.value,route:window.location.pathname,timestamp:Date.now()}]}})};return document.addEventListener("click",a,!0),document.addEventListener("input",b,!0),()=>{document.removeEventListener("click",a,!0),document.removeEventListener("input",b,!0)}},[n.isRecording]);let L=(0,i.useCallback)((a,b,c=!1)=>{o({isRecording:!0,selectedQuestId:a,startRoute:b,steps:[],includeVideo:c,videoBlob:null,videoStartTime:c?Date.now():null,videoUploadId:null,videoUploadStatus:"idle"})},[]),M=(0,i.useCallback)(()=>{let a=n.steps;return o(a=>({...a,isRecording:!1})),a},[n.steps]),N=(0,i.useCallback)(()=>{o(hN)},[]),O=(0,i.useCallback)(a=>{o(b=>({...b,videoBlob:a}))},[]),P=(0,i.useCallback)((a,b)=>{o(c=>({...c,videoUploadStatus:a,videoUploadId:void 0!==b?b:c.videoUploadId}))},[]),Q=(0,i.useCallback)(a=>{e(b=>({...b,playbackMode:a}))},[]),R=(0,i.useCallback)(async a=>{},[]);return(0,i.useEffect)(()=>{if(t&&!d.isActive&&k){let a=m.current;l(null),m.current=null,e(a=>({...a,currentQuestId:null})),a&&setTimeout(a,100)}},[t,d.isActive,k]),{state:d,currentQuest:u,currentChallenge:v,currentStep:w,startQuest:x,startNextChallenge:y,advanceStep:z,previousStep:A,completeChallenge:B,pauseGuidance:C,resumeGuidance:D,toggleHeader:E,resetProgress:F,restartChallenge:G,getChallengeProgress:H,getQuestProgress:I,startChallenge:J,stopChallenge:K,isTestMode:t,setPlaybackMode:Q,videoTimestamps:r,setVideoTimestamps:s,recording:n,startRecording:L,stopRecording:M,clearRecording:N,setVideoBlob:O,setVideoUploadStatus:P,refreshChallengeVideo:R}}a.s(["useGuidanceEngine",()=>hU],28593);var hV=a.i(46552),hW=a.i(38246),hX=a.i(50429);function hY({questName:a,challengesCompleted:b,totalChallenges:c,currentChallengeName:d,isVisible:e,onClose:f}){let g=b/c*100,[j,k]=(0,i.useState)(!1),l=(0,i.useRef)(null),m=(0,i.useRef)(!1),n=(0,i.useCallback)(()=>{l.current&&(clearTimeout(l.current),l.current=null)},[]),o=(0,i.useCallback)(a=>{n(),l.current=setTimeout(()=>{m.current||k(!1)},a)},[n]),p=(0,i.useCallback)(()=>{m.current=!0,n(),k(!0)},[n]),q=(0,i.useCallback)(()=>{m.current=!1,o(1500)},[o]),r=(0,i.useCallback)(()=>{j?(n(),k(!1)):(k(!0),o(2e3))},[j,o,n]);return(0,h.jsx)(fk,{children:e&&(0,h.jsx)(fc.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 right-0 z-50 flex justify-center pointer-events-none","data-testid":"quest-progress-header","data-recorder-ui":"true",children:(0,h.jsx)(fc.div,{onMouseEnter:p,onMouseLeave:q,onClick:r,animate:{width:j?"100%":"auto"},transition:{duration:.25,ease:"easeInOut"},className:"pointer-events-auto bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 border-b border-yellow-500/30 shadow-lg cursor-pointer",style:{borderBottomLeftRadius:8*!j,borderBottomRightRadius:8*!j},children:(0,h.jsx)(fk,{mode:"wait",children:j?(0,h.jsxs)(fc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"max-w-screen-xl mx-auto px-4 py-2 flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,h.jsxs)(hW.default,{href:"/quests",className:"flex items-center gap-2 hover:opacity-80 transition-opacity cursor-pointer",onClick:a=>a.stopPropagation(),children:[(0,h.jsx)(fs,{className:"h-4 w-4 text-yellow-500"}),(0,h.jsx)("span",{className:"text-sm font-medium text-yellow-400 hidden sm:inline",children:a})]}),(0,h.jsx)("div",{className:"h-4 w-px bg-gray-600"}),(0,h.jsxs)(hW.default,{href:"/quests",className:"flex items-center gap-2 min-w-0 flex-1 hover:opacity-80 transition-opacity cursor-pointer",onClick:a=>a.stopPropagation(),children:[(0,h.jsx)(hX.Target,{className:"h-4 w-4 text-gray-400 flex-shrink-0 hidden sm:block"}),(0,h.jsx)("span",{className:"text-xs text-gray-300 truncate",children:d||"Ready for next challenge"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("div",{className:"w-16 sm:w-32 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,h.jsx)(fc.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-amber-400 rounded-full",initial:{width:0},animate:{width:`${g}%`},transition:{duration:.5,ease:"easeOut"}})}),(0,h.jsxs)("span",{className:"text-xs text-gray-400",children:[b,"/",c]})]}),(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),f()},className:"text-gray-400 hover:text-white transition-colors p-1","data-testid":"close-quest-header",children:(0,h.jsx)(fn.X,{className:"h-4 w-4"})})]})]},"expanded"):(0,h.jsxs)(fc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"px-3 py-1.5 flex items-center gap-2",children:[(0,h.jsx)("div",{className:"w-24 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,h.jsx)(fc.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-amber-400 rounded-full",initial:{width:0},animate:{width:`${g}%`},transition:{duration:.5,ease:"easeOut"}})}),(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),f()},className:"text-gray-500 hover:text-white transition-colors","data-testid":"close-quest-header-compressed",children:(0,h.jsx)(fn.X,{className:"h-3.5 w-3.5"})})]},"compressed")})})})})}var hZ=a.i(72089),h$={};!function a(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=!!(b.Worker&&b.Blob&&b.Promise&&b.OffscreenCanvas&&b.OffscreenCanvasRenderingContext2D&&b.HTMLCanvasElement&&b.HTMLCanvasElement.prototype.transferControlToOffscreen&&b.URL&&b.URL.createObjectURL),r="function"==typeof Path2D&&"function"==typeof DOMMatrix;function s(){}function t(a){var d=c.exports.Promise,e=void 0!==d?d:b.Promise;return"function"==typeof e?new e(a):(a(s,s),null)}var u=(f=function(){if(!b.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),c=a.getContext("2d");c.fillRect(0,0,1,1);var d=a.transferToImageBitmap();try{c.createPattern(d,"no-repeat")}catch(a){return!1}return!0}(),g=new Map,{transform:function(a){if(f)return a;if(g.has(a))return g.get(a);var b=new OffscreenCanvas(a.width,a.height);return b.getContext("2d").drawImage(a,0,0),g.set(a,b),b},clear:function(){g.clear()}}),v=(j=Math.floor(1e3/60),k={},l=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(h=function(a){var b=Math.random();return k[b]=requestAnimationFrame(function c(d){l===d||l+j-1<d?(l=d,delete k[b],a()):k[b]=requestAnimationFrame(c)}),b},i=function(a){k[a]&&cancelAnimationFrame(k[a])}):(h=function(a){return setTimeout(a,j)},i=function(a){return clearTimeout(a)}),{frame:h,cancel:i}),w=(o={},function(){if(m)return m;if(!d&&q){var b=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {\n  if (msg.data.options) {\n    CONFETTI(msg.data.options).then(function () {\n      if (msg.data.callback) {\n        postMessage({ callback: msg.data.callback });\n      }\n    });\n  } else if (msg.data.reset) {\n    CONFETTI && CONFETTI.reset();\n  } else if (msg.data.resize) {\n    SIZE.width = msg.data.resize.width;\n    SIZE.height = msg.data.resize.height;\n  } else if (msg.data.canvas) {\n    SIZE.width = msg.data.canvas.width;\n    SIZE.height = msg.data.canvas.height;\n    CONFETTI = module.exports.create(msg.data.canvas);\n  }\n}"].join("\n");try{m=new Worker(URL.createObjectURL(new Blob([b])))}catch(a){return"function"==typeof console.warn&&console.warn(" Could not load worker",a),null}var c=m;function e(a,b){c.postMessage({options:a||{},callback:b})}c.init=function(a){var b=a.transferControlToOffscreen();c.postMessage({canvas:b},[b])},c.fire=function(a,b,d){if(n)return e(a,null),n;var f=Math.random().toString(36).slice(2);return n=t(function(b){function g(a){a.data.callback===f&&(delete o[f],c.removeEventListener("message",g),n=null,u.clear(),d(),b())}c.addEventListener("message",g),e(a,f),o[f]=g.bind(null,{data:{callback:f}})})},c.reset=function(){for(var a in c.postMessage({reset:!0}),o)o[a](),delete o[a]}}return m}),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(a,b,c){var d;return d=a&&null!=a[b]?a[b]:x[b],c?c(d):d}function z(a){return a<0?0:Math.floor(a)}function A(a){return parseInt(a,16)}function B(a){return a.map(C)}function C(a){var b=String(a).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:A(b.substring(0,2)),g:A(b.substring(2,4)),b:A(b.substring(4,6))}}function D(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function E(a){var b=a.getBoundingClientRect();a.width=b.width,a.height=b.height}function F(a,c){var f,g=!a,h=!!y(c||{},"resize"),i=!1,j=y(c,"disableForReducedMotion",Boolean),k=q&&y(c||{},"useWorker")?w():null,l=g?D:E,m=!!a&&!!k&&!!a.__confetti_initialized,n="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function o(c){var o,p=j||y(c,"disableForReducedMotion",Boolean),q=y(c,"zIndex",Number);if(p&&n)return t(function(a){a()});g&&f?a=f.canvas:g&&!a&&((o=document.createElement("canvas")).style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=q,a=o,document.body.appendChild(a)),h&&!m&&l(a);var s={width:a.width,height:a.height};function w(){if(k){var b={getBoundingClientRect:function(){if(!g)return a.getBoundingClientRect()}};l(b),k.postMessage({resize:{width:b.width,height:b.height}});return}s.width=s.height=null}function x(){f=null,h&&(i=!1,b.removeEventListener("resize",w)),g&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,m=!1)}return(k&&!m&&k.init(a),m=!0,k&&(a.__confetti_initialized=!0),h&&!i&&(i=!0,b.addEventListener("resize",w,!1)),k)?k.fire(c,s,x):function(b,c,g){for(var h,i,j,k,m,n,o,p=y(b,"particleCount",z),q=y(b,"angle",Number),s=y(b,"spread",Number),w=y(b,"startVelocity",Number),x=y(b,"decay",Number),A=y(b,"gravity",Number),C=y(b,"drift",Number),D=y(b,"colors",B),E=y(b,"ticks",Number),F=y(b,"shapes"),G=y(b,"scalar"),H=!!y(b,"flat"),I=((h=y(b,"origin",Object)).x=y(h,"x",Number),h.y=y(h,"y",Number),h),J=p,K=[],L=a.width*I.x,M=a.height*I.y;J--;)K.push(function(a){var b=a.angle*(Math.PI/180),c=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*a.startVelocity+Math.random()*a.startVelocity,angle2D:-b+(.5*c-Math.random()*c),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*a.gravity,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}({x:L,y:M,angle:q,spread:s,startVelocity:w,color:D[J%D.length],shape:F[Math.floor(Math.random()*(F.length-0))+0],ticks:E,decay:x,gravity:A,drift:C,scalar:G,flat:H}));return f?f.addFettis(K):(i=a,m=K.slice(),n=i.getContext("2d"),o=t(function(a){function b(){j=k=null,n.clearRect(0,0,c.width,c.height),u.clear(),g(),a()}j=v.frame(function a(){d&&(c.width!==e.width||c.height!==e.height)&&(c.width=i.width=e.width,c.height=i.height=e.height),c.width||c.height||(l(i),c.width=i.width,c.height=i.height),n.clearRect(0,0,c.width,c.height),(m=m.filter(function(a){return function(a,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t=b.tick++/b.totalTicks,v=b.x+b.random*b.tiltCos,w=b.y+b.random*b.tiltSin,x=b.wobbleX+b.random*b.tiltCos,y=b.wobbleY+b.random*b.tiltSin;if(a.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-t)+")",a.beginPath(),r&&"path"===b.shape.type&&"string"==typeof b.shape.path&&Array.isArray(b.shape.matrix)){a.fill((c=b.shape.path,d=b.shape.matrix,e=b.x,f=b.y,g=.1*Math.abs(x-v),h=.1*Math.abs(y-w),i=Math.PI/10*b.wobble,j=new Path2D(c),(k=new Path2D).addPath(j,new DOMMatrix(d)),(l=new Path2D).addPath(k,new DOMMatrix([Math.cos(i)*g,Math.sin(i)*g,-Math.sin(i)*h,Math.cos(i)*h,e,f])),l))}else if("bitmap"===b.shape.type){var z=Math.PI/10*b.wobble,A=.1*Math.abs(x-v),B=.1*Math.abs(y-w),C=b.shape.bitmap.width*b.scalar,D=b.shape.bitmap.height*b.scalar,E=new DOMMatrix([Math.cos(z)*A,Math.sin(z)*A,-Math.sin(z)*B,Math.cos(z)*B,b.x,b.y]);E.multiplySelf(new DOMMatrix(b.shape.matrix));var F=a.createPattern(u.transform(b.shape.bitmap),"no-repeat");F.setTransform(E),a.globalAlpha=1-t,a.fillStyle=F,a.fillRect(b.x-C/2,b.y-D/2,C,D),a.globalAlpha=1}else if("circle"===b.shape)a.ellipse?a.ellipse(b.x,b.y,Math.abs(x-v)*b.ovalScalar,Math.abs(y-w)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):(m=b.x,n=b.y,o=Math.abs(x-v)*b.ovalScalar,p=Math.abs(y-w)*b.ovalScalar,q=Math.PI/10*b.wobble,s=2*Math.PI,a.save(),a.translate(m,n),a.rotate(q),a.scale(o,p),a.arc(0,0,1,0,s,void 0),a.restore());else if("star"===b.shape)for(var G=Math.PI/2*3,H=4*b.scalar,I=8*b.scalar,J=b.x,K=b.y,L=5,M=Math.PI/5;L--;)J=b.x+Math.cos(G)*I,K=b.y+Math.sin(G)*I,a.lineTo(J,K),G+=M,J=b.x+Math.cos(G)*H,K=b.y+Math.sin(G)*H,a.lineTo(J,K),G+=M;else a.moveTo(Math.floor(b.x),Math.floor(b.y)),a.lineTo(Math.floor(b.wobbleX),Math.floor(w)),a.lineTo(Math.floor(x),Math.floor(y)),a.lineTo(Math.floor(v),Math.floor(b.wobbleY));return a.closePath(),a.fill(),b.tick<b.totalTicks}(n,a)})).length?j=v.frame(a):b()}),k=b}),(f={addFettis:function(a){return m=m.concat(a),o},canvas:i,promise:o,reset:function(){j&&v.cancel(j),k&&k()}}).promise)}(c,s,x)}return o.reset=function(){k&&k.reset(),f&&f.reset()},o}function G(){return p||(p=F(null,{useWorker:!0,resize:!0})),p}c.exports=function(){return G().apply(this,arguments)},c.exports.reset=function(){G().reset()},c.exports.create=F,c.exports.shapeFromPath=function(a){if(!r)throw Error("path confetti are not supported in this browser");"string"==typeof a?d=a:(d=a.path,e=a.matrix);var b=new Path2D(d),c=document.createElement("canvas").getContext("2d");if(!e){for(var d,e,f,g,h=1e3,i=1e3,j=0,k=0,l=0;l<1e3;l+=2)for(var m=0;m<1e3;m+=2)c.isPointInPath(b,l,m,"nonzero")&&(h=Math.min(h,l),i=Math.min(i,m),j=Math.max(j,l),k=Math.max(k,m));f=j-h;var n=Math.min(10/f,10/(g=k-i));e=[n,0,0,n,-Math.round(f/2+h)*n,-Math.round(g/2+i)*n]}return{type:"path",path:d,matrix:e}},c.exports.shapeFromText=function(a){var b,c=1,d="#000000",e='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof a?b=a:(b=a.text,c="scalar"in a?a.scalar:c,e="fontFamily"in a?a.fontFamily:e,d="color"in a?a.color:d);var f=10*c,g=""+f+"px "+e,h=new OffscreenCanvas(f,f),i=h.getContext("2d");i.font=g;var j=i.measureText(b),k=Math.ceil(j.actualBoundingBoxRight+j.actualBoundingBoxLeft),l=Math.ceil(j.actualBoundingBoxAscent+j.actualBoundingBoxDescent),m=j.actualBoundingBoxLeft+2,n=j.actualBoundingBoxAscent+2;k+=4,l+=4,(i=(h=new OffscreenCanvas(k,l)).getContext("2d")).font=g,i.fillStyle=d,i.fillText(b,m,n);var o=1/c;return{type:"bitmap",bitmap:h.transferToImageBitmap(),matrix:[o,0,0,o,-k*o/2,-l*o/2]}}}(function(){return"u">typeof self?self:this||{}}(),h$,!1);let h_=h$.exports;h$.exports.create;let h0=["#fbbf24","#f59e0b","#d97706"],h1=[{size:32,delay:0,offsetX:0,offsetY:0},{size:24,delay:70,offsetX:-10,offsetY:8},{size:18,delay:140,offsetX:10,offsetY:-6}],h2=[0,200,500];function h3({duration:a=5e3,onComplete:b,isPaused:c=!1,isVisible:d=!0,showCountdown:e=!0,countdownLabel:f="Closing in",className:g=""}){let[j,k]=(0,i.useState)(a),l=(0,i.useRef)(a),m=(0,i.useRef)(0),n=(0,i.useRef)(null),o=(0,i.useRef)(null),p=(0,i.useRef)(b);p.current=b;let q=(0,i.useCallback)(()=>{n.current&&(clearTimeout(n.current),n.current=null),o.current&&(clearInterval(o.current),o.current=null)},[]);if((0,i.useEffect)(()=>{d&&(k(a),l.current=a)},[d,a]),(0,i.useEffect)(()=>{if(!d)return void q();if(c){if(m.current>0){let a=Date.now()-m.current,b=Math.max(0,l.current-a);l.current=b,k(b)}q();return}return m.current=Date.now(),n.current=setTimeout(()=>{p.current()},l.current),o.current=setInterval(()=>{let a=Date.now()-m.current;k(Math.max(0,l.current-a))},50),q},[d,c,q]),!d)return null;let r=j/a*100,s=Math.ceil(j/1e3);return(0,h.jsxs)("div",{className:`w-full ${g}`,children:[e&&(0,h.jsxs)("p",{className:"text-xs text-gray-400 text-center mb-2",children:[f," ",s,"..."]}),(0,h.jsx)("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,h.jsx)("div",{className:"h-full bg-gradient-to-r from-amber-400 to-yellow-500 rounded-full",style:{width:`${r}%`}})})]})}function h4({isVisible:a,challengeName:b,message:c,creditsAwarded:d,onContinue:e,onDismiss:f}){let g=(0,i.useRef)(null),[k,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(a&&(function(a,b,c,d=.7){let e=Date.now()+450,f=()=>{h_({particleCount:2,angle:60,spread:55,origin:{x:0,y:d},colors:c}),h_({particleCount:2,angle:120,spread:55,origin:{x:1,y:d},colors:c}),Date.now()<e&&requestAnimationFrame(f)};f()}(450,2,h0,.7),d&&d>0)){let a=setTimeout(()=>{!function(a,b={}){new Promise(c=>{let{targetElement:d=document.querySelector("[data-credits-target]"),onComplete:e,bounce:f=!0,playSound:g=!0}=b;if(!a){console.warn("[SparkleTrail] No source element provided"),c();return}if(!d){console.warn("[SparkleTrail] No target element found. Add data-credits-target to the credits display."),c();return}let h=a.getBoundingClientRect(),i=d.getBoundingClientRect(),j=h.left+h.width/2,k=h.top+h.height/2,l=i.left+i.width/2,m=i.top+i.height/2;g&&function(){try{let a=new(window.AudioContext||window.webkitAudioContext),b=(b,c,d,e)=>{let f=a.createOscillator(),g=a.createGain();f.connect(g),g.connect(a.destination),f.type="sine",f.frequency.setValueAtTime(b,c),g.gain.setValueAtTime(0,c),g.gain.linearRampToValueAtTime(e,c+.02),g.gain.exponentialRampToValueAtTime(.01,c+d),f.start(c),f.stop(c+d)},c=a.currentTime;b(880,c,.15,.04),b(1100,c+.08,.12,.035),b(1320,c+.15,.2,.03)}catch(a){console.debug("[SparkleTrail] Audio not available")}}();let n=h2.length-1;h2.forEach((a,b)=>{setTimeout(()=>{h1.forEach((a,b)=>{setTimeout(()=>{let c,d=((c=document.createElement("div")).style.cssText=`
    position: fixed;
    left: ${j+a.offsetX}px;
    top: ${k+a.offsetY}px;
    width: ${a.size}px;
    height: ${a.size}px;
    background: radial-gradient(circle,
      rgba(255,255,255,1) 0%,
      rgba(255,223,0,0.8) 30%,
      rgba(255,180,0,0.5) 50%,
      transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: ${10001-b};
    box-shadow: 0 0 ${.6*a.size}px rgba(255,215,0,0.8),
                0 0 ${1.2*a.size}px rgba(255,180,0,0.5),
                0 0 ${2*a.size}px rgba(255,150,0,0.3);
    transition: left 1100ms cubic-bezier(0.25, 0.1, 0.25, 1),
                top 1100ms cubic-bezier(0.25, 0.1, 0.25, 1),
                transform 1100ms ease-out,
                opacity 1100ms ease-out;
  `,c);document.body.appendChild(d),requestAnimationFrame(()=>{d.style.left=`${l}px`,d.style.top=`${m}px`,d.style.transform="scale(0.4)",d.style.opacity="0"}),setTimeout(()=>{d.remove()},1150)},a.delay)}),f&&b===n&&d&&setTimeout(()=>{let a,b;a=d.style.transition,b=d.style.transform,d.style.transition="transform 0.2s ease-out",d.style.transform="scale(1.2)",setTimeout(()=>{d.style.transform=b||"scale(1)",setTimeout(()=>{d.style.transition=a},200)},200)},1100)},a)}),setTimeout(()=>{e?.(),c()},1100+h2[h2.length-1]+250)})}(g.current)},800);return()=>clearTimeout(a)}},[a,d]),(0,j.createPortal)((0,h.jsx)(fk,{children:a&&(0,h.jsx)(fc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:f,"data-recorder-ui":"true",children:(0,h.jsxs)(fc.div,{initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.5,opacity:0,y:50},transition:{type:"spring",stiffness:300,damping:25},className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 max-w-md mx-4 text-center border border-yellow-500/30 shadow-2xl",onClick:a=>a.stopPropagation(),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[(0,h.jsx)(fc.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.2,duration:.5},className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center shadow-lg",children:(0,h.jsx)(fs,{className:"h-10 w-10 text-white"})}),(0,h.jsx)(fc.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-white mb-2",children:"Challenge Complete!"}),(0,h.jsx)(fc.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-yellow-400 font-medium mb-3",children:b}),c&&(0,h.jsx)(fc.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-gray-300 text-sm mb-4",children:c}),d&&d>0&&(0,h.jsxs)(fc.div,{ref:g,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.55,type:"spring",stiffness:400,damping:20},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-amber-500/20 to-yellow-500/20 border border-amber-500/30 rounded-full px-4 py-2 mb-6","data-testid":"credits-badge",children:[(0,h.jsx)(hZ.Coins,{className:"h-5 w-5 text-amber-400"}),(0,h.jsxs)("span",{className:"text-amber-400 font-semibold",children:["+",d," Credits Earned!"]})]}),(0,h.jsxs)(fc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex gap-3 justify-center",children:[(0,h.jsx)(gj.Button,{variant:"ghost",onClick:f,className:"text-gray-400 hover:text-white",children:"Dismiss"}),(0,h.jsxs)(gj.Button,{onClick:e,className:"bg-gradient-to-r from-yellow-500 to-amber-500 text-white hover:from-yellow-600 hover:to-amber-600",children:["Next Challenge ",(0,h.jsx)(fm.ChevronRight,{className:"h-4 w-4 ml-1"})]})]}),(0,h.jsx)(fc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-6",children:(0,h.jsx)(h3,{duration:5e3,onComplete:f,isPaused:k,isVisible:a,showCountdown:!0,countdownLabel:"Closing in"})})]})})}),document.body)}let h5=(0,fr.default)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var h6=a.i(92e3);function h7({stream:a,isRecording:b,error:c,onRetry:d,className:e}){let f=(0,i.useRef)(null),[g,j]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{f.current&&a&&(f.current.srcObject=a,j(!0))},[a]),c)?(0,h.jsxs)("div",{className:"relative w-[200px] h-[130px] rounded-lg overflow-hidden bg-gray-800 flex flex-col items-center justify-center p-2",children:[(0,h.jsx)(h6.AlertCircle,{className:"w-6 h-6 text-red-400 mb-2"}),(0,h.jsx)("p",{className:"text-xs text-gray-300 text-center mb-2",children:"Camera access denied"}),d&&(0,h.jsx)(gj.Button,{size:"sm",variant:"outline",onClick:d,className:"text-xs",children:"Retry"})]}):a?(0,h.jsxs)("div",{className:`relative rounded-lg overflow-hidden bg-black shadow-lg ${e||"w-[200px] h-[130px]"}`,children:[(0,h.jsx)("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]"}),b&&(0,h.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1.5",children:[(0,h.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500 animate-pulse"}),(0,h.jsx)("span",{className:"text-xs text-white font-medium",children:"REC"})]}),!g&&(0,h.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:(0,h.jsx)("div",{className:"w-6 h-6 border-2 border-amber-400 border-t-transparent rounded-full animate-spin"})})]}):(0,h.jsx)("div",{className:"relative w-[200px] h-[130px] rounded-lg overflow-hidden bg-gray-800 flex items-center justify-center",children:(0,h.jsx)(h5,{className:"w-8 h-8 text-gray-500"})})}let h8=(0,fr.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),h9=(0,fr.default)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var ia=a.i(76270),ib=a.i(34044);let ic=(0,fr.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var id=a.i(87654);function ie({videoUrl:a,isVisible:b,onClose:c,position:d="bottom-right",size:e="small",onTimeUpdate:f,onPlayStateChange:g,canAutoPlay:j=!0}){let k=(0,i.useRef)(null),l=(0,i.useRef)(null),[m,n]=(0,i.useState)(!1),[o,p]=(0,i.useState)(!1),[q,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)(!1),[u,v]=(0,i.useState)(!1),[w,x]=(0,i.useState)(!1),[y,z]=(0,i.useState)(!1),[A,B]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{a&&k.current&&(r(!1),t(!1),z(!1),x(!1),k.current.load())},[a]),(0,i.useEffect)(()=>{if(b&&k.current&&q&&!s&&j){let a=Date.now();console.log(`[TIMING ${a}] VideoPlayer AUTO-PLAY starting - canAutoPlay: ${j}, currentTime: ${k.current.currentTime}s`),k.current.play().catch(console.error),x(!0)}},[b,q,s,j]),a&&b)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{ref:l,className:"fixed inset-0 pointer-events-none z-40"}),(0,h.jsx)(fk,{children:(0,h.jsx)(fc.div,{drag:!0,dragConstraints:l,dragElastic:.1,dragMomentum:!1,onDragStart:()=>v(!0),onDragEnd:()=>v(!1),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`fixed ${{"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"}[d]} z-50 ${u?"cursor-grabbing":"cursor-grab"}`,whileDrag:{scale:1.05},children:(0,h.jsxs)("div",{className:`relative ${{small:o?"w-14 h-20":"w-32 h-48",medium:o?"w-16 h-24":"w-44 h-64",large:o?"w-20 h-28":"w-56 h-80"}[e]} transition-all duration-300 ease-out`,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[(0,h.jsx)("div",{className:"absolute inset-0 rounded-xl overflow-hidden shadow-2xl ring-2 ring-amber-400/30",children:s?(0,h.jsx)("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:(0,h.jsx)("span",{className:"text-xs text-gray-500",children:"Video unavailable"})}):(0,h.jsx)("video",{ref:k,className:"w-full h-full object-cover",src:a,muted:m,playsInline:!0,onLoadedData:()=>r(!0),onError:()=>t(!0),onEnded:()=>{x(!1),z(!0)},onPlay:()=>{x(!0),g?.(!0)},onPause:()=>{x(!1),g?.(!1)},onTimeUpdate:a=>{let b=1e3*a.target.currentTime;f?.(b)}})}),!o&&!s&&(y||!w||A)&&(0,h.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),k.current&&(y?(k.current.currentTime=0,k.current.play().catch(console.error),z(!1),x(!0)):w?(k.current.pause(),x(!1)):(k.current.play().catch(console.error),x(!0)))},className:"w-12 h-12 rounded-full bg-black/50 hover:bg-black/70 flex items-center justify-center text-white transition-colors cursor-pointer pointer-events-auto",children:y?(0,h.jsx)(id.RotateCcw,{className:"w-5 h-5"}):w?(0,h.jsx)(ic,{className:"w-5 h-5"}):(0,h.jsx)(ft.Play,{className:"w-5 h-5 ml-0.5"})})}),!o&&(0,h.jsxs)("div",{className:"absolute -top-1 -right-1 flex gap-1",children:[(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),n(!m)},className:"w-6 h-6 rounded-full bg-gray-900/80 hover:bg-gray-800 flex items-center justify-center text-white transition-colors",children:m?(0,h.jsx)(h9,{className:"w-3 h-3"}):(0,h.jsx)(h8,{className:"w-3 h-3"})}),(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),p(!0)},className:"w-6 h-6 rounded-full bg-gray-900/80 hover:bg-gray-800 flex items-center justify-center text-white transition-colors",children:(0,h.jsx)(ia.Minimize2,{className:"w-3 h-3"})}),c&&(0,h.jsx)("button",{onClick:a=>{a.stopPropagation(),c()},className:"w-6 h-6 rounded-full bg-gray-900/80 hover:bg-red-600 flex items-center justify-center text-white transition-colors",children:(0,h.jsx)(fn.X,{className:"w-3 h-3"})})]}),o&&(0,h.jsx)("button",{onClick:()=>p(!1),className:"absolute inset-0 rounded-xl bg-black/40 flex items-center justify-center text-white hover:bg-black/60 transition-colors",children:(0,h.jsx)(ib.Maximize2,{className:"w-4 h-4"})}),!o&&!s&&(0,h.jsx)("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2",children:(0,h.jsx)("div",{className:"px-2 py-0.5 bg-amber-500/90 rounded-full",children:(0,h.jsx)("span",{className:"text-[10px] font-medium text-gray-900",children:"Your guide"})})})]})})})]}):null}async function ig({videoBlob:a,challengeId:b,questId:c,timestamps:d=[]}){let e=new FormData;e.append("video",a,"recording.webm"),e.append("challengeId",b),e.append("questId",c),e.append("timestamps",JSON.stringify(d));let f=await fetch("/api/guidance/videos",{method:"POST",body:e,credentials:"include"});if(!f.ok)throw Error((await f.json().catch(()=>({message:"Upload failed"}))).message||"Failed to upload video");return f.json()}async function ih(a){let b=await fetch(`/api/guidance/videos/${a}`,{credentials:"include"});if(!b.ok)throw Error("Failed to get video status");return b.json()}async function ii(a){try{let b=await fetch(`/api/guidance/challenges/${a}/video`,{credentials:"include"});if(404===b.status)return null;if(!b.ok)throw Error("Failed to get challenge video");return b.json()}catch{return null}}let ij=(0,i.createContext)(null),ik={state:{isActive:!1,currentQuestId:null,currentChallengeIndex:0,currentStepIndex:0,completedQuests:[],completedChallenges:{},isHeaderVisible:!1,playbackMode:"guide"},currentQuest:null,currentChallenge:null,currentStep:null,startQuest:()=>{},startNextChallenge:()=>{},advanceStep:()=>{},previousStep:()=>{},completeChallenge:()=>{},pauseGuidance:()=>{},resumeGuidance:()=>{},toggleHeader:()=>{},resetProgress:()=>{},restartChallenge:()=>{},getChallengeProgress:()=>({completed:0,total:0}),getQuestProgress:()=>({completed:0,total:0}),startChallenge:()=>{},stopChallenge:()=>{},isTestMode:!1,setPlaybackMode:()=>{},videoTimestamps:[],setVideoTimestamps:()=>{},recording:{isRecording:!1,steps:[],selectedQuestId:null,startRoute:null,includeVideo:!1,videoBlob:null,videoStartTime:null,videoUploadId:null,videoUploadStatus:"idle"},startRecording:()=>{},stopRecording:()=>[],clearRecording:()=>{},setVideoBlob:()=>{},setVideoUploadStatus:()=>{},refreshChallengeVideo:async()=>{}};function il(){return(0,i.useContext)(ij)??ik}let im=["/app","/quests","/contacts","/campaigns","/replies","/account","/strategy"];function io(a){return`fluffy-quest-triggered-${a}`}function ip(a){return"true"===localStorage.getItem(io(a))}function iq(a){localStorage.setItem(io(a),"true")}function ir({children:a,autoStartForNewUsers:b=!0}){let c=(0,fq.usePathname)(),d=(0,fq.useRouter)(),{user:e,isLoading:f}=(0,hV.useAuth)(),g=hU({authReady:!f,userId:e?.id??null}),[j,k]=(0,i.useState)(!1),[l,m]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),[p,q]=(0,i.useState)(0),[t,u]=(0,i.useState)(!1),[v,w]=(0,i.useState)(null),x=(0,i.useRef)(!1),y=(0,i.useRef)(null);(0,i.useRef)(null);let z=(0,i.useRef)(null),A=(0,i.useRef)(!1),[,B]=(0,i.useState)(0),[C,D]=(0,i.useState)(null),[E,F]=(0,i.useState)(!1),[G,H]=(0,i.useState)(!1),[I,J]=(0,i.useState)(0),K=(0,i.useRef)(!1),L=(0,i.useRef)(!1),M=(0,i.useRef)(null),[N,O]=(0,i.useState)(!1),[P,Q]=(0,i.useState)(-1),R=(0,i.useRef)([]),S=(0,i.useRef)(!1),T=(0,i.useCallback)(()=>{R.current.forEach(a=>clearTimeout(a)),R.current=[],S.current=!1},[]),U=(0,i.useCallback)((a,b)=>{let c=setTimeout(a,Math.max(0,b));return R.current.push(c),c},[]),V=(0,i.useRef)(g.startQuest);V.current=g.startQuest;let W=(0,i.useRef)(g.advanceStep);W.current=g.advanceStep;let X=(0,i.useRef)(g.pauseGuidance);X.current=g.pauseGuidance;let Y=(0,i.useRef)(g.setVideoTimestamps);Y.current=g.setVideoTimestamps;let{state:Z,currentQuest:$,currentChallenge:_,currentStep:aa,getChallengeProgress:ab,videoTimestamps:ac}=g,ad=im.some(a=>c===a||c.startsWith(a+"/"));"/app"===c||c.startsWith("/app/"),(0,i.useEffect)(()=>{if(!Z.isActive){y.current=null;return}let a="show"===Z.playbackMode&&P>=0?P:Z.currentStepIndex,b=_?.steps[a];if(!b?.route)return;let e=`${Z.currentQuestId}-${Z.currentChallengeIndex}-${a}`;if(y.current!==e){y.current=e;let f=b.route;c===f||c.startsWith(f+"/")||(console.log(`[ROUTE] Navigating to ${f} for step ${a}`),d.push(f))}},[Z.isActive,Z.playbackMode,_,aa,Z.currentQuestId,Z.currentChallengeIndex,Z.currentStepIndex,P,c,d]);let ae=(0,i.useCallback)(async a=>{try{let b=await ii(a);b?.url&&(D(b.url),F(!0))}catch{}},[]);(0,i.useEffect)(()=>{if(!Z.isActive||!_?.id){D(null),F(!1),Y.current([]);return}let a=!1,b=Date.now();return console.log(`[TIMING ${b}] Fetching video for challenge: ${_.id}`),ii(_.id).then(c=>{if(a)return;let d=Date.now();c?.url?(D(c.url),F(!0),c.timestamps&&Array.isArray(c.timestamps)?(console.log(`[TIMING ${d}] Timestamps LOADED (took ${d-b}ms): ${JSON.stringify(c.timestamps)}`),Y.current(c.timestamps)):console.log(`[TIMING ${d}] Video loaded but NO timestamps`)):(D(null),F(!1),Y.current([]))}).catch(()=>{a||(D(null),F(!1),Y.current([]))}),()=>{a=!0}},[Z.isActive,_?.id]),(0,i.useEffect)(()=>{K.current=!1,L.current=!1,O(!1),Q(-1),T(),J(0),H(!1),M.current&&(clearTimeout(M.current),M.current=null)},[_?.id,T]),(0,i.useEffect)(()=>{Z.isActive&&"show"===Z.playbackMode||(L.current=!1,T(),O(!1),Q(-1),S.current=!1)},[Z.isActive,Z.playbackMode,T]);let af=(0,i.useCallback)((a,b,c,d)=>{let e=Date.now();try{let d=r(b.selector,b.contentMatch);if(console.log(`[TIMELINE ${e}] Action for step ${a}: ${b.action}, selector: "${b.selector}", contentMatch: "${b.contentMatch||"none"}", found: ${!!d}`),!d)return void console.warn(`[TIMELINE ${e}] Element NOT found: ${b.selector}`);let f=a===c.length-1;switch(b.action){case"click":if(d instanceof HTMLElement){d.scrollIntoView({behavior:"smooth",block:"center"});let b=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});d.dispatchEvent(b),console.log(`[TIMELINE ${Date.now()}] CLICK dispatched for step ${a}`)}break;case"type":if(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement){d.scrollIntoView({behavior:"smooth",block:"center"}),d.focus();let c=b.value||"",e=Object.getOwnPropertyDescriptor(d instanceof HTMLTextAreaElement?window.HTMLTextAreaElement.prototype:window.HTMLInputElement.prototype,"value")?.set;if(!e)return void console.error("[TIMELINE] Could not get native value setter");e.call(d,""),d.dispatchEvent(new Event("input",{bubbles:!0})),K.current=!0;let f=0,g="",h=setInterval(()=>{f<c.length?(g+=c[f],e.call(d,g),d.dispatchEvent(new Event("input",{bubbles:!0})),f++):(clearInterval(h),d.dispatchEvent(new Event("change",{bubbles:!0})),d.blur(),d.focus(),K.current=!1,console.log(`[TIMELINE ${Date.now()}] TYPE completed for step ${a}`))},200)}break;case"hover":d instanceof HTMLElement&&(d.scrollIntoView({behavior:"smooth",block:"center"}),d.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0})));break;case"view":d instanceof HTMLElement&&d.scrollIntoView({behavior:"smooth",block:"center"})}f&&!L.current&&(L.current=!0,console.log(`[TIMELINE] Last step ${a} - scheduling completion`),M.current=setTimeout(()=>{console.log("[TIMELINE] Completing challenge"),W.current()},1500))}catch(a){console.error("[TIMELINE] Error performing action:",a)}},[]);(0,i.useEffect)(()=>{if(!Z.isActive||"show"!==Z.playbackMode||!_||S.current)return;let a=_.steps,b=ac.length>0;console.log(`[TIMELINE] Starting show mode - ${a.length} steps, hasTimestamps: ${b}`);let c=[],d=a=>200*(a.value||"").length;if(b)for(let b=0;b<a.length;b++){let e,f=ac.find(a=>a.stepIndex===b);if(!f)continue;let g=f.timestamp,h=Math.max(0,g-1200);e="type"===a[b].action?g+d(a[b]):g,c.push({stepIndex:b,showTime:h,actionTime:g,hideTime:e})}else{let b=0;for(let e=0;e<a.length;e++){let f,g=b,h=b+1200;"type"===a[e].action?b=(f=h+d(a[e]))+500:(f=h,b=h+3e3-1200),c.push({stepIndex:e,showTime:g,actionTime:h,hideTime:f})}}return console.log("[TIMELINE] Built timeline:",c),S.current=!0,c.forEach((b,d)=>{let e=a[b.stepIndex];U(()=>{console.log(`[TIMELINE] Showing highlight for step ${b.stepIndex}`),Q(b.stepIndex),O(!0)},b.showTime),U(()=>{console.log(`[TIMELINE] Advancing engine to step ${b.stepIndex} and executing action`),W.current(),af(b.stepIndex,e,a,ac)},b.actionTime),d<c.length-1?U(()=>{console.log(`[TIMELINE] Hiding highlight for step ${b.stepIndex}`),O(!1),Q(-1)},b.hideTime):U(()=>{console.log(`[TIMELINE] Hiding highlight for last step ${b.stepIndex}`),O(!1),Q(-1)},b.hideTime+1500)}),()=>{T()}},[Z.isActive,Z.playbackMode,_,ac,U,T,af]);let ag="show"===Z.playbackMode&&P>=0?_?.steps[P]??aa:aa;(0,i.useEffect)(()=>{if(!b||f||Z.isActive||Z.currentQuestId||t||x.current)return;let a=(a,b)=>{var d;let f=!1!==b.requiresAuth,g=!1!==b.once;if(f&&!e||g&&ip(a)||Z.completedQuests.includes(a)||b.route&&!(c===(d=b.route)||c.startsWith(d+"/")))return!1;switch(b.type){case"newUser":return 0===Z.completedQuests.length;case"firstVisit":case"route":return!0;default:return!1}};for(let b of hI)for(let c of b.challenges)if(c.trigger&&"userEvent"!==c.trigger.type&&a(b.id,c.trigger)){let a=setTimeout(()=>{c.trigger?.type==="newUser"?(w({questId:b.id,challengeId:c.id}),u(!0)):(V.current(b.id),iq(b.id))},hH(c.startDelay,"startDelay"));return()=>clearTimeout(a)}},[b,f,e,c,Z.isActive,Z.currentQuestId,Z.completedQuests,t]),(0,i.useEffect)(()=>{if(!b||f)return;let a=[];for(let b of hI)for(let c of b.challenges)c.trigger?.type==="userEvent"&&c.trigger.eventName&&a.push({quest:b,challenge:c});if(0===a.length)return;let c=b=>{let c=b.type;for(let{quest:b,challenge:d}of a){if(d.trigger?.eventName!==c)continue;let a=!1!==d.trigger.requiresAuth,f=!1!==d.trigger.once;if(!(a&&!e||f&&ip(b.id)||Z.completedQuests.includes(b.id))&&!Z.isActive&&!Z.currentQuestId){V.current(b.id),iq(b.id);break}}},d=Array.from(new Set(a.map(a=>a.challenge.trigger.eventName)));return d.forEach(a=>window.addEventListener(a,c)),()=>{d.forEach(a=>window.removeEventListener(a,c))}},[b,f,e,Z.isActive,Z.currentQuestId,Z.completedQuests]),(0,i.useEffect)(()=>{let a=a=>{let{questId:b,mode:c}=a.detail;b&&V.current(b,c||"guide")},b=a=>{let{questId:b,challengeIndex:c,mode:d}=a.detail;void 0!==b&&void 0!==c&&g.restartChallenge(b,c,d||"guide")},c=()=>{g.resumeGuidance()};return window.addEventListener("guidance:start-quest",a),window.addEventListener("guidance:restart-challenge",b),window.addEventListener("guidance:resume-guidance",c),()=>{window.removeEventListener("guidance:start-quest",a),window.removeEventListener("guidance:restart-challenge",b),window.removeEventListener("guidance:resume-guidance",c)}},[g]),(0,i.useEffect)(()=>{if(Z.isActive&&0===Z.currentStepIndex&&_?.setupEvent&&aa?.route&&c===aa.route){let a=setTimeout(()=>{window.dispatchEvent(new CustomEvent(_.setupEvent))},150);return()=>clearTimeout(a)}},[Z.isActive,Z.currentStepIndex,_,aa,c]),(0,i.useEffect)(()=>{ad&&Z.isActive&&!Z.isHeaderVisible&&!g.isTestMode&&g.pauseGuidance()},[ad,Z.isActive,Z.isHeaderVisible,g,g.isTestMode]),(0,i.useEffect)(()=>{A.current=!1,B(a=>a+1)},[Z.currentQuestId,Z.currentChallengeIndex,Z.currentStepIndex]),(0,i.useEffect)(()=>{let a=aa?.selector,b=aa?.action,c=aa?.advanceDelay;if(!ad||!Z.isActive||!a)return;z.current&&(clearTimeout(z.current),z.current=null);let d=null,e=a=>{let b;if(z.current)return;d=setTimeout(()=>{A.current=!0,B(a=>a+1)},b="type"===a?200*(aa?.value||"").length:0);let e=_&&Z.currentStepIndex===_.steps.length-1;z.current=setTimeout(()=>{W.current()},b+hH(c,"advanceDelay")+4e3*!!e)},f=!1,g=a=>{if(["button","a","input","select","textarea"].includes(a.tagName.toLowerCase()))return!0;let b=a.getAttribute("role");return!!("button"===b||"link"===b||"menuitem"===b||"tab"===b||a.isContentEditable||a.hasAttribute("onclick")||a.hasAttribute("tabindex"))},h=c=>{if("show"===Z.playbackMode)return;let d=c.target,f=null;try{f=r(a,aa?.contentMatch)}catch{}if(f&&(f===d||f.contains(d))){"click"===b&&e("click");return}if(null===d.closest('[data-recorder-ui="true"]')&&null===d.closest('[data-testid="guidance-tooltip"]')&&null===d.closest('[data-testid="fluffy-guide"]')){for(let a of c.composedPath())if(a instanceof Element&&g(a))return void X.current()}},i=c=>{if("show"===Z.playbackMode||"type"!==b||f)return;let d=c.target,g=r(a,aa?.contentMatch);g&&(g===d||g.contains(d))&&(f=!0,e("type"))},j=a=>{"Escape"===a.key&&X.current()};return document.addEventListener("click",h,!0),document.addEventListener("keydown",j),document.addEventListener("input",i,!0),()=>{document.removeEventListener("click",h,!0),document.removeEventListener("keydown",j),document.removeEventListener("input",i,!0),d&&(clearTimeout(d),d=null),z.current&&(clearTimeout(z.current),z.current=null)}},[ad,Z.isActive,Z.playbackMode,Z.currentStepIndex,aa?.selector,aa?.action,aa?.advanceDelay,aa?.value,_]);let ah=(0,i.useRef)(JSON.parse(JSON.stringify(Z.completedChallenges)));(0,i.useEffect)(()=>{if("show"===Z.playbackMode){ah.current=JSON.parse(JSON.stringify(Z.completedChallenges));return}if(!Z.isActive&&_&&$){let a=Z.completedChallenges[$.id]||[],b=ah.current[$.id]||[];!a.includes(_.id)||b.includes(_.id)||j||(m(_.name),o(_.completionMessage||"Great job!"),q(_.completionCredits??110),k(!0))}ah.current=JSON.parse(JSON.stringify(Z.completedChallenges))},[Z.isActive,Z.completedChallenges,_,$,j,Z.playbackMode]);let ai=(0,i.useCallback)(()=>{k(!1),g.pauseGuidance()},[g]),aj=(0,i.useCallback)(()=>{k(!1),g.startNextChallenge()},[g]),ak=(0,i.useCallback)(()=>{Z.isActive?g.pauseGuidance():g.resumeGuidance()},[Z.isActive,g]),al=(0,i.useCallback)(()=>{g.pauseGuidance(),g.toggleHeader()},[g]),am=(0,i.useCallback)(()=>{u(!1);let a=v?.questId??hI[0].id;iq(a),V.current(a,"show"),w(null)},[v]),an=(0,i.useCallback)(()=>{u(!1);let a=v?.questId??hI[0].id;iq(a),V.current(a,"guide"),w(null)},[v]),ao=(0,i.useCallback)(()=>{u(!1),w(null),x.current=!0},[]),ap=ab(),aq={...g,refreshChallengeVideo:ae};return(0,h.jsxs)(ij.Provider,{value:aq,children:[ad&&(0,h.jsx)(hY,{questName:$?.name||"Quest",challengesCompleted:ap.completed,totalChallenges:ap.total,currentChallengeName:_?.name,isVisible:Z.isHeaderVisible,onClose:al}),a,ad&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(it,{onClick:ak,isActive:Z.isActive,onCloseGuide:g.pauseGuidance,starterMode:t,onShowMeMode:am,onGuideMeMode:an,onStarterDismiss:ao}),(0,h.jsx)(ie,{videoUrl:C,isVisible:E&&Z.isActive,onClose:()=>F(!1),position:"bottom-left",size:"small",onTimeUpdate:J,onPlayStateChange:H,canAutoPlay:"show"!==Z.playbackMode||ac.length>0}),Z.isActive&&ag&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s,{targetSelector:ag.selector,contentMatch:ag.contentMatch,isVisible:Z.isActive&&!A.current&&("show"!==Z.playbackMode||N),actionType:ag.action}),(0,h.jsx)(fp,{targetSelector:ag.selector,contentMatch:ag.contentMatch,instruction:ag.instruction,position:ag.tooltipPosition||"auto",isVisible:Z.isActive&&!A.current&&("show"!==Z.playbackMode||N),onDismiss:()=>g.advanceStep(),onBack:()=>g.previousStep(),onClose:()=>g.pauseGuidance(),stepNumber:("show"===Z.playbackMode?P:Z.currentStepIndex)+1,totalSteps:_?.steps.length,playbackMode:Z.playbackMode,hasVideo:!!C,onModeToggle:()=>{g.setPlaybackMode("guide"===Z.playbackMode?"show":"guide")}})]}),(0,h.jsx)(h4,{isVisible:j,challengeName:l,message:n,creditsAwarded:p,onContinue:aj,onDismiss:ai})]})]})}function is({isOpen:a,onClose:b}){let c=(0,fq.usePathname)(),[d,e]=(0,i.useState)("idle"),[f,g]=(0,i.useState)(hI[0]?.id||""),[k,l]=(0,i.useState)(null),[m,n]=(0,i.useState)(null),[o,p]=(0,i.useState)(!1),[q,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)(!1),[u,v]=(0,i.useState)(null),[w,x]=(0,i.useState)(!1),[y,z]=(0,i.useState)(!1),[A,B]=(0,i.useState)(null),[C,D]=(0,i.useState)(!1),[E,F]=(0,i.useState)(0),G=il(),{recording:H,startRecording:I,stopRecording:J,clearRecording:K,setVideoBlob:L,setVideoUploadStatus:M,refreshChallengeVideo:N}=G,[O,P]=(0,i.useState)(!1),Q=function(a={}){let{mimeType:b="video/webm;codecs=vp9",videoBitsPerSecond:c=5e5}=a,[d,e]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),[h,j]=(0,i.useState)(null),[k,l]=(0,i.useState)(null),[m,n]=(0,i.useState)(null),o=(0,i.useRef)(null),p=(0,i.useRef)(null),q=(0,i.useRef)([]),r=(0,i.useCallback)(async()=>{try{l(null);let a=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!0});p.current=a,n(a),g(!0)}catch(a){throw l(a instanceof Error?a.message:"Failed to access camera"),a}},[]),s=(0,i.useCallback)(()=>{p.current&&(p.current.getTracks().forEach(a=>a.stop()),p.current=null),n(null),g(!1)},[]),t=(0,i.useCallback)(()=>{if(!p.current)return void l("No stream available");q.current=[],j(null);let a=new MediaRecorder(p.current,{mimeType:b,videoBitsPerSecond:c});a.ondataavailable=a=>{a.data.size>0&&q.current.push(a.data)},o.current=a,a.start(1e3),e(!0)},[b,c]);return{isRecording:d,isPreviewing:f,videoBlob:h,stream:m,startPreview:r,stopPreview:s,startRecording:t,stopRecording:(0,i.useCallback)(()=>new Promise((a,c)=>{let d=o.current;d&&"inactive"!==d.state?(d.onstop=()=>{let c=new Blob(q.current,{type:b});j(c),e(!1),a(c)},d.stop()):c(Error("No active recording"))}),[b]),getStream:(0,i.useCallback)(()=>p.current,[]),error:k}}();(0,i.useEffect)(()=>{H.isRecording&&"recording"!==d&&!C&&e("recording")},[H.isRecording,d,C]),(0,i.useEffect)(()=>{H.selectedQuestId&&H.selectedQuestId!==f&&g(H.selectedQuestId)},[H.selectedQuestId,f]);let R=(0,i.useRef)(Q.stopPreview);R.current=Q.stopPreview;let S=(0,i.useRef)(Q.getStream);S.current=Q.getStream,(0,i.useEffect)(()=>{a||(S.current()&&R.current(),P(!1))},[a]);let T=async()=>{f?(n(null),l(null),O&&Q.stream&&Q.startRecording(),I(f,c,O),e("recording")):n("Please select a quest before recording")},U=(0,i.useRef)(!1);(0,i.useEffect)(()=>()=>{U.current=!0},[]);let V=async(a,b,c=30)=>{U.current=!1;for(let d=0;d<c;d++){if(U.current||(await new Promise(a=>setTimeout(a,2e3)),U.current))return;try{let c=await ih(a);if(U.current)return;if("completed"===c.status){M("completed",a),N(b);return}if("failed"===c.status)return void M("failed",a)}catch(a){if(U.current)return;console.error("Failed to poll video status:",a)}}U.current||M("failed",a)},W=async()=>{let a=H.videoStartTime,b=H.selectedQuestId||f,d=H.startRoute||c,g=null,h=Q.getStream();if(O&&h){try{g=await Q.stopRecording(),L(g)}catch(a){console.error("Failed to stop video recording:",a)}Q.stopPreview()}let i=J();e("processing");try{let c=await fetch("/api/guidance/generate-challenge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questId:b,startRoute:d,steps:i})});if(!c.ok)throw Error("Failed to generate challenge");let f=await c.json();if(l(f.challenge),e("complete"),g&&f.challenge?.id){M("uploading");try{let c=i.map((b,c)=>({stepIndex:c,timestamp:b.timestamp-(a||i[0]?.timestamp||0),action:b.action})),d=await ig({videoBlob:g,challengeId:f.challenge.id,questId:b,timestamps:c});M("processing",d.id),V(d.id,f.challenge.id)}catch(a){console.error("Failed to upload video:",a),M("failed")}}}catch(a){n(a instanceof Error?a.message:"Failed to generate challenge"),e("idle")}},X=async()=>{if(k&&f){t(!0),v(null);try{let a=await fetch(`/api/guidance/quests/${f}/challenges`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challenge:k})}),b=await a.json();a.ok?v({success:!0,message:b.message||"Challenge inserted successfully!"}):v({success:!1,message:b.message||"Failed to insert challenge"})}catch(a){v({success:!1,message:a instanceof Error?a.message:"Failed to insert challenge"})}finally{t(!1)}}},Y=()=>{A&&(l(A),z(!1),v(null))},Z=()=>{C&&J(),z(!1),B(null),D(!1)},$=(a,b)=>{A&&B({...A,[a]:b})},_=(a,b,c)=>{if(!A)return;let d=[...A.steps];d[a]={...d[a],[b]:c},B({...A,steps:d})};if((0,i.useEffect)(()=>{if(C&&H.steps.length>E){let a=H.steps[H.steps.length-1],b={id:`step-${Date.now()}`,selector:a.selector,action:a.action,instruction:a.textContent||"Click here",tooltipPosition:"auto",route:a.route};A&&B({...A,steps:[...A.steps,b]}),J(),D(!1)}},[C,H.steps.length,E,A,J]),(0,i.useEffect)(()=>{!a&&H.isRecording&&(K(),e("idle"))},[a,H.isRecording,K]),!a||w)return null;let aa=hI.find(a=>a.id===f),ab=H.steps;return(0,j.createPortal)((0,h.jsx)("div",{"data-recorder-ui":"true",children:(0,h.jsx)(fk,{children:(0,h.jsxs)(fc.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-24 right-6 z-[9999] bg-gray-900 rounded-xl shadow-2xl border border-gray-700 w-80 overflow-hidden",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700 bg-gray-800",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("div",{className:`w-2 h-2 rounded-full ${"recording"===d?"bg-red-500 animate-pulse":"bg-gray-500"}`}),(0,h.jsx)("span",{className:"text-sm font-medium text-white",children:"Challenge Recorder"})]}),(0,h.jsx)("button",{onClick:()=>{K(),e("idle"),l(null),n(null),r(!1),v(null),D(!1),b()},className:"text-gray-400 hover:text-white transition-colors","data-testid":"recorder-close",children:(0,h.jsx)(fn.X,{className:"h-4 w-4"})})]}),(0,h.jsxs)("div",{className:"p-4 space-y-4",children:["idle"===d&&(0,h.jsxs)(h.Fragment,{children:[0===hI.length?(0,h.jsxs)("div",{className:"text-center py-4",children:[(0,h.jsx)("p",{className:"text-sm text-gray-400",children:"No quests available."}),(0,h.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Add quests to the quests.ts file first."})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Select Quest"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsxs)("button",{onClick:()=>r(!q),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm hover:border-gray-500 transition-colors","data-testid":"quest-selector",children:[(0,h.jsxs)("span",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{children:aa?.emoji}),(0,h.jsx)("span",{className:"truncate",children:aa?.name})]}),(0,h.jsx)(ga,{className:`h-4 w-4 transition-transform ${q?"rotate-180":""}`})]}),(0,h.jsx)(fk,{children:q&&(0,h.jsx)(fc.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl max-h-48 overflow-y-auto z-50",children:hI.map(a=>(0,h.jsxs)("button",{onClick:()=>{g(a.id),r(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-left text-sm hover:bg-gray-700 transition-colors ${a.id===f?"bg-gray-700 text-amber-400":"text-white"}`,children:[(0,h.jsx)("span",{children:a.emoji}),(0,h.jsx)("span",{className:"truncate",children:a.name})]},a.id))})})]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2 py-2",children:[(0,h.jsx)(gz,{id:"include-video",checked:O,onCheckedChange:async a=>{let b=!0===a;if(P(b),b)try{await Q.startPreview()}catch(a){n("Failed to access camera. Please allow camera access."),P(!1)}else Q.stopPreview()}}),(0,h.jsxs)("label",{htmlFor:"include-video",className:"text-sm text-gray-300 flex items-center gap-2 cursor-pointer",children:[(0,h.jsx)(gi,{className:"h-4 w-4 text-amber-400"}),"Include video recording"]})]}),O&&Q.stream&&(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsx)(h7,{stream:Q.stream,isRecording:!1,className:"w-full h-32 rounded-lg"}),(0,h.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use a solid green/blue background for best results"})]}),(0,h.jsxs)(gj.Button,{onClick:T,disabled:!f,className:"w-full bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"start-recording",children:[(0,h.jsx)(fu.Circle,{className:"h-4 w-4 mr-2 fill-current"}),"Start Recording"]})]}),m&&(0,h.jsx)("p",{className:"text-sm text-red-400",children:m})]}),"recording"===d&&(0,h.jsxs)(h.Fragment,{children:[H.includeVideo&&Q.stream&&(0,h.jsx)("div",{className:"mb-2",children:(0,h.jsx)(h7,{stream:Q.stream,isRecording:Q.isRecording,className:"w-full h-24"})}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Recording Steps"}),(0,h.jsxs)("span",{className:"text-xs text-amber-400 font-medium",children:[ab.length," steps"]})]}),(0,h.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:0===ab.length?(0,h.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Click elements to record steps..."}):ab.map((a,b)=>(0,h.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-300 bg-gray-800 rounded px-2 py-1",children:[(0,h.jsx)("span",{className:"text-amber-400",children:a.action}),(0,h.jsx)("span",{className:"truncate",children:a.textContent||a.selector})]},b))})]}),(0,h.jsxs)(gj.Button,{onClick:W,disabled:0===ab.length,className:"w-full bg-amber-600 hover:bg-amber-700 text-white","data-testid":"stop-recording",children:[(0,h.jsx)(f6,{className:"h-4 w-4 mr-2 fill-current"}),"Stop & Generate"]})]}),"processing"===d&&(0,h.jsxs)("div",{className:"flex flex-col items-center gap-3 py-4",children:[(0,h.jsx)(f7.Loader2,{className:"h-8 w-8 text-amber-400 animate-spin"}),(0,h.jsx)("p",{className:"text-sm text-gray-300",children:"Generating challenge with AI..."})]}),"complete"===d&&k&&!y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(f8.Check,{className:"h-4 w-4 text-green-400"}),(0,h.jsx)("span",{className:"text-sm font-medium text-white",children:"Challenge Generated!"})]}),(0,h.jsx)("button",{onClick:()=>{k&&(B(JSON.parse(JSON.stringify(k))),z(!0))},className:"text-gray-400 hover:text-amber-400 transition-colors","data-testid":"edit-challenge",children:(0,h.jsx)(gc,{className:"h-4 w-4"})})]}),(0,h.jsxs)("button",{onClick:a=>{if(a.stopPropagation(),a.preventDefault(),!k)return;let b={...k,id:`sandbox_${Date.now()}`};x(!0),G.startChallenge(b,()=>{x(!1)})},className:"w-full text-left bg-gray-800 rounded-lg p-3 space-y-2 hover:bg-gray-700 transition-colors cursor-pointer border border-transparent hover:border-amber-500/50 group","data-testid":"test-challenge-card",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-lg",children:k.emoji}),(0,h.jsx)("span",{className:"text-sm font-medium text-white",children:k.name})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1 text-xs text-amber-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,h.jsx)(ft.Play,{className:"h-3 w-3"}),(0,h.jsx)("span",{children:"Test"})]})]}),(0,h.jsx)("p",{className:"text-xs text-gray-400",children:k.description}),(0,h.jsxs)("p",{className:"text-xs text-gray-500",children:[k.steps.length," steps"]})]})]}),u&&(0,h.jsx)("div",{className:`text-xs px-3 py-2 rounded-lg ${u.success?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:u.message}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)(gj.Button,{onClick:X,disabled:s||u?.success,className:"w-full bg-green-600 hover:bg-green-700 text-white disabled:opacity-50","data-testid":"insert-challenge",children:[s?(0,h.jsx)(f7.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):u?.success?(0,h.jsx)(f8.Check,{className:"h-4 w-4 mr-2"}):(0,h.jsx)(gb,{className:"h-4 w-4 mr-2"}),s?"Inserting...":u?.success?"Inserted!":"Insert into Quest File"]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)(gj.Button,{onClick:()=>{if(!k)return;let a=JSON.stringify(k,null,2);navigator.clipboard.writeText(a),p(!0),setTimeout(()=>p(!1),2e3)},variant:"outline",className:"flex-1 border-gray-600 text-white hover:bg-gray-800","data-testid":"copy-challenge",children:[o?(0,h.jsx)(f8.Check,{className:"h-4 w-4 mr-2"}):(0,h.jsx)(f9.Copy,{className:"h-4 w-4 mr-2"}),o?"Copied!":"Copy"]}),(0,h.jsx)(gj.Button,{onClick:()=>{K(),e("idle"),l(null),n(null),v(null),z(!1),B(null),D(!1)},className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white","data-testid":"record-another",children:"Record Another"})]})]})]}),"complete"===d&&y&&A&&(0,h.jsxs)("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("span",{className:"text-sm font-medium text-white",children:"Edit Challenge"}),(0,h.jsxs)("div",{className:"flex gap-1",children:[(0,h.jsx)("button",{onClick:Z,className:"text-gray-400 hover:text-white transition-colors p-1","data-testid":"cancel-edit",children:(0,h.jsx)(fn.X,{className:"h-4 w-4"})}),(0,h.jsx)("button",{onClick:Y,className:"text-green-400 hover:text-green-300 transition-colors p-1","data-testid":"save-edit",children:(0,h.jsx)(gg.Save,{className:"h-4 w-4"})})]})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)("div",{className:"w-12",children:[(0,h.jsx)("label",{className:"text-xs text-gray-500",children:"Emoji"}),(0,h.jsx)(gk.Input,{value:A.emoji,onChange:a=>$("emoji",a.target.value),className:"bg-gray-800 border-gray-600 text-white text-center px-1","data-testid":"edit-emoji"})]}),(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("label",{className:"text-xs text-gray-500",children:"Name"}),(0,h.jsx)(gk.Input,{value:A.name,onChange:a=>$("name",a.target.value),className:"bg-gray-800 border-gray-600 text-white","data-testid":"edit-name"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-gray-500",children:"Description"}),(0,h.jsx)(gl.Textarea,{value:A.description,onChange:a=>$("description",a.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm resize-none",rows:2,"data-testid":"edit-description"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-gray-500",children:"Completion Message"}),(0,h.jsx)(gl.Textarea,{value:A.completionMessage,onChange:a=>$("completionMessage",a.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm resize-none",rows:2,"data-testid":"edit-completion-message"})]})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("label",{className:"text-xs text-gray-500 uppercase tracking-wide",children:["Steps (",A.steps.length,")"]}),(0,h.jsxs)("button",{onClick:()=>{F(H.steps.length),D(!0),I(f,c)},disabled:C,className:"flex items-center gap-1 text-xs text-amber-400 hover:text-amber-300 disabled:opacity-50 transition-colors","data-testid":"add-step-btn",children:[(0,h.jsx)(gh.Plus,{className:"h-3 w-3"}),(0,h.jsx)("span",{children:"Add Step"})]})]}),C&&(0,h.jsxs)("div",{className:"bg-amber-900/30 border border-amber-500/50 rounded-lg p-3 text-center",children:[(0,h.jsxs)("div",{className:"flex items-center justify-center gap-2 text-amber-400",children:[(0,h.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),(0,h.jsx)("span",{className:"text-xs font-medium",children:"Click an element to add as a step..."})]}),(0,h.jsx)("button",{onClick:()=>{J(),D(!1)},className:"mt-2 text-xs text-gray-400 hover:text-white","data-testid":"cancel-add-step",children:"Cancel"})]}),A.steps.map((a,b)=>(0,h.jsxs)("div",{className:"bg-gray-800 rounded-lg p-2 space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("span",{className:"text-xs text-amber-400 font-medium",children:["Step ",b+1]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[(0,h.jsx)("button",{onClick:()=>(a=>{if(!A||0===a)return;let b=[...A.steps];[b[a-1],b[a]]=[b[a],b[a-1]],B({...A,steps:b})})(b),disabled:0===b,className:"text-gray-400 hover:text-white disabled:opacity-30 p-0.5","data-testid":`step-up-${b}`,children:(0,h.jsx)(gd,{className:"h-3 w-3"})}),(0,h.jsx)("button",{onClick:()=>(a=>{if(!A||a===A.steps.length-1)return;let b=[...A.steps];[b[a],b[a+1]]=[b[a+1],b[a]],B({...A,steps:b})})(b),disabled:b===A.steps.length-1,className:"text-gray-400 hover:text-white disabled:opacity-30 p-0.5","data-testid":`step-down-${b}`,children:(0,h.jsx)(ge,{className:"h-3 w-3"})}),(0,h.jsx)("button",{onClick:()=>(a=>{if(!A)return;let b=A.steps.filter((b,c)=>c!==a);B({...A,steps:b})})(b),className:"text-red-400 hover:text-red-300 p-0.5","data-testid":`step-delete-${b}`,children:(0,h.jsx)(gf.Trash2,{className:"h-3 w-3"})})]})]}),(0,h.jsx)(gl.Textarea,{value:a.instruction,onChange:a=>_(b,"instruction",a.target.value),className:"bg-gray-700 border-gray-600 text-white text-xs resize-none",rows:2,placeholder:"Instruction...","data-testid":`step-instruction-${b}`}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsxs)(gW,{value:a.tooltipPosition||"auto",onValueChange:a=>_(b,"tooltipPosition",a),children:[(0,h.jsx)(hB,{className:"bg-gray-700 border-gray-600 text-white text-xs h-7","data-testid":`step-position-${b}`,children:(0,h.jsx)(g$,{placeholder:"Position"})}),(0,h.jsxs)(hE,{className:"bg-gray-800 border-gray-600",children:[(0,h.jsx)(hF,{value:"auto",className:"text-white text-xs",children:"Auto"}),(0,h.jsx)(hF,{value:"top",className:"text-white text-xs",children:"Top"}),(0,h.jsx)(hF,{value:"bottom",className:"text-white text-xs",children:"Bottom"}),(0,h.jsx)(hF,{value:"left",className:"text-white text-xs",children:"Left"}),(0,h.jsx)(hF,{value:"right",className:"text-white text-xs",children:"Right"})]})]})}),(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsx)("span",{className:"text-[10px] text-gray-500 truncate block",children:a.selector})})]})]},a.id||b))]}),(0,h.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,h.jsx)(gj.Button,{onClick:Z,variant:"outline",className:"flex-1 border-gray-600 text-white hover:bg-gray-800","data-testid":"cancel-edit-btn",children:"Cancel"}),(0,h.jsxs)(gj.Button,{onClick:Y,className:"flex-1 bg-green-600 hover:bg-green-700 text-white","data-testid":"save-edit-btn",children:[(0,h.jsx)(gg.Save,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})]})})}),document.body)}function it({onClick:a,isActive:b,onCloseGuide:c,starterMode:d=!1,onShowMeMode:e,onGuideMeMode:f,onStarterDismiss:g}){console.log("[FluffyGuide] render:",{isActive:b,starterMode:d});let k=(0,fq.useRouter)(),[l,m]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[p,q]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d&&(m(!0),s(!0))},[d]),(0,i.useEffect)(()=>{let a=setInterval(()=>{o(!0),setTimeout(()=>o(!1),1500)},18e4);return()=>clearInterval(a)},[]);let t=l||d;return(0,j.createPortal)((0,h.jsxs)("div",{"data-recorder-ui":"true",children:[!b&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(fk,{children:t&&(0,h.jsx)(fc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9980]",onClick:()=>{d&&g?.(),m(!1),s(!1)}})}),(0,h.jsxs)(fc.div,{className:"fixed bottom-6 right-6 z-[9990]",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:[(0,h.jsx)(fk,{children:t&&(0,h.jsx)(fc.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute bottom-full mb-3 right-0 bg-gray-900 rounded-xl shadow-2xl border border-gray-700 overflow-hidden min-w-[200px]",children:r?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"px-4 py-3 border-b border-gray-700 flex items-center gap-2",children:[!d&&(0,h.jsx)("button",{onClick:()=>{s(!1)},className:"text-gray-400 hover:text-white transition-colors","data-testid":"fluffy-back-to-menu",children:(0,h.jsx)(fl.ChevronLeft,{className:"h-4 w-4"})}),(0,h.jsx)("p",{className:"text-white text-sm font-medium",children:"Choose your tour style"})]}),(0,h.jsx)(fQ,{delayDuration:500,children:(0,h.jsxs)(fU,{children:[(0,h.jsx)(fW,{asChild:!0,children:(0,h.jsxs)("button",{onClick:()=>{m(!1),s(!1),e?.()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors","data-testid":"fluffy-show-me",children:[(0,h.jsx)(ft.Play,{className:"h-4 w-4 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Show-me Mode"})]})}),(0,h.jsx)(f5,{side:"left",className:"bg-gray-900 text-white border-gray-700",children:(0,h.jsx)("p",{className:"text-xs",children:"Watch how it works"})})]})}),(0,h.jsx)(fQ,{delayDuration:500,children:(0,h.jsxs)(fU,{children:[(0,h.jsx)(fW,{asChild:!0,children:(0,h.jsxs)("button",{onClick:()=>{m(!1),s(!1),f?.()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors border-t border-gray-700","data-testid":"fluffy-guide-me",children:[(0,h.jsx)(fv,{className:"h-4 w-4 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Guide-me Mode"})]})}),(0,h.jsx)(f5,{side:"left",className:"bg-gray-900 text-white border-gray-700",children:(0,h.jsx)("p",{className:"text-xs",children:"Try it yourself"})})]})}),(0,h.jsxs)("button",{onClick:()=>{m(!1),s(!1),g?.()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-400 hover:bg-gray-800 hover:text-white transition-colors border-t border-gray-700","data-testid":"fluffy-not-now",children:[(0,h.jsx)(fn.X,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Not now"})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("button",{onClick:()=>{s(!0)},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors","data-testid":"fluffy-getting-started",children:[(0,h.jsx)(fw,{className:"h-4 w-4 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Getting Started"})]}),(0,h.jsxs)("button",{onClick:()=>{m(!1),a?.()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors border-t border-gray-700","data-testid":"fluffy-start-quest",children:[(0,h.jsx)(ft.Play,{className:"h-4 w-4 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Start Quest"})]}),(0,h.jsxs)("button",{onClick:()=>{m(!1),k.push("/quests")},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors border-t border-gray-700","data-testid":"fluffy-view-quests",children:[(0,h.jsx)(fs,{className:"h-4 w-4 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"View All Quests"})]}),(0,h.jsxs)("button",{onClick:()=>{m(!1),q(!0)},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors border-t border-gray-700","data-testid":"fluffy-record-challenge",children:[(0,h.jsx)(fu.Circle,{className:"h-4 w-4 text-red-400 fill-current"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Record Challenge"})]}),(0,h.jsx)(fQ,{children:(0,h.jsxs)(fU,{children:[(0,h.jsx)(fW,{asChild:!0,children:(0,h.jsxs)("button",{onClick:()=>{m(!1),c?.()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-400 hover:bg-gray-800 hover:text-white transition-colors border-t border-gray-700","data-testid":"fluffy-close-guide",children:[(0,h.jsx)(fn.X,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Close Fluffy"})]})}),(0,h.jsx)(f5,{side:"left",className:"bg-gray-800 text-white border-gray-700",children:(0,h.jsx)("p",{children:"You can open this again from the quest page"})})]})})]})})}),(0,h.jsxs)("button",{onClick:()=>{b?a?.():m(!l)},className:`group transition-opacity duration-200 ${t?"opacity-100":"opacity-50 hover:opacity-100"}`,"data-testid":"fluffy-guide-button",children:[(0,h.jsx)(fc.div,{className:"relative w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center shadow-lg cursor-pointer",animate:{y:n&&!t?[0,-4,0,-2,0]:0,scale:1},transition:{y:{duration:1.2,ease:[.25,.1,.25,1]},scale:{duration:.2}},whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,h.jsx)("span",{className:"text-xl",children:t?"":""})}),(0,h.jsxs)(fc.div,{initial:{opacity:0,x:10},whileHover:{opacity:1,x:0},className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap shadow-lg pointer-events-none",children:["Start Quest",(0,h.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1 border-l-8 border-l-gray-800 border-y-4 border-y-transparent"})]})]})]})]}),(0,h.jsx)(is,{isOpen:p,onClose:()=>q(!1)})]}),document.body)}var iu=a.i(43108),iv=a.i(210),iw=a.i(77156),ix=a.i(21006);let iy=(0,fr.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function iz({recipientName:a="Your Name",completionDate:b,isUnlocked:c}){let d=b||new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,h.jsxs)("div",{className:`
      relative w-full aspect-[1.4] rounded-lg overflow-hidden
      bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900
      border-2 ${c?"border-amber-500/50":"border-gray-700/50"}
      shadow-2xl
    `,children:[(0,h.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-amber-900/20 via-transparent to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 right-0 w-1 h-full bg-gradient-to-b from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-3 left-3 w-8 h-8 border-t-2 border-l-2 border-amber-500/60 rounded-tl-lg"}),(0,h.jsx)("div",{className:"absolute top-3 right-3 w-8 h-8 border-t-2 border-r-2 border-amber-500/60 rounded-tr-lg"}),(0,h.jsx)("div",{className:"absolute bottom-3 left-3 w-8 h-8 border-b-2 border-l-2 border-amber-500/60 rounded-bl-lg"}),(0,h.jsx)("div",{className:"absolute bottom-3 right-3 w-8 h-8 border-b-2 border-r-2 border-amber-500/60 rounded-br-lg"}),(0,h.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center p-4 text-center",children:[(0,h.jsx)("div",{className:"mb-2",children:(0,h.jsx)(iy,{className:`h-6 w-6 ${c?"text-amber-400":"text-gray-500"}`})}),(0,h.jsx)("p",{className:`text-[6px] uppercase tracking-[0.15em] ${c?"text-amber-400/80":"text-gray-500"} mb-0.5`,children:"5Ducks GTM Mastery Program"}),(0,h.jsx)("h3",{className:"text-[9px] font-bold text-white mb-0.5",children:"Prospecting & Email Campaigns"}),(0,h.jsx)("p",{className:"text-[6px] text-gray-400 mb-1",children:"This certifies that"}),(0,h.jsx)("p",{className:`text-xs font-semibold ${c?"text-amber-300":"text-gray-400"} mb-2`,children:a}),(0,h.jsx)("p",{className:"text-[6px] text-gray-500",children:d}),!c&&(0,h.jsx)("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-[1px] flex items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)(iu.Lock,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),(0,h.jsx)("p",{className:"text-[8px] text-gray-400",children:"Complete all quests"})]})})]})]})}function iA({recipientName:a,completionDate:b,credentialId:c}){let d;return(0,h.jsxs)("div",{className:"relative w-full max-w-2xl mx-auto aspect-[1.4] rounded-xl overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border-2 border-amber-500/50 shadow-2xl",children:[(0,h.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-amber-900/30 via-transparent to-transparent"}),(0,h.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,_var(--tw-gradient-stops))] from-amber-800/10 via-transparent to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 left-0 w-2 h-full bg-gradient-to-b from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-0 right-0 w-2 h-full bg-gradient-to-b from-transparent via-amber-500 to-transparent"}),(0,h.jsx)("div",{className:"absolute top-6 left-6 w-16 h-16 border-t-4 border-l-4 border-amber-500/60 rounded-tl-2xl"}),(0,h.jsx)("div",{className:"absolute top-6 right-6 w-16 h-16 border-t-4 border-r-4 border-amber-500/60 rounded-tr-2xl"}),(0,h.jsx)("div",{className:"absolute bottom-6 left-6 w-16 h-16 border-b-4 border-l-4 border-amber-500/60 rounded-bl-2xl"}),(0,h.jsx)("div",{className:"absolute bottom-6 right-6 w-16 h-16 border-b-4 border-r-4 border-amber-500/60 rounded-br-2xl"}),(0,h.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center p-8 md:p-12 text-center",children:[(0,h.jsx)(fc.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mb-4",children:(0,h.jsx)("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center shadow-lg shadow-amber-500/30",children:(0,h.jsx)(iy,{className:"h-8 w-8 md:h-10 md:w-10 text-gray-900"})})}),(0,h.jsx)(fc.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xs md:text-sm uppercase tracking-[0.2em] text-amber-400/80 mb-1",children:"5Ducks GTM Mastery Program"}),(0,h.jsx)(fc.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-xl md:text-3xl font-bold text-white mb-4",children:"Prospecting & Email Campaigns"}),(0,h.jsxs)(fc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-4",children:[(0,h.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"This certifies that"}),(0,h.jsx)("p",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-amber-300 via-amber-400 to-amber-300 bg-clip-text text-transparent",children:a})]}),(0,h.jsx)(fc.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-xs md:text-sm text-gray-300 max-w-md mb-6",children:"has successfully completed all quests and demonstrated proficiency in B2B prospecting and email campaign management"}),(0,h.jsxs)(fc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col items-center mt-2",children:[(0,h.jsx)("svg",{width:"120",height:"35",viewBox:"0 0 140 40",className:"-mb-1",style:{transform:"rotate(-2deg) skewX(-12deg)"},children:(0,h.jsx)("path",{d:"M6 34 C2 28, 0 18, 6 10 C12 2, 24 0, 30 8 C36 16, 32 28, 22 34 C12 40, 8 42, 18 38 C28 34, 34 26, 40 20 C46 14, 52 12, 56 16 C60 20, 58 26, 54 30 C50 34, 48 36, 54 34 C60 32, 68 26, 78 20 C88 14, 100 12, 110 18 C120 24, 116 32, 130 28",fill:"none",stroke:"#D1D5DB",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,h.jsx)("div",{className:"w-40 h-px bg-gray-600 mb-2"}),(0,h.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Director of GTM Programs"}),(0,h.jsx)("p",{className:"text-xs text-gray-500",children:b})]}),(0,h.jsxs)(fc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"absolute bottom-2 left-0 right-0 px-8 flex justify-between items-center",children:[(0,h.jsx)("span",{className:"text-[9px] text-gray-500",children:" 5Ducks 2025, 10005 NY, USA"}),(0,h.jsx)("span",{className:"text-[8px] text-gray-600 font-mono",children:(d=(c||"0").padStart(6,"0"),`${d}-PE021`)})]})]})]})}var iB=a.i(84505),iC=a.i(74633);async function iD(b,c,d){let e,{PDFDocument:f,rgb:g,StandardFonts:h}=await a.A(61133),i=await f.create(),j=i.addPage([842,595]),k=g(.05,.05,.08);j.drawRectangle({x:0,y:0,width:842,height:595,color:k});let l=g(.96,.72,.15),m=g(.99,.82,.4),n=g(.85,.65,.13),o=g(.6,.6,.65),p=g(.95,.95,.95);j.drawRectangle({x:1.5,y:1.5,width:839,height:592,borderColor:l,borderWidth:3,opacity:.5}),j.drawLine({start:{x:20,y:575},end:{x:20,y:535},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:20,y:575},end:{x:60,y:575},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:822,y:575},end:{x:822,y:535},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:822,y:575},end:{x:782,y:575},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:20,y:20},end:{x:20,y:60},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:20,y:20},end:{x:60,y:20},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:822,y:20},end:{x:822,y:60},thickness:4,color:l,opacity:.6}),j.drawLine({start:{x:822,y:20},end:{x:782,y:20},thickness:4,color:l,opacity:.6});let q=await i.embedFont(h.HelveticaBold),r=await i.embedFont(h.Helvetica),s=await i.embedFont(h.TimesRomanItalic);j.drawCircle({x:421,y:475,size:35,color:n}),j.drawCircle({x:421,y:475,size:28,color:l});let t="5DUCKS GTM MASTERY PROGRAM",u=r.widthOfTextAtSize(t,12);j.drawText(t,{x:(842-u)/2,y:420,size:12,font:r,color:m});let v="Prospecting & Email Campaigns",w=q.widthOfTextAtSize(v,28);j.drawText(v,{x:(842-w)/2,y:380,size:28,font:q,color:p});let x="This certifies that",y=r.widthOfTextAtSize(x,14);j.drawText(x,{x:(842-y)/2,y:315,size:14,font:r,color:o});let z=q.widthOfTextAtSize(b,40);j.drawText(b,{x:(842-z)/2,y:265,size:40,font:q,color:m});let A="has successfully completed all quests and demonstrated proficiency",B=r.widthOfTextAtSize(A,10);j.drawText(A,{x:(842-B)/2,y:220,size:10,font:r,color:o});let C="in B2B prospecting and email campaign management",D=r.widthOfTextAtSize(C,10);j.drawText(C,{x:(842-D)/2,y:203,size:10,font:r,color:o});let E=g(.15,.15,.15),F="Jm~rrsn",G=s.widthOfTextAtSize(F,24);j.drawText(F,{x:(842-G)/2,y:160,size:24,font:s,color:E});j.drawLine({start:{x:331,y:140},end:{x:511,y:140},thickness:1,color:o,opacity:.6});let H="Director of GTM Programs",I=r.widthOfTextAtSize(H,10);j.drawText(H,{x:(842-I)/2,y:125,size:10,font:r,color:o});let J=r.widthOfTextAtSize(c,10);j.drawText(c,{x:(842-J)/2,y:110,size:10,font:r,color:o}),j.drawText(" 5Ducks 2025, 10005 NY, USA",{x:30,y:12,size:7,font:r,color:o});let K=(e=(d||"0").padStart(6,"0"),`${e}-PE021`),L=r.widthOfTextAtSize(K,7);return j.drawText(K,{x:812-L,y:12,size:7,font:r,color:o}),i.save()}function iE({isOpen:a,onClose:b,recipientName:c,completionDate:d,isUnlocked:e,userId:f}){let[g,j]=(0,i.useState)(!1),k=async()=>{if(e){j(!0);try{let a=await iD(c,d,f),b=new Blob([a],{type:"application/pdf"}),e=URL.createObjectURL(b),g=document.createElement("a");g.href=e,g.download=`5Ducks-Certificate-${c.replace(/\s+/g,"-")}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(e)}catch(a){console.error("Failed to generate certificate:",a)}finally{j(!1)}}};return(0,h.jsx)(iC.Dialog,{open:a,onOpenChange:a=>!a&&b(),children:(0,h.jsx)(iC.DialogContent,{className:"max-w-3xl bg-gray-950 border-gray-800 p-0 overflow-hidden",children:(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("button",{onClick:b,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-gray-800/80 hover:bg-gray-700 transition-colors","data-testid":"certificate-modal-close",children:(0,h.jsx)(fn.X,{className:"h-5 w-5 text-gray-400"})}),(0,h.jsxs)("div",{className:"p-6 md:p-8",children:[(0,h.jsx)(iA,{recipientName:c,completionDate:d,credentialId:f}),(0,h.jsx)("div",{className:"mt-6 flex justify-center",children:(0,h.jsx)(gj.Button,{onClick:k,disabled:!e||g,className:`
                  ${e?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":"bg-gray-700 cursor-not-allowed"} text-white px-6
                `,"data-testid":"certificate-download-button",children:g?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f7.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating PDF..."]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(iB.Download,{className:"h-4 w-4 mr-2"}),e?"Download Certificate":"Complete All Quests to Download"]})})}),!e&&(0,h.jsx)("p",{className:"text-center text-sm text-gray-500 mt-3",children:"This is a preview. Complete all quests to unlock your personalized certificate."})]})]})})})}function iF({recipientName:a,completionDate:b,isUnlocked:c,questsCompleted:d,totalQuests:e,userId:f}){let[g,j]=(0,i.useState)(!1),k=b||new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(fc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-10 mb-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,h.jsx)(iy,{className:"h-5 w-5 text-amber-400"}),(0,h.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Your Certificate"})]}),(0,h.jsx)("div",{className:`
          relative p-6 rounded-xl border backdrop-blur-sm
          ${c?"bg-gradient-to-br from-amber-900/20 to-orange-900/10 border-amber-500/30":"bg-gray-900/50 border-gray-700/50"}
        `,children:(0,h.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,h.jsxs)("button",{onClick:()=>j(!0),className:"group relative w-48 cursor-pointer","data-testid":"certificate-thumbnail",children:[(0,h.jsx)(iz,{recipientName:a,completionDate:k,isUnlocked:c}),(0,h.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,h.jsxs)("div",{className:"bg-white/90 text-gray-900 px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5",children:[(0,h.jsx)(iw.Eye,{className:"h-3.5 w-3.5"}),"Preview"]})})]}),(0,h.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,h.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Prospecting & Email Campaigns Certificate"}),c?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-gray-400 mb-4",children:"Congratulations! You've completed all quests and earned your certificate. Click the preview to view and download your personalized certificate."}),(0,h.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-500/20 text-green-400 rounded-full text-sm",children:[(0,h.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Unlocked"]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-gray-400 mb-4",children:"Complete all quests to unlock your personalized certificate of completion. You can preview what it will look like by clicking the thumbnail."}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"flex-1 max-w-[200px] h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,h.jsx)(fc.div,{initial:{width:0},animate:{width:`${d/e*100}%`},className:"h-full bg-amber-500 rounded-full"})}),(0,h.jsxs)("span",{className:"text-sm text-gray-500",children:[d,"/",e," quests"]})]})]})]})]})})]}),(0,h.jsx)(iE,{isOpen:g,onClose:()=>j(!1),recipientName:a,completionDate:k,isUnlocked:c,userId:f})]})}function iG({quest:a,questIndex:b,status:c,completedChallenges:d,currentQuestId:e,currentChallengeIndex:f,isActive:g,onStartQuest:j,onContinueChallenge:k,onRestartChallenge:l,onStartLockedChallenge:m,onShowDemo:n}){let[o,p]=(0,i.useState)("in-progress"===c),[q,r]=(0,i.useState)(null),s=(d[a.id]||[]).length,t=a.challenges.length,u=s/t*100;return(0,h.jsxs)(fc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},className:`
        rounded-xl border backdrop-blur-sm overflow-hidden
        ${"completed"===c?"bg-gradient-to-br from-green-900/30 to-green-800/20 border-green-500/30":"in-progress"===c?"bg-gradient-to-br from-amber-900/30 to-amber-800/20 border-amber-500/30":"bg-gray-900/50 border-gray-700/50 opacity-60"}
      `,children:[(0,h.jsxs)("button",{onClick:()=>"locked"!==c&&p(!o),disabled:"locked"===c,className:"w-full p-5 flex items-center gap-4 text-left hover:bg-white/5 transition-colors disabled:cursor-not-allowed",children:[(0,h.jsx)("div",{className:`
          w-14 h-14 rounded-xl flex items-center justify-center text-2xl
          ${"completed"===c?"bg-green-500/20":"in-progress"===c?"bg-amber-500/20":"bg-gray-700/50"}
        `,children:"completed"===c?(0,h.jsx)(f8.Check,{className:"h-7 w-7 text-green-400"}):"locked"===c?(0,h.jsx)(iu.Lock,{className:"h-6 w-6 text-gray-500"}):(0,h.jsx)("span",{children:a.emoji||""})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsxs)("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:["Quest ",b+1]}),"completed"===c&&(0,h.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full",children:"Complete"})]}),(0,h.jsx)("h3",{className:`text-lg font-semibold ${"locked"===c?"text-gray-500":"text-white"}`,children:a.name}),(0,h.jsx)("p",{className:`text-sm ${"locked"===c?"text-gray-600":"text-gray-400"} line-clamp-1`,children:a.description}),"locked"!==c&&(0,h.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,h.jsx)("div",{className:"flex-1 h-2 bg-gray-700/50 rounded-full overflow-hidden",children:(0,h.jsx)(fc.div,{initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${"completed"===c?"bg-green-500":"bg-amber-500"}`})}),(0,h.jsxs)("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:[s,"/",t]})]})]}),"locked"!==c&&(0,h.jsx)(fc.div,{animate:{rotate:180*!!o},transition:{duration:.2},children:(0,h.jsx)(ga,{className:"h-5 w-5 text-gray-400"})})]}),(0,h.jsx)(fk,{children:o&&"locked"!==c&&(0,h.jsx)(fc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,h.jsx)("div",{className:"px-5 pb-5 space-y-2",children:a.challenges.map((b,i)=>{let o=function(a,b,c,d,e,f,g,h,i){if(0===a.steps.length)return"locked";let j=c[b]||[];return j.includes(a.id)?"completed":i&&d===b&&f===e?"in-progress":h.slice(0,f).every(a=>j.includes(a.id))&&"locked"!==g?"available":"locked"}(b,a.id,d,e,f,i,c,a.challenges,g),p=q===i,s=b.steps.length>0;return(0,h.jsxs)(fc.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*i},onMouseEnter:()=>r(i),onMouseLeave:()=>r(null),onClick:()=>{"completed"===o?l(a.id,i,b.name):"in-progress"===o?k(a.id,i):"available"===o?j(a.id):"locked"===o&&b.steps.length>0&&m(a.id,i)},className:`
                      flex items-center gap-3 p-3 rounded-lg
                      ${"completed"===o?"bg-green-500/10 cursor-pointer hover:bg-green-500/20":"in-progress"===o||"available"===o?"bg-amber-500/10 cursor-pointer hover:bg-amber-500/20":b.steps.length>0?"bg-gray-800/50 cursor-pointer hover:bg-gray-700/50":"bg-gray-800/50"}
                      transition-colors
                    `,children:[(0,h.jsx)("div",{className:`
                      w-8 h-8 rounded-lg flex items-center justify-center
                      ${"completed"===o?"bg-green-500/20":"in-progress"===o||"available"===o?"bg-amber-500/20":"bg-gray-700/50"}
                    `,children:"completed"===o?(0,h.jsx)(f8.Check,{className:"h-4 w-4 text-green-400"}):"in-progress"===o||"available"===o?(0,h.jsx)(ft.Play,{className:"h-4 w-4 text-amber-400"}):(0,h.jsx)(ft.Play,{className:"h-4 w-4 text-gray-500"})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("h4",{className:`text-sm font-medium ${"locked"===o?"text-gray-500":"text-white"}`,children:b.name}),(0,h.jsx)("p",{className:`text-xs ${"locked"===o?"text-gray-600":"text-gray-400"} line-clamp-1`,children:b.description})]}),(0,h.jsx)("div",{className:"text-xs text-gray-500",children:0===b.steps.length?(0,h.jsx)("span",{className:"text-amber-500/70",children:"Coming Soon"}):`${b.steps.length} step${1!==b.steps.length?"s":""}`}),p&&s&&(0,h.jsxs)(gj.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),n(a.id,i)},className:"border-amber-500/50 text-amber-400 hover:bg-amber-500/20 hover:text-amber-300 text-xs px-2 gap-1",children:[(0,h.jsx)(iw.Eye,{className:"h-3 w-3"}),"Show demo"]}),("in-progress"===o||"available"===o||p&&s&&"locked"===o)&&(0,h.jsx)(gj.Button,{size:"sm",onClick:b=>{b.stopPropagation(),"available"===o?j(a.id):"locked"===o?m(a.id,i):k(a.id,i)},className:"bg-amber-500 hover:bg-amber-600 text-white text-xs px-3",children:"in-progress"===o?"Continue":"Start Guide"})]},b.id)})})})})]})}function iH(){let a=(0,fq.useRouter)(),{state:b}=il(),[c,d]=(0,i.useState)(null),e=(a,b,c)=>{d({questId:a,challengeIndex:b,challengeName:c})};(0,i.useEffect)(()=>{let a=document.documentElement,b=a.classList.contains("dark");return a.classList.add("dark"),()=>{b||a.classList.remove("dark")}},[]);let f=b=>{window.dispatchEvent(new CustomEvent("guidance:start-quest",{detail:{questId:b,mode:"guide"}})),a.push("/app")},g=(c,d)=>{b.currentQuestId===c?window.dispatchEvent(new CustomEvent("guidance:resume-guidance")):window.dispatchEvent(new CustomEvent("guidance:start-quest",{detail:{questId:c,mode:"guide"}})),a.push("/app")},j=(b,c)=>{window.dispatchEvent(new CustomEvent("guidance:restart-challenge",{detail:{questId:b,challengeIndex:c,mode:"guide"}})),a.push("/app")},k=(b,c)=>{window.dispatchEvent(new CustomEvent("guidance:restart-challenge",{detail:{questId:b,challengeIndex:c,mode:"show"}})),a.push("/app")},l=hI.length,m=b.completedQuests.length,n=l>0?m/l*100:0;return(0,h.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950",children:(0,h.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,h.jsxs)("button",{onClick:()=>a.push("/app"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[(0,h.jsx)(iv.ArrowLeft,{className:"h-4 w-4"}),(0,h.jsx)("span",{children:"Back to App"})]}),(0,h.jsxs)(fc.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[(0,h.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-amber-500/20 to-orange-500/20 mb-4",children:(0,h.jsx)(fs,{className:"h-10 w-10 text-amber-400"})}),(0,h.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Your Journey"}),(0,h.jsx)("p",{className:"text-gray-400 mb-6",children:"Complete quests to master the platform and unlock new abilities"}),(0,h.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-2",children:[(0,h.jsx)("div",{className:"flex-1 max-w-xs h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,h.jsx)(fc.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-amber-500 to-green-500 rounded-full"})}),(0,h.jsxs)("span",{className:"text-sm text-gray-400",children:[m,"/",l," Quests"]})]}),m===l&&l>0&&(0,h.jsx)(fc.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:(0,h.jsxs)(gj.Button,{onClick:()=>{h_({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#f59e0b","#22c55e","#10b981"]})},className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[(0,h.jsx)(fw,{className:"h-4 w-4 mr-2"}),"Celebrate!"]})})]}),(0,h.jsx)("div",{className:"space-y-4",children:hI.map((a,c)=>{var d,i,l;let m=(d=b.completedQuests,i=b.currentQuestId,l=b.completedQuests.length,d.includes(a.id)?"completed":i===a.id||c<=l?"in-progress":"locked");return(0,h.jsx)(iG,{quest:a,questIndex:c,status:m,completedChallenges:b.completedChallenges,currentQuestId:b.currentQuestId,currentChallengeIndex:b.currentChallengeIndex,isActive:b.isActive,onStartQuest:f,onContinueChallenge:g,onRestartChallenge:e,onStartLockedChallenge:j,onShowDemo:k},a.id)})}),0===hI.length&&(0,h.jsxs)(fc.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,h.jsx)(hX.Target,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),(0,h.jsx)("h2",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No Quests Available"}),(0,h.jsx)("p",{className:"text-gray-500",children:"Check back soon for new challenges!"})]}),(0,h.jsx)(iF,{recipientName:"Your Name",isUnlocked:m===l&&l>0,questsCompleted:m,totalQuests:l,userId:"15"}),(0,h.jsx)(ix.AlertDialog,{open:!!c,onOpenChange:()=>d(null),children:(0,h.jsxs)(ix.AlertDialogContent,{className:"bg-gray-900 border-gray-700",children:[(0,h.jsxs)(ix.AlertDialogHeader,{children:[(0,h.jsx)(ix.AlertDialogTitle,{className:"text-white",children:"Restart Challenge?"}),(0,h.jsxs)(ix.AlertDialogDescription,{className:"text-gray-400",children:['Do you want to restart "',c?.challengeName,'"?']})]}),(0,h.jsxs)(ix.AlertDialogFooter,{children:[(0,h.jsx)(ix.AlertDialogCancel,{className:"bg-gray-800 text-white border-gray-700 hover:bg-gray-700",children:"Cancel"}),(0,h.jsx)(ix.AlertDialogAction,{onClick:()=>{c&&(window.dispatchEvent(new CustomEvent("guidance:restart-challenge",{detail:{questId:c.questId,challengeIndex:c.challengeIndex,mode:"guide"}})),d(null),a.push("/app"))},className:"bg-amber-500 hover:bg-amber-600",children:"Restart"})]})]})})]})})}a.s([],88825),a.s([],38319),a.i(38319),a.i(19183),a.i(67977),a.s(["CertificateFull",()=>iA,"CertificateModal",()=>iE,"CertificatePreview",()=>iz,"CertificateShowcase",()=>iF,"ChallengeComplete",()=>h4,"ChallengeRecorder",()=>is,"ElementHighlight",()=>s,"FluffyGuide",()=>it,"GuidanceTooltip",()=>fp,"QuestProgressHeader",()=>hY,"QuestsPage",()=>iH,"SpotlightOverlay",()=>t],49812),a.i(49812),a.i(28593),a.i(74823),a.s(["GUIDANCE_DEFAULTS",0,hG,"QUESTS",0,hI,"getFirstIncompleteQuest",()=>hL,"getNextQuest",()=>hK,"getQuestById",()=>hJ,"resolveDelay",()=>hH],49536),a.i(49536),a.i(88825),a.s(["GuidanceProvider",()=>ir,"useGuidance",()=>il],1679),a.i(1679),a.s(["CertificateFull",()=>iA,"CertificateModal",()=>iE,"CertificatePreview",()=>iz,"CertificateShowcase",()=>iF,"ChallengeComplete",()=>h4,"ChallengeRecorder",()=>is,"ElementHighlight",()=>s,"FluffyGuide",()=>it,"GUIDANCE_DEFAULTS",0,hG,"GuidanceProvider",()=>ir,"GuidanceTooltip",()=>fp,"QUESTS",0,hI,"QuestProgressHeader",()=>hY,"QuestsPage",()=>iH,"SpotlightOverlay",()=>t,"getFirstIncompleteQuest",()=>hL,"getNextQuest",()=>hK,"getQuestById",()=>hJ,"resolveDelay",()=>hH,"useGuidance",()=>il,"useGuidanceEngine",()=>hU],66427)}];

//# sourceMappingURL=_ca29a3b7._.js.map