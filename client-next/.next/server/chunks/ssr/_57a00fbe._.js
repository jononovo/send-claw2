module.exports=[8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],8406)},86974,58095,67900,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44902);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h],86974);let k=(0,a.i(187).cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=c.forwardRef(({className:a,variant:c,...e},f)=>(0,b.jsx)("div",{ref:f,role:"alert",className:(0,d.cn)(k({variant:c}),a),...e}));l.displayName="Alert",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h5",{ref:e,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",a),...c})).displayName="AlertTitle";let m=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",a),...c}));m.displayName="AlertDescription",a.s(["Alert",()=>l,"AlertDescription",()=>m],58095);let n=(0,a.i(70106).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);a.s(["Building2",()=>n],67900)},95340,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(33217),e=a.i(70025),f=a.i(37927),g=a.i(61021),h=a.i(30518),i=a.i(86974),j=a.i(58095),k=a.i(67900),l=a.i(60246),m=a.i(70106);let n=(0,m.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var o=a.i(92258),p=a.i(210);let q=(0,m.default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),r=(0,m.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),s=(0,m.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),t=(0,m.default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var u=a.i(8406),v=a.i(9233),w=a.i(87563),x=a.i(74642),y=a.i(46552),z=a.i(59676);function A({company:a,initialContacts:m}){let A=(0,c.useRouter)(),{toast:B}=(0,w.useToast)();(0,f.useQueryClient)();let{user:C}=(0,y.useAuth)(),{openModal:D}=(0,z.useRegistrationModal)(),{data:E=m,refetch:F}=(0,d.useQuery)({queryKey:["/api/companies",a.id,"contacts"],initialData:m}),G=(0,e.useMutation)({mutationFn:async()=>{let b=await (0,x.apiRequest)("POST",`/api/companies/${a.id}/enrich-contacts`);if(!b.ok)throw Error("Failed to enrich contacts");return b.json()},onSuccess:async()=>{await F(),B({title:"Contacts Updated",description:"Successfully refreshed company contact information."})},onError:a=>{B({title:"Update Failed",description:a instanceof Error?a.message:"Failed to update contact information",variant:"destructive"})}}),H=[{name:"Website Ranking",value:a.ranking||0,icon:n},{name:"Company Size",value:a.size||0,icon:l.Users},{name:"LinkedIn Score",value:a.linkedinProminence||0,icon:r},{name:"Customer Count",value:a.customerCount||0,icon:k.Building2}];return(0,b.jsxs)("div",{className:"container mx-auto py-8",children:[(0,b.jsxs)(v.Button,{variant:"ghost",className:"mb-6",onClick:()=>{A.push("/")},children:[(0,b.jsx)(p.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsxs)("div",{className:"grid gap-8",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CardTitle,{className:"text-2xl font-bold",children:a.name}),a.description&&(0,b.jsx)(g.CardDescription,{className:"mt-2",children:a.description})]}),(0,b.jsxs)(h.Badge,{className:"text-lg py-2",variant:a.totalScore&&a.totalScore>70?"default":"secondary",children:["Score: ",a.totalScore??"N/A"]})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:H.map(a=>(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a.icon,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name})]}),(0,b.jsx)("p",{className:"text-2xl font-bold mt-2",children:a.value})]})},a.name))})})]}),!C&&E.some(a=>{var b;return!!(b=a.email)&&b.includes("***")})&&(0,b.jsxs)(j.Alert,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:[(0,b.jsx)(u.Sparkles,{className:"h-4 w-4 text-primary"}),(0,b.jsxs)(j.AlertDescription,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Sign up to see the full email address and run search prompts with AI - 100 credits included."}),(0,b.jsx)(v.Button,{size:"sm",onClick:()=>D(),className:"ml-4 shrink-0","data-testid":"button-signup-cta",children:"Sign Up Free"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Mail,{className:"h-5 w-5"}),"Key Contacts"]}),C&&(0,b.jsxs)(v.Button,{variant:"outline",onClick:()=>{G.mutate()},disabled:G.isPending,children:[(0,b.jsx)(s,{className:`h-4 w-4 mr-2 ${G.isPending?"animate-spin":""}`}),"Enrich Contacts"]})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Name"}),(0,b.jsx)(i.TableHead,{children:"Role"}),(0,b.jsx)(i.TableHead,{children:"Email"}),(0,b.jsx)(i.TableHead,{children:"Score"})]})}),(0,b.jsx)(i.TableBody,{children:E.map(a=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(i.TableCell,{children:a.role}),(0,b.jsx)(i.TableCell,{children:a.email}),(0,b.jsx)(i.TableCell,{children:(0,b.jsx)(h.Badge,{variant:"secondary",children:a.probability||0})})]},a.id))})]})})]}),((a.services?.length??0)>0||(a.validationPoints?.length??0)>0)&&(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[a.services&&a.services.length>0&&(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Services Offered"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.services.map((a,c)=>(0,b.jsx)(h.Badge,{variant:"secondary",children:a},c))})})]}),a.validationPoints&&a.validationPoints.length>0&&(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Validation Points"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("ul",{className:"space-y-2",children:a.validationPoints.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)("span",{children:a})]},c))})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"h-5 w-5"}),"Company Information"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(n,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Company Website:"}),a.website?(0,b.jsx)("a",{href:a.website.startsWith("http")?a.website:`https://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.website}):(0,b.jsx)("span",{className:"italic",children:"No website available"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(t,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Company Profile:"}),a.alternativeProfileUrl?(0,b.jsx)("a",{href:a.alternativeProfileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.alternativeProfileUrl}):(0,b.jsx)("span",{className:"italic",children:"No profile link available"})]}),a.age&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,b.jsx)(k.Building2,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Company Age:"}),(0,b.jsxs)("span",{children:[a.age," years"]})]})]})})]})]})]})}a.s(["default",()=>A],95340)}];

//# sourceMappingURL=_57a00fbe._.js.map